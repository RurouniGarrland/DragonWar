<!DOCTYPE html>
<html data-init="no-js">
<head>
<meta charset="UTF-8" />
<title>DW2</title>
<meta name="viewport" content="width=device-width,initial-scale=1" />
<!--

SugarCube (v2.21.0): A free (gratis and libre) story format.

Copyright © 2013–2017 Thomas Michael Edwards <thomasmedwards@gmail.com>.
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this
   list of conditions and the following disclaimer.
2. Redistributions in binary form must reproduce the above copyright notice,
   this list of conditions and the following disclaimer in the documentation
   and/or other materials provided with the distribution.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

-->
<script id="script-libraries" type="text/javascript">
if(document.head&&document.addEventListener&&document.querySelector&&Object.create&&Object.freeze&&JSON){document.documentElement.setAttribute("data-init", "loading");
/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */
if("document" in self){if(!("classList" in document.createElement("_"))){(function(j){"use strict";if(!("Element" in j)){return}var a="classList",f="prototype",m=j.Element[f],b=Object,k=String[f].trim||function(){return this.replace(/^\s+|\s+$/g,"")},c=Array[f].indexOf||function(q){var p=0,o=this.length;for(;p<o;p++){if(p in this&&this[p]===q){return p}}return -1},n=function(o,p){this.name=o;this.code=DOMException[o];this.message=p},g=function(p,o){if(o===""){throw new n("SYNTAX_ERR","An invalid or illegal string was specified")}if(/\s/.test(o)){throw new n("INVALID_CHARACTER_ERR","String contains an invalid character")}return c.call(p,o)},d=function(s){var r=k.call(s.getAttribute("class")||""),q=r?r.split(/\s+/):[],p=0,o=q.length;for(;p<o;p++){this.push(q[p])}this._updateClassName=function(){s.setAttribute("class",this.toString())}},e=d[f]=[],i=function(){return new d(this)};n[f]=Error[f];e.item=function(o){return this[o]||null};e.contains=function(o){o+="";return g(this,o)!==-1};e.add=function(){var s=arguments,r=0,p=s.length,q,o=false;do{q=s[r]+"";if(g(this,q)===-1){this.push(q);o=true}}while(++r<p);if(o){this._updateClassName()}};e.remove=function(){var t=arguments,s=0,p=t.length,r,o=false,q;do{r=t[s]+"";q=g(this,r);while(q!==-1){this.splice(q,1);o=true;q=g(this,r)}}while(++s<p);if(o){this._updateClassName()}};e.toggle=function(p,q){p+="";var o=this.contains(p),r=o?q!==true&&"remove":q!==false&&"add";if(r){this[r](p)}if(q===true||q===false){return q}else{return !o}};e.toString=function(){return this.join(" ")};if(b.defineProperty){var l={get:i,enumerable:true,configurable:true};try{b.defineProperty(m,a,l)}catch(h){if(h.number===-2146823252){l.enumerable=false;b.defineProperty(m,a,l)}}}else{if(b[f].__defineGetter__){m.__defineGetter__(a,i)}}}(self))}else{(function(){var b=document.createElement("_");b.classList.add("c1","c2");if(!b.classList.contains("c2")){var c=function(e){var d=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(h){var g,f=arguments.length;for(g=0;g<f;g++){h=arguments[g];d.call(this,h)}}};c("add");c("remove")}b.classList.toggle("c3",false);if(b.classList.contains("c3")){var a=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(d,e){if(1 in arguments&&!this.contains(d)===!e){return e}else{return a.call(this,d)}}}b=null}())}};
/*!
 * https://github.com/es-shims/es5-shim
 * @license es5-shim Copyright 2009-2015 by contributors, MIT License
 * see https://github.com/es-shims/es5-shim/blob/v4.5.9/LICENSE
 */
(function(t,r){"use strict";if(typeof define==="function"&&define.amd){define(r)}else if(typeof exports==="object"){module.exports=r()}else{t.returnExports=r()}})(this,function(){var t=Array;var r=t.prototype;var e=Object;var n=e.prototype;var i=Function;var a=i.prototype;var o=String;var f=o.prototype;var u=Number;var l=u.prototype;var s=r.slice;var c=r.splice;var v=r.push;var h=r.unshift;var p=r.concat;var y=r.join;var d=a.call;var g=a.apply;var w=Math.max;var b=Math.min;var T=n.toString;var m=typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol";var D;var S=Function.prototype.toString,x=/^\s*class /,O=function isES6ClassFn(t){try{var r=S.call(t);var e=r.replace(/\/\/.*\n/g,"");var n=e.replace(/\/\*[.\s\S]*\*\//g,"");var i=n.replace(/\n/gm," ").replace(/ {2}/g," ");return x.test(i)}catch(a){return false}},j=function tryFunctionObject(t){try{if(O(t)){return false}S.call(t);return true}catch(r){return false}},E="[object Function]",I="[object GeneratorFunction]",D=function isCallable(t){if(!t){return false}if(typeof t!=="function"&&typeof t!=="object"){return false}if(m){return j(t)}if(O(t)){return false}var r=T.call(t);return r===E||r===I};var M;var U=RegExp.prototype.exec,F=function tryRegexExec(t){try{U.call(t);return true}catch(r){return false}},N="[object RegExp]";M=function isRegex(t){if(typeof t!=="object"){return false}return m?F(t):T.call(t)===N};var C;var k=String.prototype.valueOf,A=function tryStringObject(t){try{k.call(t);return true}catch(r){return false}},R="[object String]";C=function isString(t){if(typeof t==="string"){return true}if(typeof t!=="object"){return false}return m?A(t):T.call(t)===R};var P=e.defineProperty&&function(){try{var t={};e.defineProperty(t,"x",{enumerable:false,value:t});for(var r in t){return false}return t.x===t}catch(n){return false}}();var $=function(t){var r;if(P){r=function(t,r,n,i){if(!i&&r in t){return}e.defineProperty(t,r,{configurable:true,enumerable:false,writable:true,value:n})}}else{r=function(t,r,e,n){if(!n&&r in t){return}t[r]=e}}return function defineProperties(e,n,i){for(var a in n){if(t.call(n,a)){r(e,a,n[a],i)}}}}(n.hasOwnProperty);var J=function isPrimitive(t){var r=typeof t;return t===null||r!=="object"&&r!=="function"};var Y=u.isNaN||function isActualNaN(t){return t!==t};var Z={ToInteger:function ToInteger(t){var r=+t;if(Y(r)){r=0}else if(r!==0&&r!==1/0&&r!==-(1/0)){r=(r>0||-1)*Math.floor(Math.abs(r))}return r},ToPrimitive:function ToPrimitive(t){var r,e,n;if(J(t)){return t}e=t.valueOf;if(D(e)){r=e.call(t);if(J(r)){return r}}n=t.toString;if(D(n)){r=n.call(t);if(J(r)){return r}}throw new TypeError},ToObject:function(t){if(t==null){throw new TypeError("can't convert "+t+" to object")}return e(t)},ToUint32:function ToUint32(t){return t>>>0}};var z=function Empty(){};$(a,{bind:function bind(t){var r=this;if(!D(r)){throw new TypeError("Function.prototype.bind called on incompatible "+r)}var n=s.call(arguments,1);var a;var o=function(){if(this instanceof a){var i=g.call(r,this,p.call(n,s.call(arguments)));if(e(i)===i){return i}return this}else{return g.call(r,t,p.call(n,s.call(arguments)))}};var f=w(0,r.length-n.length);var u=[];for(var l=0;l<f;l++){v.call(u,"$"+l)}a=i("binder","return function ("+y.call(u,",")+"){ return binder.apply(this, arguments); }")(o);if(r.prototype){z.prototype=r.prototype;a.prototype=new z;z.prototype=null}return a}});var G=d.bind(n.hasOwnProperty);var B=d.bind(n.toString);var H=d.bind(s);var W=g.bind(s);var L=d.bind(f.slice);var X=d.bind(f.split);var q=d.bind(f.indexOf);var K=d.bind(v);var Q=d.bind(n.propertyIsEnumerable);var V=d.bind(r.sort);var _=t.isArray||function isArray(t){return B(t)==="[object Array]"};var tt=[].unshift(0)!==1;$(r,{unshift:function(){h.apply(this,arguments);return this.length}},tt);$(t,{isArray:_});var rt=e("a");var et=rt[0]!=="a"||!(0 in rt);var nt=function properlyBoxed(t){var r=true;var e=true;var n=false;if(t){try{t.call("foo",function(t,e,n){if(typeof n!=="object"){r=false}});t.call([1],function(){"use strict";e=typeof this==="string"},"x")}catch(i){n=true}}return!!t&&!n&&r&&e};$(r,{forEach:function forEach(t){var r=Z.ToObject(this);var e=et&&C(this)?X(this,""):r;var n=-1;var i=Z.ToUint32(e.length);var a;if(arguments.length>1){a=arguments[1]}if(!D(t)){throw new TypeError("Array.prototype.forEach callback must be a function")}while(++n<i){if(n in e){if(typeof a==="undefined"){t(e[n],n,r)}else{t.call(a,e[n],n,r)}}}}},!nt(r.forEach));$(r,{map:function map(r){var e=Z.ToObject(this);var n=et&&C(this)?X(this,""):e;var i=Z.ToUint32(n.length);var a=t(i);var o;if(arguments.length>1){o=arguments[1]}if(!D(r)){throw new TypeError("Array.prototype.map callback must be a function")}for(var f=0;f<i;f++){if(f in n){if(typeof o==="undefined"){a[f]=r(n[f],f,e)}else{a[f]=r.call(o,n[f],f,e)}}}return a}},!nt(r.map));$(r,{filter:function filter(t){var r=Z.ToObject(this);var e=et&&C(this)?X(this,""):r;var n=Z.ToUint32(e.length);var i=[];var a;var o;if(arguments.length>1){o=arguments[1]}if(!D(t)){throw new TypeError("Array.prototype.filter callback must be a function")}for(var f=0;f<n;f++){if(f in e){a=e[f];if(typeof o==="undefined"?t(a,f,r):t.call(o,a,f,r)){K(i,a)}}}return i}},!nt(r.filter));$(r,{every:function every(t){var r=Z.ToObject(this);var e=et&&C(this)?X(this,""):r;var n=Z.ToUint32(e.length);var i;if(arguments.length>1){i=arguments[1]}if(!D(t)){throw new TypeError("Array.prototype.every callback must be a function")}for(var a=0;a<n;a++){if(a in e&&!(typeof i==="undefined"?t(e[a],a,r):t.call(i,e[a],a,r))){return false}}return true}},!nt(r.every));$(r,{some:function some(t){var r=Z.ToObject(this);var e=et&&C(this)?X(this,""):r;var n=Z.ToUint32(e.length);var i;if(arguments.length>1){i=arguments[1]}if(!D(t)){throw new TypeError("Array.prototype.some callback must be a function")}for(var a=0;a<n;a++){if(a in e&&(typeof i==="undefined"?t(e[a],a,r):t.call(i,e[a],a,r))){return true}}return false}},!nt(r.some));var it=false;if(r.reduce){it=typeof r.reduce.call("es5",function(t,r,e,n){return n})==="object"}$(r,{reduce:function reduce(t){var r=Z.ToObject(this);var e=et&&C(this)?X(this,""):r;var n=Z.ToUint32(e.length);if(!D(t)){throw new TypeError("Array.prototype.reduce callback must be a function")}if(n===0&&arguments.length===1){throw new TypeError("reduce of empty array with no initial value")}var i=0;var a;if(arguments.length>=2){a=arguments[1]}else{do{if(i in e){a=e[i++];break}if(++i>=n){throw new TypeError("reduce of empty array with no initial value")}}while(true)}for(;i<n;i++){if(i in e){a=t(a,e[i],i,r)}}return a}},!it);var at=false;if(r.reduceRight){at=typeof r.reduceRight.call("es5",function(t,r,e,n){return n})==="object"}$(r,{reduceRight:function reduceRight(t){var r=Z.ToObject(this);var e=et&&C(this)?X(this,""):r;var n=Z.ToUint32(e.length);if(!D(t)){throw new TypeError("Array.prototype.reduceRight callback must be a function")}if(n===0&&arguments.length===1){throw new TypeError("reduceRight of empty array with no initial value")}var i;var a=n-1;if(arguments.length>=2){i=arguments[1]}else{do{if(a in e){i=e[a--];break}if(--a<0){throw new TypeError("reduceRight of empty array with no initial value")}}while(true)}if(a<0){return i}do{if(a in e){i=t(i,e[a],a,r)}}while(a--);return i}},!at);var ot=r.indexOf&&[0,1].indexOf(1,2)!==-1;$(r,{indexOf:function indexOf(t){var r=et&&C(this)?X(this,""):Z.ToObject(this);var e=Z.ToUint32(r.length);if(e===0){return-1}var n=0;if(arguments.length>1){n=Z.ToInteger(arguments[1])}n=n>=0?n:w(0,e+n);for(;n<e;n++){if(n in r&&r[n]===t){return n}}return-1}},ot);var ft=r.lastIndexOf&&[0,1].lastIndexOf(0,-3)!==-1;$(r,{lastIndexOf:function lastIndexOf(t){var r=et&&C(this)?X(this,""):Z.ToObject(this);var e=Z.ToUint32(r.length);if(e===0){return-1}var n=e-1;if(arguments.length>1){n=b(n,Z.ToInteger(arguments[1]))}n=n>=0?n:e-Math.abs(n);for(;n>=0;n--){if(n in r&&t===r[n]){return n}}return-1}},ft);var ut=function(){var t=[1,2];var r=t.splice();return t.length===2&&_(r)&&r.length===0}();$(r,{splice:function splice(t,r){if(arguments.length===0){return[]}else{return c.apply(this,arguments)}}},!ut);var lt=function(){var t={};r.splice.call(t,0,0,1);return t.length===1}();$(r,{splice:function splice(t,r){if(arguments.length===0){return[]}var e=arguments;this.length=w(Z.ToInteger(this.length),0);if(arguments.length>0&&typeof r!=="number"){e=H(arguments);if(e.length<2){K(e,this.length-t)}else{e[1]=Z.ToInteger(r)}}return c.apply(this,e)}},!lt);var st=function(){var r=new t(1e5);r[8]="x";r.splice(1,1);return r.indexOf("x")===7}();var ct=function(){var t=256;var r=[];r[t]="a";r.splice(t+1,0,"b");return r[t]==="a"}();$(r,{splice:function splice(t,r){var e=Z.ToObject(this);var n=[];var i=Z.ToUint32(e.length);var a=Z.ToInteger(t);var f=a<0?w(i+a,0):b(a,i);var u=b(w(Z.ToInteger(r),0),i-f);var l=0;var s;while(l<u){s=o(f+l);if(G(e,s)){n[l]=e[s]}l+=1}var c=H(arguments,2);var v=c.length;var h;if(v<u){l=f;var p=i-u;while(l<p){s=o(l+u);h=o(l+v);if(G(e,s)){e[h]=e[s]}else{delete e[h]}l+=1}l=i;var y=i-u+v;while(l>y){delete e[l-1];l-=1}}else if(v>u){l=i-u;while(l>f){s=o(l+u-1);h=o(l+v-1);if(G(e,s)){e[h]=e[s]}else{delete e[h]}l-=1}}l=f;for(var d=0;d<c.length;++d){e[l]=c[d];l+=1}e.length=i-u+v;return n}},!st||!ct);var vt=r.join;var ht;try{ht=Array.prototype.join.call("123",",")!=="1,2,3"}catch(pt){ht=true}if(ht){$(r,{join:function join(t){var r=typeof t==="undefined"?",":t;return vt.call(C(this)?X(this,""):this,r)}},ht)}var yt=[1,2].join(undefined)!=="1,2";if(yt){$(r,{join:function join(t){var r=typeof t==="undefined"?",":t;return vt.call(this,r)}},yt)}var dt=function push(t){var r=Z.ToObject(this);var e=Z.ToUint32(r.length);var n=0;while(n<arguments.length){r[e+n]=arguments[n];n+=1}r.length=e+n;return e+n};var gt=function(){var t={};var r=Array.prototype.push.call(t,undefined);return r!==1||t.length!==1||typeof t[0]!=="undefined"||!G(t,0)}();$(r,{push:function push(t){if(_(this)){return v.apply(this,arguments)}return dt.apply(this,arguments)}},gt);var wt=function(){var t=[];var r=t.push(undefined);return r!==1||t.length!==1||typeof t[0]!=="undefined"||!G(t,0)}();$(r,{push:dt},wt);$(r,{slice:function(t,r){var e=C(this)?X(this,""):this;return W(e,arguments)}},et);var bt=function(){try{[1,2].sort(null);[1,2].sort({});return true}catch(t){}return false}();var Tt=function(){try{[1,2].sort(/a/);return false}catch(t){}return true}();var mt=function(){try{[1,2].sort(undefined);return true}catch(t){}return false}();$(r,{sort:function sort(t){if(typeof t==="undefined"){return V(this)}if(!D(t)){throw new TypeError("Array.prototype.sort callback must be a function")}return V(this,t)}},bt||!mt||!Tt);var Dt=!Q({toString:null},"toString");var St=Q(function(){},"prototype");var xt=!G("x","0");var Ot=function(t){var r=t.constructor;return r&&r.prototype===t};var jt={$window:true,$console:true,$parent:true,$self:true,$frame:true,$frames:true,$frameElement:true,$webkitIndexedDB:true,$webkitStorageInfo:true,$external:true};var Et=function(){if(typeof window==="undefined"){return false}for(var t in window){try{if(!jt["$"+t]&&G(window,t)&&window[t]!==null&&typeof window[t]==="object"){Ot(window[t])}}catch(r){return true}}return false}();var It=function(t){if(typeof window==="undefined"||!Et){return Ot(t)}try{return Ot(t)}catch(r){return false}};var Mt=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];var Ut=Mt.length;var Ft=function isArguments(t){return B(t)==="[object Arguments]"};var Nt=function isArguments(t){return t!==null&&typeof t==="object"&&typeof t.length==="number"&&t.length>=0&&!_(t)&&D(t.callee)};var Ct=Ft(arguments)?Ft:Nt;$(e,{keys:function keys(t){var r=D(t);var e=Ct(t);var n=t!==null&&typeof t==="object";var i=n&&C(t);if(!n&&!r&&!e){throw new TypeError("Object.keys called on a non-object")}var a=[];var f=St&&r;if(i&&xt||e){for(var u=0;u<t.length;++u){K(a,o(u))}}if(!e){for(var l in t){if(!(f&&l==="prototype")&&G(t,l)){K(a,o(l))}}}if(Dt){var s=It(t);for(var c=0;c<Ut;c++){var v=Mt[c];if(!(s&&v==="constructor")&&G(t,v)){K(a,v)}}}return a}});var kt=e.keys&&function(){return e.keys(arguments).length===2}(1,2);var At=e.keys&&function(){var t=e.keys(arguments);return arguments.length!==1||t.length!==1||t[0]!==1}(1);var Rt=e.keys;$(e,{keys:function keys(t){if(Ct(t)){return Rt(H(t))}else{return Rt(t)}}},!kt||At);var Pt=new Date(-0xc782b5b342b24).getUTCMonth()!==0;var $t=new Date(-0x55d318d56a724);var Jt=new Date(14496624e5);var Yt=$t.toUTCString()!=="Mon, 01 Jan -45875 11:59:59 GMT";var Zt;var zt;var Gt=$t.getTimezoneOffset();if(Gt<-720){Zt=$t.toDateString()!=="Tue Jan 02 -45875";zt=!/^Thu Dec 10 2015 \d\d:\d\d:\d\d GMT[-\+]\d\d\d\d(?: |$)/.test(Jt.toString())}else{Zt=$t.toDateString()!=="Mon Jan 01 -45875";zt=!/^Wed Dec 09 2015 \d\d:\d\d:\d\d GMT[-\+]\d\d\d\d(?: |$)/.test(Jt.toString())}var Bt=d.bind(Date.prototype.getFullYear);var Ht=d.bind(Date.prototype.getMonth);var Wt=d.bind(Date.prototype.getDate);var Lt=d.bind(Date.prototype.getUTCFullYear);var Xt=d.bind(Date.prototype.getUTCMonth);var qt=d.bind(Date.prototype.getUTCDate);var Kt=d.bind(Date.prototype.getUTCDay);var Qt=d.bind(Date.prototype.getUTCHours);var Vt=d.bind(Date.prototype.getUTCMinutes);var _t=d.bind(Date.prototype.getUTCSeconds);var tr=d.bind(Date.prototype.getUTCMilliseconds);var rr=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];var er=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var nr=function daysInMonth(t,r){return Wt(new Date(r,t,0))};$(Date.prototype,{getFullYear:function getFullYear(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=Bt(this);if(t<0&&Ht(this)>11){return t+1}return t},getMonth:function getMonth(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=Bt(this);var r=Ht(this);if(t<0&&r>11){return 0}return r},getDate:function getDate(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=Bt(this);var r=Ht(this);var e=Wt(this);if(t<0&&r>11){if(r===12){return e}var n=nr(0,t+1);return n-e+1}return e},getUTCFullYear:function getUTCFullYear(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=Lt(this);if(t<0&&Xt(this)>11){return t+1}return t},getUTCMonth:function getUTCMonth(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=Lt(this);var r=Xt(this);if(t<0&&r>11){return 0}return r},getUTCDate:function getUTCDate(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=Lt(this);var r=Xt(this);var e=qt(this);if(t<0&&r>11){if(r===12){return e}var n=nr(0,t+1);return n-e+1}return e}},Pt);$(Date.prototype,{toUTCString:function toUTCString(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=Kt(this);var r=qt(this);var e=Xt(this);var n=Lt(this);var i=Qt(this);var a=Vt(this);var o=_t(this);return rr[t]+", "+(r<10?"0"+r:r)+" "+er[e]+" "+n+" "+(i<10?"0"+i:i)+":"+(a<10?"0"+a:a)+":"+(o<10?"0"+o:o)+" GMT"}},Pt||Yt);$(Date.prototype,{toDateString:function toDateString(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=this.getDay();var r=this.getDate();var e=this.getMonth();var n=this.getFullYear();return rr[t]+" "+er[e]+" "+(r<10?"0"+r:r)+" "+n}},Pt||Zt);if(Pt||zt){Date.prototype.toString=function toString(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=this.getDay();var r=this.getDate();var e=this.getMonth();var n=this.getFullYear();var i=this.getHours();var a=this.getMinutes();var o=this.getSeconds();var f=this.getTimezoneOffset();var u=Math.floor(Math.abs(f)/60);var l=Math.floor(Math.abs(f)%60);return rr[t]+" "+er[e]+" "+(r<10?"0"+r:r)+" "+n+" "+(i<10?"0"+i:i)+":"+(a<10?"0"+a:a)+":"+(o<10?"0"+o:o)+" GMT"+(f>0?"-":"+")+(u<10?"0"+u:u)+(l<10?"0"+l:l)};if(P){e.defineProperty(Date.prototype,"toString",{configurable:true,enumerable:false,writable:true})}}var ir=-621987552e5;var ar="-000001";var or=Date.prototype.toISOString&&new Date(ir).toISOString().indexOf(ar)===-1;var fr=Date.prototype.toISOString&&new Date(-1).toISOString()!=="1969-12-31T23:59:59.999Z";var ur=d.bind(Date.prototype.getTime);$(Date.prototype,{toISOString:function toISOString(){if(!isFinite(this)||!isFinite(ur(this))){throw new RangeError("Date.prototype.toISOString called on non-finite value.")}var t=Lt(this);var r=Xt(this);t+=Math.floor(r/12);r=(r%12+12)%12;var e=[r+1,qt(this),Qt(this),Vt(this),_t(this)];t=(t<0?"-":t>9999?"+":"")+L("00000"+Math.abs(t),0<=t&&t<=9999?-4:-6);for(var n=0;n<e.length;++n){e[n]=L("00"+e[n],-2)}return t+"-"+H(e,0,2).join("-")+"T"+H(e,2).join(":")+"."+L("000"+tr(this),-3)+"Z"}},or||fr);var lr=function(){try{return Date.prototype.toJSON&&new Date(NaN).toJSON()===null&&new Date(ir).toJSON().indexOf(ar)!==-1&&Date.prototype.toJSON.call({toISOString:function(){return true}})}catch(t){return false}}();if(!lr){Date.prototype.toJSON=function toJSON(t){var r=e(this);var n=Z.ToPrimitive(r);if(typeof n==="number"&&!isFinite(n)){return null}var i=r.toISOString;if(!D(i)){throw new TypeError("toISOString property is not callable")}return i.call(r)}}var sr=Date.parse("+033658-09-27T01:46:40.000Z")===1e15;var cr=!isNaN(Date.parse("2012-04-04T24:00:00.500Z"))||!isNaN(Date.parse("2012-11-31T23:59:59.000Z"))||!isNaN(Date.parse("2012-12-31T23:59:60.000Z"));var vr=isNaN(Date.parse("2000-01-01T00:00:00.000Z"));if(vr||cr||!sr){var hr=Math.pow(2,31)-1;var pr=Y(new Date(1970,0,1,0,0,0,hr+1).getTime());Date=function(t){var r=function Date(e,n,i,a,f,u,l){var s=arguments.length;var c;if(this instanceof t){var v=u;var h=l;if(pr&&s>=7&&l>hr){var p=Math.floor(l/hr)*hr;var y=Math.floor(p/1e3);v+=y;h-=y*1e3}c=s===1&&o(e)===e?new t(r.parse(e)):s>=7?new t(e,n,i,a,f,v,h):s>=6?new t(e,n,i,a,f,v):s>=5?new t(e,n,i,a,f):s>=4?new t(e,n,i,a):s>=3?new t(e,n,i):s>=2?new t(e,n):s>=1?new t(e instanceof t?+e:e):new t}else{c=t.apply(this,arguments)}if(!J(c)){$(c,{constructor:r},true)}return c};var e=new RegExp("^"+"(\\d{4}|[+-]\\d{6})"+"(?:-(\\d{2})"+"(?:-(\\d{2})"+"(?:"+"T(\\d{2})"+":(\\d{2})"+"(?:"+":(\\d{2})"+"(?:(\\.\\d{1,}))?"+")?"+"("+"Z|"+"(?:"+"([-+])"+"(\\d{2})"+":(\\d{2})"+")"+")?)?)?)?"+"$");var n=[0,31,59,90,120,151,181,212,243,273,304,334,365];var i=function dayFromMonth(t,r){var e=r>1?1:0;return n[r]+Math.floor((t-1969+e)/4)-Math.floor((t-1901+e)/100)+Math.floor((t-1601+e)/400)+365*(t-1970)};var a=function toUTC(r){var e=0;var n=r;if(pr&&n>hr){var i=Math.floor(n/hr)*hr;var a=Math.floor(i/1e3);e+=a;n-=a*1e3}return u(new t(1970,0,1,0,0,e,n))};for(var f in t){if(G(t,f)){r[f]=t[f]}}$(r,{now:t.now,UTC:t.UTC},true);r.prototype=t.prototype;$(r.prototype,{constructor:r},true);var l=function parse(r){var n=e.exec(r);if(n){var o=u(n[1]),f=u(n[2]||1)-1,l=u(n[3]||1)-1,s=u(n[4]||0),c=u(n[5]||0),v=u(n[6]||0),h=Math.floor(u(n[7]||0)*1e3),p=Boolean(n[4]&&!n[8]),y=n[9]==="-"?1:-1,d=u(n[10]||0),g=u(n[11]||0),w;var b=c>0||v>0||h>0;if(s<(b?24:25)&&c<60&&v<60&&h<1e3&&f>-1&&f<12&&d<24&&g<60&&l>-1&&l<i(o,f+1)-i(o,f)){w=((i(o,f)+l)*24+s+d*y)*60;w=((w+c+g*y)*60+v)*1e3+h;if(p){w=a(w)}if(-864e13<=w&&w<=864e13){return w}}return NaN}return t.parse.apply(this,arguments)};$(r,{parse:l});return r}(Date)}if(!Date.now){Date.now=function now(){return(new Date).getTime()}}var yr=l.toFixed&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128");var dr={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function multiply(t,r){var e=-1;var n=r;while(++e<dr.size){n+=t*dr.data[e];dr.data[e]=n%dr.base;n=Math.floor(n/dr.base)}},divide:function divide(t){var r=dr.size;var e=0;while(--r>=0){e+=dr.data[r];dr.data[r]=Math.floor(e/t);e=e%t*dr.base}},numToString:function numToString(){var t=dr.size;var r="";while(--t>=0){if(r!==""||t===0||dr.data[t]!==0){var e=o(dr.data[t]);if(r===""){r=e}else{r+=L("0000000",0,7-e.length)+e}}}return r},pow:function pow(t,r,e){return r===0?e:r%2===1?pow(t,r-1,e*t):pow(t*t,r/2,e)},log:function log(t){var r=0;var e=t;while(e>=4096){r+=12;e/=4096}while(e>=2){r+=1;e/=2}return r}};var gr=function toFixed(t){var r,e,n,i,a,f,l,s;r=u(t);r=Y(r)?0:Math.floor(r);if(r<0||r>20){throw new RangeError("Number.toFixed called with invalid number of decimals")}e=u(this);if(Y(e)){return"NaN"}if(e<=-1e21||e>=1e21){return o(e)}n="";if(e<0){n="-";e=-e}i="0";if(e>1e-21){a=dr.log(e*dr.pow(2,69,1))-69;f=a<0?e*dr.pow(2,-a,1):e/dr.pow(2,a,1);f*=4503599627370496;a=52-a;if(a>0){dr.multiply(0,f);l=r;while(l>=7){dr.multiply(1e7,0);l-=7}dr.multiply(dr.pow(10,l,1),0);l=a-1;while(l>=23){dr.divide(1<<23);l-=23}dr.divide(1<<l);dr.multiply(1,1);dr.divide(2);i=dr.numToString()}else{dr.multiply(0,f);dr.multiply(1<<-a,0);i=dr.numToString()+L("0.00000000000000000000",2,2+r)}}if(r>0){s=i.length;if(s<=r){i=n+L("0.0000000000000000000",0,r-s+2)+i}else{i=n+L(i,0,s-r)+"."+L(i,s-r)}}else{i=n+i}return i};$(l,{toFixed:gr},yr);var wr=function(){try{return 1..toPrecision(undefined)==="1"}catch(t){return true}}();var br=l.toPrecision;$(l,{toPrecision:function toPrecision(t){return typeof t==="undefined"?br.call(this):br.call(this,t)}},wr);if("ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1){(function(){var t=typeof/()??/.exec("")[1]==="undefined";var r=Math.pow(2,32)-1;f.split=function(e,n){var i=String(this);if(typeof e==="undefined"&&n===0){return[]}if(!M(e)){return X(this,e,n)}var a=[];var o=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,u,l,s,c;var h=new RegExp(e.source,o+"g");if(!t){u=new RegExp("^"+h.source+"$(?!\\s)",o)}var p=typeof n==="undefined"?r:Z.ToUint32(n);l=h.exec(i);while(l){s=l.index+l[0].length;if(s>f){K(a,L(i,f,l.index));if(!t&&l.length>1){l[0].replace(u,function(){for(var t=1;t<arguments.length-2;t++){if(typeof arguments[t]==="undefined"){l[t]=void 0}}})}if(l.length>1&&l.index<i.length){v.apply(a,H(l,1))}c=l[0].length;f=s;if(a.length>=p){break}}if(h.lastIndex===l.index){h.lastIndex++}l=h.exec(i)}if(f===i.length){if(c||!h.test("")){K(a,"")}}else{K(a,L(i,f))}return a.length>p?H(a,0,p):a}})()}else if("0".split(void 0,0).length){f.split=function split(t,r){if(typeof t==="undefined"&&r===0){return[]}return X(this,t,r)}}var Tr=f.replace;var mr=function(){var t=[];"x".replace(/x(.)?/g,function(r,e){K(t,e)});return t.length===1&&typeof t[0]==="undefined"}();if(!mr){f.replace=function replace(t,r){var e=D(r);var n=M(t)&&/\)[*?]/.test(t.source);if(!e||!n){return Tr.call(this,t,r)}else{var i=function(e){var n=arguments.length;var i=t.lastIndex;t.lastIndex=0;var a=t.exec(e)||[];t.lastIndex=i;K(a,arguments[n-2],arguments[n-1]);return r.apply(this,a)};return Tr.call(this,t,i)}}}var Dr=f.substr;var Sr="".substr&&"0b".substr(-1)!=="b";$(f,{substr:function substr(t,r){var e=t;if(t<0){e=w(this.length+t,0)}return Dr.call(this,e,r)}},Sr);var xr="	\n\x0B\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003"+"\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028"+"\u2029\ufeff";var Or="\u200b";var jr="["+xr+"]";var Er=new RegExp("^"+jr+jr+"*");var Ir=new RegExp(jr+jr+"*$");var Mr=f.trim&&(xr.trim()||!Or.trim());$(f,{trim:function trim(){if(typeof this==="undefined"||this===null){throw new TypeError("can't convert "+this+" to object")}return o(this).replace(Er,"").replace(Ir,"")}},Mr);var Ur=d.bind(String.prototype.trim);var Fr=f.lastIndexOf&&"abc\u3042\u3044".lastIndexOf("\u3042\u3044",2)!==-1;$(f,{lastIndexOf:function lastIndexOf(t){if(typeof this==="undefined"||this===null){throw new TypeError("can't convert "+this+" to object")}var r=o(this);var e=o(t);var n=arguments.length>1?u(arguments[1]):NaN;var i=Y(n)?Infinity:Z.ToInteger(n);var a=b(w(i,0),r.length);var f=e.length;var l=a+f;while(l>0){l=w(0,l-f);var s=q(L(r,l,a+f),e);if(s!==-1){return l+s}}return-1}},Fr);var Nr=f.lastIndexOf;$(f,{lastIndexOf:function lastIndexOf(t){return Nr.apply(this,arguments)}},f.lastIndexOf.length!==1);if(parseInt(xr+"08")!==8||parseInt(xr+"0x16")!==22){parseInt=function(t){var r=/^[\-+]?0[xX]/;return function parseInt(e,n){var i=Ur(String(e));var a=u(n)||(r.test(i)?16:10);return t(i,a)}}(parseInt)}if(1/parseFloat("-0")!==-Infinity){parseFloat=function(t){return function parseFloat(r){var e=Ur(String(r));var n=t(e);return n===0&&L(e,0,1)==="-"?-0:n}}(parseFloat)}if(String(new RangeError("test"))!=="RangeError: test"){var Cr=function toString(){if(typeof this==="undefined"||this===null){throw new TypeError("can't convert "+this+" to object")}var t=this.name;if(typeof t==="undefined"){t="Error"}else if(typeof t!=="string"){t=o(t)}var r=this.message;if(typeof r==="undefined"){r=""}else if(typeof r!=="string"){r=o(r)}if(!t){return r}if(!r){return t}return t+": "+r};Error.prototype.toString=Cr}if(P){var kr=function(t,r){if(Q(t,r)){var e=Object.getOwnPropertyDescriptor(t,r);if(e.configurable){e.enumerable=false;Object.defineProperty(t,r,e)}}};kr(Error.prototype,"message");if(Error.prototype.message!==""){Error.prototype.message=""}kr(Error.prototype,"name")}if(String(/a/gim)!=="/a/gim"){var Ar=function toString(){var t="/"+this.source+"/";if(this.global){t+="g"}if(this.ignoreCase){t+="i"}if(this.multiline){t+="m"}return t};RegExp.prototype.toString=Ar}});
//# sourceMappingURL=es5-shim.map
/*!
  * https://github.com/paulmillr/es6-shim
  * @license es6-shim Copyright 2013-2016 by Paul Miller (http://paulmillr.com)
  *   and contributors,  MIT License
  * es6-shim: v0.35.3
  * see https://github.com/paulmillr/es6-shim/blob/0.35.1/LICENSE
  * Details and documentation:
  * https://github.com/paulmillr/es6-shim/
  */
(function(e,t){if(typeof define==="function"&&define.amd){define(t)}else if(typeof exports==="object"){module.exports=t()}else{e.returnExports=t()}})(this,function(){"use strict";var e=Function.call.bind(Function.apply);var t=Function.call.bind(Function.call);var r=Array.isArray;var n=Object.keys;var o=function notThunker(t){return function notThunk(){return!e(t,this,arguments)}};var i=function(e){try{e();return false}catch(e){return true}};var a=function valueOrFalseIfThrows(e){try{return e()}catch(e){return false}};var u=o(i);var f=function(){return!i(function(){Object.defineProperty({},"x",{get:function(){}})})};var s=!!Object.defineProperty&&f();var c=function foo(){}.name==="foo";var l=Function.call.bind(Array.prototype.forEach);var p=Function.call.bind(Array.prototype.reduce);var v=Function.call.bind(Array.prototype.filter);var y=Function.call.bind(Array.prototype.some);var h=function(e,t,r,n){if(!n&&t in e){return}if(s){Object.defineProperty(e,t,{configurable:true,enumerable:false,writable:true,value:r})}else{e[t]=r}};var b=function(e,t,r){l(n(t),function(n){var o=t[n];h(e,n,o,!!r)})};var g=Function.call.bind(Object.prototype.toString);var d=typeof/abc/==="function"?function IsCallableSlow(e){return typeof e==="function"&&g(e)==="[object Function]"}:function IsCallableFast(e){return typeof e==="function"};var m={getter:function(e,t,r){if(!s){throw new TypeError("getters require true ES5 support")}Object.defineProperty(e,t,{configurable:true,enumerable:false,get:r})},proxy:function(e,t,r){if(!s){throw new TypeError("getters require true ES5 support")}var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,{configurable:n.configurable,enumerable:n.enumerable,get:function getKey(){return e[t]},set:function setKey(r){e[t]=r}})},redefine:function(e,t,r){if(s){var n=Object.getOwnPropertyDescriptor(e,t);n.value=r;Object.defineProperty(e,t,n)}else{e[t]=r}},defineByDescriptor:function(e,t,r){if(s){Object.defineProperty(e,t,r)}else if("value"in r){e[t]=r.value}},preserveToString:function(e,t){if(t&&d(t.toString)){h(e,"toString",t.toString.bind(t),true)}}};var O=Object.create||function(e,t){var r=function Prototype(){};r.prototype=e;var o=new r;if(typeof t!=="undefined"){n(t).forEach(function(e){m.defineByDescriptor(o,e,t[e])})}return o};var w=function(e,t){if(!Object.setPrototypeOf){return false}return a(function(){var r=function Subclass(t){var r=new e(t);Object.setPrototypeOf(r,Subclass.prototype);return r};Object.setPrototypeOf(r,e);r.prototype=O(e.prototype,{constructor:{value:r}});return t(r)})};var j=function(){if(typeof self!=="undefined"){return self}if(typeof window!=="undefined"){return window}if(typeof global!=="undefined"){return global}throw new Error("unable to locate global object")};var S=j();var T=S.isFinite;var I=Function.call.bind(String.prototype.indexOf);var E=Function.apply.bind(Array.prototype.indexOf);var P=Function.call.bind(Array.prototype.concat);var C=Function.call.bind(String.prototype.slice);var M=Function.call.bind(Array.prototype.push);var x=Function.apply.bind(Array.prototype.push);var N=Function.call.bind(Array.prototype.shift);var A=Math.max;var R=Math.min;var _=Math.floor;var k=Math.abs;var F=Math.exp;var L=Math.log;var D=Math.sqrt;var z=Function.call.bind(Object.prototype.hasOwnProperty);var q;var W=function(){};var G=S.Map;var H=G&&G.prototype["delete"];var V=G&&G.prototype.get;var B=G&&G.prototype.has;var U=G&&G.prototype.set;var $=S.Symbol||{};var J=$.species||"@@species";var X=Number.isNaN||function isNaN(e){return e!==e};var K=Number.isFinite||function isFinite(e){return typeof e==="number"&&T(e)};var Z=d(Math.sign)?Math.sign:function sign(e){var t=Number(e);if(t===0){return t}if(X(t)){return t}return t<0?-1:1};var Y=function isArguments(e){return g(e)==="[object Arguments]"};var Q=function isArguments(e){return e!==null&&typeof e==="object"&&typeof e.length==="number"&&e.length>=0&&g(e)!=="[object Array]"&&g(e.callee)==="[object Function]"};var ee=Y(arguments)?Y:Q;var te={primitive:function(e){return e===null||typeof e!=="function"&&typeof e!=="object"},string:function(e){return g(e)==="[object String]"},regex:function(e){return g(e)==="[object RegExp]"},symbol:function(e){return typeof S.Symbol==="function"&&typeof e==="symbol"}};var re=function overrideNative(e,t,r){var n=e[t];h(e,t,r,true);m.preserveToString(e[t],n)};var ne=typeof $==="function"&&typeof $["for"]==="function"&&te.symbol($());var oe=te.symbol($.iterator)?$.iterator:"_es6-shim iterator_";if(S.Set&&typeof(new S.Set)["@@iterator"]==="function"){oe="@@iterator"}if(!S.Reflect){h(S,"Reflect",{},true)}var ie=S.Reflect;var ae=String;var ue=typeof document==="undefined"||!document?null:document.all;var fe=ue==null?function isNullOrUndefined(e){return e==null}:function isNullOrUndefinedAndNotDocumentAll(e){return e==null&&e!==ue};var se={Call:function Call(t,r){var n=arguments.length>2?arguments[2]:[];if(!se.IsCallable(t)){throw new TypeError(t+" is not a function")}return e(t,r,n)},RequireObjectCoercible:function(e,t){if(fe(e)){throw new TypeError(t||"Cannot call method on "+e)}return e},TypeIsObject:function(e){if(e===void 0||e===null||e===true||e===false){return false}return typeof e==="function"||typeof e==="object"||e===ue},ToObject:function(e,t){return Object(se.RequireObjectCoercible(e,t))},IsCallable:d,IsConstructor:function(e){return se.IsCallable(e)},ToInt32:function(e){return se.ToNumber(e)>>0},ToUint32:function(e){return se.ToNumber(e)>>>0},ToNumber:function(e){if(g(e)==="[object Symbol]"){throw new TypeError("Cannot convert a Symbol value to a number")}return+e},ToInteger:function(e){var t=se.ToNumber(e);if(X(t)){return 0}if(t===0||!K(t)){return t}return(t>0?1:-1)*_(k(t))},ToLength:function(e){var t=se.ToInteger(e);if(t<=0){return 0}if(t>Number.MAX_SAFE_INTEGER){return Number.MAX_SAFE_INTEGER}return t},SameValue:function(e,t){if(e===t){if(e===0){return 1/e===1/t}return true}return X(e)&&X(t)},SameValueZero:function(e,t){return e===t||X(e)&&X(t)},IsIterable:function(e){return se.TypeIsObject(e)&&(typeof e[oe]!=="undefined"||ee(e))},GetIterator:function(e){if(ee(e)){return new q(e,"value")}var t=se.GetMethod(e,oe);if(!se.IsCallable(t)){throw new TypeError("value is not an iterable")}var r=se.Call(t,e);if(!se.TypeIsObject(r)){throw new TypeError("bad iterator")}return r},GetMethod:function(e,t){var r=se.ToObject(e)[t];if(fe(r)){return void 0}if(!se.IsCallable(r)){throw new TypeError("Method not callable: "+t)}return r},IteratorComplete:function(e){return!!e.done},IteratorClose:function(e,t){var r=se.GetMethod(e,"return");if(r===void 0){return}var n,o;try{n=se.Call(r,e)}catch(e){o=e}if(t){return}if(o){throw o}if(!se.TypeIsObject(n)){throw new TypeError("Iterator's return method returned a non-object.")}},IteratorNext:function(e){var t=arguments.length>1?e.next(arguments[1]):e.next();if(!se.TypeIsObject(t)){throw new TypeError("bad iterator")}return t},IteratorStep:function(e){var t=se.IteratorNext(e);var r=se.IteratorComplete(t);return r?false:t},Construct:function(e,t,r,n){var o=typeof r==="undefined"?e:r;if(!n&&ie.construct){return ie.construct(e,t,o)}var i=o.prototype;if(!se.TypeIsObject(i)){i=Object.prototype}var a=O(i);var u=se.Call(e,a,t);return se.TypeIsObject(u)?u:a},SpeciesConstructor:function(e,t){var r=e.constructor;if(r===void 0){return t}if(!se.TypeIsObject(r)){throw new TypeError("Bad constructor")}var n=r[J];if(fe(n)){return t}if(!se.IsConstructor(n)){throw new TypeError("Bad @@species")}return n},CreateHTML:function(e,t,r,n){var o=se.ToString(e);var i="<"+t;if(r!==""){var a=se.ToString(n);var u=a.replace(/"/g,"&quot;");i+=" "+r+'="'+u+'"'}var f=i+">";var s=f+o;return s+"</"+t+">"},IsRegExp:function IsRegExp(e){if(!se.TypeIsObject(e)){return false}var t=e[$.match];if(typeof t!=="undefined"){return!!t}return te.regex(e)},ToString:function ToString(e){return ae(e)}};if(s&&ne){var ce=function defineWellKnownSymbol(e){if(te.symbol($[e])){return $[e]}var t=$["for"]("Symbol."+e);Object.defineProperty($,e,{configurable:false,enumerable:false,writable:false,value:t});return t};if(!te.symbol($.search)){var le=ce("search");var pe=String.prototype.search;h(RegExp.prototype,le,function search(e){return se.Call(pe,e,[this])});var ve=function search(e){var t=se.RequireObjectCoercible(this);if(!fe(e)){var r=se.GetMethod(e,le);if(typeof r!=="undefined"){return se.Call(r,e,[t])}}return se.Call(pe,t,[se.ToString(e)])};re(String.prototype,"search",ve)}if(!te.symbol($.replace)){var ye=ce("replace");var he=String.prototype.replace;h(RegExp.prototype,ye,function replace(e,t){return se.Call(he,e,[this,t])});var be=function replace(e,t){var r=se.RequireObjectCoercible(this);if(!fe(e)){var n=se.GetMethod(e,ye);if(typeof n!=="undefined"){return se.Call(n,e,[r,t])}}return se.Call(he,r,[se.ToString(e),t])};re(String.prototype,"replace",be)}if(!te.symbol($.split)){var ge=ce("split");var de=String.prototype.split;h(RegExp.prototype,ge,function split(e,t){return se.Call(de,e,[this,t])});var me=function split(e,t){var r=se.RequireObjectCoercible(this);if(!fe(e)){var n=se.GetMethod(e,ge);if(typeof n!=="undefined"){return se.Call(n,e,[r,t])}}return se.Call(de,r,[se.ToString(e),t])};re(String.prototype,"split",me)}var Oe=te.symbol($.match);var we=Oe&&function(){var e={};e[$.match]=function(){return 42};return"a".match(e)!==42}();if(!Oe||we){var je=ce("match");var Se=String.prototype.match;h(RegExp.prototype,je,function match(e){return se.Call(Se,e,[this])});var Te=function match(e){var t=se.RequireObjectCoercible(this);if(!fe(e)){var r=se.GetMethod(e,je);if(typeof r!=="undefined"){return se.Call(r,e,[t])}}return se.Call(Se,t,[se.ToString(e)])};re(String.prototype,"match",Te)}}var Ie=function wrapConstructor(e,t,r){m.preserveToString(t,e);if(Object.setPrototypeOf){Object.setPrototypeOf(e,t)}if(s){l(Object.getOwnPropertyNames(e),function(n){if(n in W||r[n]){return}m.proxy(e,n,t)})}else{l(Object.keys(e),function(n){if(n in W||r[n]){return}t[n]=e[n]})}t.prototype=e.prototype;m.redefine(e.prototype,"constructor",t)};var Ee=function(){return this};var Pe=function(e){if(s&&!z(e,J)){m.getter(e,J,Ee)}};var Ce=function(e,t){var r=t||function iterator(){return this};h(e,oe,r);if(!e[oe]&&te.symbol(oe)){e[oe]=r}};var Me=function createDataProperty(e,t,r){if(s){Object.defineProperty(e,t,{configurable:true,enumerable:true,writable:true,value:r})}else{e[t]=r}};var xe=function createDataPropertyOrThrow(e,t,r){Me(e,t,r);if(!se.SameValue(e[t],r)){throw new TypeError("property is nonconfigurable")}};var Ne=function(e,t,r,n){if(!se.TypeIsObject(e)){throw new TypeError("Constructor requires `new`: "+t.name)}var o=t.prototype;if(!se.TypeIsObject(o)){o=r}var i=O(o);for(var a in n){if(z(n,a)){var u=n[a];h(i,a,u,true)}}return i};if(String.fromCodePoint&&String.fromCodePoint.length!==1){var Ae=String.fromCodePoint;re(String,"fromCodePoint",function fromCodePoint(e){return se.Call(Ae,this,arguments)})}var Re={fromCodePoint:function fromCodePoint(e){var t=[];var r;for(var n=0,o=arguments.length;n<o;n++){r=Number(arguments[n]);if(!se.SameValue(r,se.ToInteger(r))||r<0||r>1114111){throw new RangeError("Invalid code point "+r)}if(r<65536){M(t,String.fromCharCode(r))}else{r-=65536;M(t,String.fromCharCode((r>>10)+55296));M(t,String.fromCharCode(r%1024+56320))}}return t.join("")},raw:function raw(e){var t=se.ToObject(e,"bad callSite");var r=se.ToObject(t.raw,"bad raw value");var n=r.length;var o=se.ToLength(n);if(o<=0){return""}var i=[];var a=0;var u,f,s,c;while(a<o){u=se.ToString(a);s=se.ToString(r[u]);M(i,s);if(a+1>=o){break}f=a+1<arguments.length?arguments[a+1]:"";c=se.ToString(f);M(i,c);a+=1}return i.join("")}};if(String.raw&&String.raw({raw:{0:"x",1:"y",length:2}})!=="xy"){re(String,"raw",Re.raw)}b(String,Re);var _e=function repeat(e,t){if(t<1){return""}if(t%2){return repeat(e,t-1)+e}var r=repeat(e,t/2);return r+r};var ke=Infinity;var Fe={repeat:function repeat(e){var t=se.ToString(se.RequireObjectCoercible(this));var r=se.ToInteger(e);if(r<0||r>=ke){throw new RangeError("repeat count must be less than infinity and not overflow maximum string size")}return _e(t,r)},startsWith:function startsWith(e){var t=se.ToString(se.RequireObjectCoercible(this));if(se.IsRegExp(e)){throw new TypeError('Cannot call method "startsWith" with a regex')}var r=se.ToString(e);var n;if(arguments.length>1){n=arguments[1]}var o=A(se.ToInteger(n),0);return C(t,o,o+r.length)===r},endsWith:function endsWith(e){var t=se.ToString(se.RequireObjectCoercible(this));if(se.IsRegExp(e)){throw new TypeError('Cannot call method "endsWith" with a regex')}var r=se.ToString(e);var n=t.length;var o;if(arguments.length>1){o=arguments[1]}var i=typeof o==="undefined"?n:se.ToInteger(o);var a=R(A(i,0),n);return C(t,a-r.length,a)===r},includes:function includes(e){if(se.IsRegExp(e)){throw new TypeError('"includes" does not accept a RegExp')}var t=se.ToString(e);var r;if(arguments.length>1){r=arguments[1]}return I(this,t,r)!==-1},codePointAt:function codePointAt(e){var t=se.ToString(se.RequireObjectCoercible(this));var r=se.ToInteger(e);var n=t.length;if(r>=0&&r<n){var o=t.charCodeAt(r);var i=r+1===n;if(o<55296||o>56319||i){return o}var a=t.charCodeAt(r+1);if(a<56320||a>57343){return o}return(o-55296)*1024+(a-56320)+65536}}};if(String.prototype.includes&&"a".includes("a",Infinity)!==false){re(String.prototype,"includes",Fe.includes)}if(String.prototype.startsWith&&String.prototype.endsWith){var Le=i(function(){"/a/".startsWith(/a/)});var De=a(function(){return"abc".startsWith("a",Infinity)===false});if(!Le||!De){re(String.prototype,"startsWith",Fe.startsWith);re(String.prototype,"endsWith",Fe.endsWith)}}if(ne){var ze=a(function(){var e=/a/;e[$.match]=false;return"/a/".startsWith(e)});if(!ze){re(String.prototype,"startsWith",Fe.startsWith)}var qe=a(function(){var e=/a/;e[$.match]=false;return"/a/".endsWith(e)});if(!qe){re(String.prototype,"endsWith",Fe.endsWith)}var We=a(function(){var e=/a/;e[$.match]=false;return"/a/".includes(e)});if(!We){re(String.prototype,"includes",Fe.includes)}}b(String.prototype,Fe);var Ge=["\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003","\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028","\u2029\ufeff"].join("");var He=new RegExp("(^["+Ge+"]+)|(["+Ge+"]+$)","g");var Ve=function trim(){return se.ToString(se.RequireObjectCoercible(this)).replace(He,"")};var Be=["\x85","\u200b","\ufffe"].join("");var Ue=new RegExp("["+Be+"]","g");var $e=/^[-+]0x[0-9a-f]+$/i;var Je=Be.trim().length!==Be.length;h(String.prototype,"trim",Ve,Je);var Xe=function(e){return{value:e,done:arguments.length===0}};var Ke=function(e){se.RequireObjectCoercible(e);this._s=se.ToString(e);this._i=0};Ke.prototype.next=function(){var e=this._s;var t=this._i;if(typeof e==="undefined"||t>=e.length){this._s=void 0;return Xe()}var r=e.charCodeAt(t);var n,o;if(r<55296||r>56319||t+1===e.length){o=1}else{n=e.charCodeAt(t+1);o=n<56320||n>57343?1:2}this._i=t+o;return Xe(e.substr(t,o))};Ce(Ke.prototype);Ce(String.prototype,function(){return new Ke(this)});var Ze={from:function from(e){var r=this;var n;if(arguments.length>1){n=arguments[1]}var o,i;if(typeof n==="undefined"){o=false}else{if(!se.IsCallable(n)){throw new TypeError("Array.from: when provided, the second argument must be a function")}if(arguments.length>2){i=arguments[2]}o=true}var a=typeof(ee(e)||se.GetMethod(e,oe))!=="undefined";var u,f,s;if(a){f=se.IsConstructor(r)?Object(new r):[];var c=se.GetIterator(e);var l,p;s=0;while(true){l=se.IteratorStep(c);if(l===false){break}p=l.value;try{if(o){p=typeof i==="undefined"?n(p,s):t(n,i,p,s)}f[s]=p}catch(e){se.IteratorClose(c,true);throw e}s+=1}u=s}else{var v=se.ToObject(e);u=se.ToLength(v.length);f=se.IsConstructor(r)?Object(new r(u)):new Array(u);var y;for(s=0;s<u;++s){y=v[s];if(o){y=typeof i==="undefined"?n(y,s):t(n,i,y,s)}xe(f,s,y)}}f.length=u;return f},of:function of(){var e=arguments.length;var t=this;var n=r(t)||!se.IsCallable(t)?new Array(e):se.Construct(t,[e]);for(var o=0;o<e;++o){xe(n,o,arguments[o])}n.length=e;return n}};b(Array,Ze);Pe(Array);q=function(e,t){this.i=0;this.array=e;this.kind=t};b(q.prototype,{next:function(){var e=this.i;var t=this.array;if(!(this instanceof q)){throw new TypeError("Not an ArrayIterator")}if(typeof t!=="undefined"){var r=se.ToLength(t.length);for(;e<r;e++){var n=this.kind;var o;if(n==="key"){o=e}else if(n==="value"){o=t[e]}else if(n==="entry"){o=[e,t[e]]}this.i=e+1;return Xe(o)}}this.array=void 0;return Xe()}});Ce(q.prototype);var Ye=Array.of===Ze.of||function(){var e=function Foo(e){this.length=e};e.prototype=[];var t=Array.of.apply(e,[1,2]);return t instanceof e&&t.length===2}();if(!Ye){re(Array,"of",Ze.of)}var Qe={copyWithin:function copyWithin(e,t){var r=se.ToObject(this);var n=se.ToLength(r.length);var o=se.ToInteger(e);var i=se.ToInteger(t);var a=o<0?A(n+o,0):R(o,n);var u=i<0?A(n+i,0):R(i,n);var f;if(arguments.length>2){f=arguments[2]}var s=typeof f==="undefined"?n:se.ToInteger(f);var c=s<0?A(n+s,0):R(s,n);var l=R(c-u,n-a);var p=1;if(u<a&&a<u+l){p=-1;u+=l-1;a+=l-1}while(l>0){if(u in r){r[a]=r[u]}else{delete r[a]}u+=p;a+=p;l-=1}return r},fill:function fill(e){var t;if(arguments.length>1){t=arguments[1]}var r;if(arguments.length>2){r=arguments[2]}var n=se.ToObject(this);var o=se.ToLength(n.length);t=se.ToInteger(typeof t==="undefined"?0:t);r=se.ToInteger(typeof r==="undefined"?o:r);var i=t<0?A(o+t,0):R(t,o);var a=r<0?o+r:r;for(var u=i;u<o&&u<a;++u){n[u]=e}return n},find:function find(e){var r=se.ToObject(this);var n=se.ToLength(r.length);if(!se.IsCallable(e)){throw new TypeError("Array#find: predicate must be a function")}var o=arguments.length>1?arguments[1]:null;for(var i=0,a;i<n;i++){a=r[i];if(o){if(t(e,o,a,i,r)){return a}}else if(e(a,i,r)){return a}}},findIndex:function findIndex(e){var r=se.ToObject(this);var n=se.ToLength(r.length);if(!se.IsCallable(e)){throw new TypeError("Array#findIndex: predicate must be a function")}var o=arguments.length>1?arguments[1]:null;for(var i=0;i<n;i++){if(o){if(t(e,o,r[i],i,r)){return i}}else if(e(r[i],i,r)){return i}}return-1},keys:function keys(){return new q(this,"key")},values:function values(){return new q(this,"value")},entries:function entries(){return new q(this,"entry")}};if(Array.prototype.keys&&!se.IsCallable([1].keys().next)){delete Array.prototype.keys}if(Array.prototype.entries&&!se.IsCallable([1].entries().next)){delete Array.prototype.entries}if(Array.prototype.keys&&Array.prototype.entries&&!Array.prototype.values&&Array.prototype[oe]){b(Array.prototype,{values:Array.prototype[oe]});if(te.symbol($.unscopables)){Array.prototype[$.unscopables].values=true}}if(c&&Array.prototype.values&&Array.prototype.values.name!=="values"){var et=Array.prototype.values;re(Array.prototype,"values",function values(){return se.Call(et,this,arguments)});h(Array.prototype,oe,Array.prototype.values,true)}b(Array.prototype,Qe);if(1/[true].indexOf(true,-0)<0){h(Array.prototype,"indexOf",function indexOf(e){var t=E(this,arguments);if(t===0&&1/t<0){return 0}return t},true)}Ce(Array.prototype,function(){return this.values()});if(Object.getPrototypeOf){Ce(Object.getPrototypeOf([].values()))}var tt=function(){return a(function(){return Array.from({length:-1}).length===0})}();var rt=function(){var e=Array.from([0].entries());return e.length===1&&r(e[0])&&e[0][0]===0&&e[0][1]===0}();if(!tt||!rt){re(Array,"from",Ze.from)}var nt=function(){return a(function(){return Array.from([0],void 0)})}();if(!nt){var ot=Array.from;re(Array,"from",function from(e){if(arguments.length>1&&typeof arguments[1]!=="undefined"){return se.Call(ot,this,arguments)}else{return t(ot,this,e)}})}var it=-(Math.pow(2,32)-1);var at=function(e,r){var n={length:it};n[r?(n.length>>>0)-1:0]=true;return a(function(){t(e,n,function(){throw new RangeError("should not reach here")},[]);return true})};if(!at(Array.prototype.forEach)){var ut=Array.prototype.forEach;re(Array.prototype,"forEach",function forEach(e){return se.Call(ut,this.length>=0?this:[],arguments)},true)}if(!at(Array.prototype.map)){var ft=Array.prototype.map;re(Array.prototype,"map",function map(e){return se.Call(ft,this.length>=0?this:[],arguments)},true)}if(!at(Array.prototype.filter)){var st=Array.prototype.filter;re(Array.prototype,"filter",function filter(e){return se.Call(st,this.length>=0?this:[],arguments)},true)}if(!at(Array.prototype.some)){var ct=Array.prototype.some;re(Array.prototype,"some",function some(e){return se.Call(ct,this.length>=0?this:[],arguments)},true)}if(!at(Array.prototype.every)){var lt=Array.prototype.every;re(Array.prototype,"every",function every(e){return se.Call(lt,this.length>=0?this:[],arguments)},true)}if(!at(Array.prototype.reduce)){var pt=Array.prototype.reduce;re(Array.prototype,"reduce",function reduce(e){return se.Call(pt,this.length>=0?this:[],arguments)},true)}if(!at(Array.prototype.reduceRight,true)){var vt=Array.prototype.reduceRight;re(Array.prototype,"reduceRight",function reduceRight(e){return se.Call(vt,this.length>=0?this:[],arguments)},true)}var yt=Number("0o10")!==8;var ht=Number("0b10")!==2;var bt=y(Be,function(e){return Number(e+0+e)===0});if(yt||ht||bt){var gt=Number;var dt=/^0b[01]+$/i;var mt=/^0o[0-7]+$/i;var Ot=dt.test.bind(dt);var wt=mt.test.bind(mt);var jt=function(e){var t;if(typeof e.valueOf==="function"){t=e.valueOf();if(te.primitive(t)){return t}}if(typeof e.toString==="function"){t=e.toString();if(te.primitive(t)){return t}}throw new TypeError("No default value")};var St=Ue.test.bind(Ue);var Tt=$e.test.bind($e);var It=function(){var e=function Number(t){var r;if(arguments.length>0){r=te.primitive(t)?t:jt(t,"number")}else{r=0}if(typeof r==="string"){r=se.Call(Ve,r);if(Ot(r)){r=parseInt(C(r,2),2)}else if(wt(r)){r=parseInt(C(r,2),8)}else if(St(r)||Tt(r)){r=NaN}}var n=this;var o=a(function(){gt.prototype.valueOf.call(n);return true});if(n instanceof e&&!o){return new gt(r)}return gt(r)};return e}();Ie(gt,It,{});b(It,{NaN:gt.NaN,MAX_VALUE:gt.MAX_VALUE,MIN_VALUE:gt.MIN_VALUE,NEGATIVE_INFINITY:gt.NEGATIVE_INFINITY,POSITIVE_INFINITY:gt.POSITIVE_INFINITY});Number=It;m.redefine(S,"Number",It)}var Et=Math.pow(2,53)-1;b(Number,{MAX_SAFE_INTEGER:Et,MIN_SAFE_INTEGER:-Et,EPSILON:2.220446049250313e-16,parseInt:S.parseInt,parseFloat:S.parseFloat,isFinite:K,isInteger:function isInteger(e){return K(e)&&se.ToInteger(e)===e},isSafeInteger:function isSafeInteger(e){return Number.isInteger(e)&&k(e)<=Number.MAX_SAFE_INTEGER},isNaN:X});h(Number,"parseInt",S.parseInt,Number.parseInt!==S.parseInt);if([,1].find(function(){return true})===1){re(Array.prototype,"find",Qe.find)}if([,1].findIndex(function(){return true})!==0){re(Array.prototype,"findIndex",Qe.findIndex)}var Pt=Function.bind.call(Function.bind,Object.prototype.propertyIsEnumerable);var Ct=function ensureEnumerable(e,t){if(s&&Pt(e,t)){Object.defineProperty(e,t,{enumerable:false})}};var Mt=function sliceArgs(){var e=Number(this);var t=arguments.length;var r=t-e;var n=new Array(r<0?0:r);for(var o=e;o<t;++o){n[o-e]=arguments[o]}return n};var xt=function assignTo(e){return function assignToSource(t,r){t[r]=e[r];return t}};var Nt=function(e,t){var r=n(Object(t));var o;if(se.IsCallable(Object.getOwnPropertySymbols)){o=v(Object.getOwnPropertySymbols(Object(t)),Pt(t))}return p(P(r,o||[]),xt(t),e)};var At={assign:function(e,t){var r=se.ToObject(e,"Cannot convert undefined or null to object");return p(se.Call(Mt,1,arguments),Nt,r)},is:function is(e,t){return se.SameValue(e,t)}};var Rt=Object.assign&&Object.preventExtensions&&function(){var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return e[1]==="y"}}();if(Rt){re(Object,"assign",At.assign)}b(Object,At);if(s){var _t={setPrototypeOf:function(e,r){var n;var o=function(e,t){if(!se.TypeIsObject(e)){throw new TypeError("cannot set prototype on a non-object")}if(!(t===null||se.TypeIsObject(t))){throw new TypeError("can only set prototype to an object or null"+t)}};var i=function(e,r){o(e,r);t(n,e,r);return e};try{n=e.getOwnPropertyDescriptor(e.prototype,r).set;t(n,{},null)}catch(t){if(e.prototype!=={}[r]){return}n=function(e){this[r]=e};i.polyfill=i(i({},null),e.prototype)instanceof e}return i}(Object,"__proto__")};b(Object,_t)}if(Object.setPrototypeOf&&Object.getPrototypeOf&&Object.getPrototypeOf(Object.setPrototypeOf({},null))!==null&&Object.getPrototypeOf(Object.create(null))===null){(function(){var e=Object.create(null);var t=Object.getPrototypeOf;var r=Object.setPrototypeOf;Object.getPrototypeOf=function(r){var n=t(r);return n===e?null:n};Object.setPrototypeOf=function(t,n){var o=n===null?e:n;return r(t,o)};Object.setPrototypeOf.polyfill=false})()}var kt=!i(function(){Object.keys("foo")});if(!kt){var Ft=Object.keys;re(Object,"keys",function keys(e){return Ft(se.ToObject(e))});n=Object.keys}var Lt=i(function(){Object.keys(/a/g)});if(Lt){var Dt=Object.keys;re(Object,"keys",function keys(e){if(te.regex(e)){var t=[];for(var r in e){if(z(e,r)){M(t,r)}}return t}return Dt(e)});n=Object.keys}if(Object.getOwnPropertyNames){var zt=!i(function(){Object.getOwnPropertyNames("foo")});if(!zt){var qt=typeof window==="object"?Object.getOwnPropertyNames(window):[];var Wt=Object.getOwnPropertyNames;re(Object,"getOwnPropertyNames",function getOwnPropertyNames(e){var t=se.ToObject(e);if(g(t)==="[object Window]"){try{return Wt(t)}catch(e){return P([],qt)}}return Wt(t)})}}if(Object.getOwnPropertyDescriptor){var Gt=!i(function(){Object.getOwnPropertyDescriptor("foo","bar")});if(!Gt){var Ht=Object.getOwnPropertyDescriptor;re(Object,"getOwnPropertyDescriptor",function getOwnPropertyDescriptor(e,t){return Ht(se.ToObject(e),t)})}}if(Object.seal){var Vt=!i(function(){Object.seal("foo")});if(!Vt){var Bt=Object.seal;re(Object,"seal",function seal(e){if(!se.TypeIsObject(e)){return e}return Bt(e)})}}if(Object.isSealed){var Ut=!i(function(){Object.isSealed("foo")});if(!Ut){var $t=Object.isSealed;re(Object,"isSealed",function isSealed(e){if(!se.TypeIsObject(e)){return true}return $t(e)})}}if(Object.freeze){var Jt=!i(function(){Object.freeze("foo")});if(!Jt){var Xt=Object.freeze;re(Object,"freeze",function freeze(e){if(!se.TypeIsObject(e)){return e}return Xt(e)})}}if(Object.isFrozen){var Kt=!i(function(){Object.isFrozen("foo")});if(!Kt){var Zt=Object.isFrozen;re(Object,"isFrozen",function isFrozen(e){if(!se.TypeIsObject(e)){return true}return Zt(e)})}}if(Object.preventExtensions){var Yt=!i(function(){Object.preventExtensions("foo")});if(!Yt){var Qt=Object.preventExtensions;re(Object,"preventExtensions",function preventExtensions(e){if(!se.TypeIsObject(e)){return e}return Qt(e)})}}if(Object.isExtensible){var er=!i(function(){Object.isExtensible("foo")});if(!er){var tr=Object.isExtensible;re(Object,"isExtensible",function isExtensible(e){if(!se.TypeIsObject(e)){return false}return tr(e)})}}if(Object.getPrototypeOf){var rr=!i(function(){Object.getPrototypeOf("foo")});if(!rr){var nr=Object.getPrototypeOf;re(Object,"getPrototypeOf",function getPrototypeOf(e){return nr(se.ToObject(e))})}}var or=s&&function(){var e=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags");return e&&se.IsCallable(e.get)}();if(s&&!or){var ir=function flags(){if(!se.TypeIsObject(this)){throw new TypeError("Method called on incompatible type: must be an object.")}var e="";if(this.global){e+="g"}if(this.ignoreCase){e+="i"}if(this.multiline){e+="m"}if(this.unicode){e+="u"}if(this.sticky){e+="y"}return e};m.getter(RegExp.prototype,"flags",ir)}var ar=s&&a(function(){return String(new RegExp(/a/g,"i"))==="/a/i"});var ur=ne&&s&&function(){var e=/./;e[$.match]=false;return RegExp(e)===e}();var fr=a(function(){return RegExp.prototype.toString.call({source:"abc"})==="/abc/"});var sr=fr&&a(function(){return RegExp.prototype.toString.call({source:"a",flags:"b"})==="/a/b"});if(!fr||!sr){var cr=RegExp.prototype.toString;h(RegExp.prototype,"toString",function toString(){var e=se.RequireObjectCoercible(this);if(te.regex(e)){return t(cr,e)}var r=ae(e.source);var n=ae(e.flags);return"/"+r+"/"+n},true);m.preserveToString(RegExp.prototype.toString,cr)}if(s&&(!ar||ur)){var lr=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags").get;var pr=Object.getOwnPropertyDescriptor(RegExp.prototype,"source")||{};var vr=function(){return this.source};var yr=se.IsCallable(pr.get)?pr.get:vr;var hr=RegExp;var br=function(){return function RegExp(e,t){var r=se.IsRegExp(e);var n=this instanceof RegExp;if(!n&&r&&typeof t==="undefined"&&e.constructor===RegExp){return e}var o=e;var i=t;if(te.regex(e)){o=se.Call(yr,e);i=typeof t==="undefined"?se.Call(lr,e):t;return new RegExp(o,i)}else if(r){o=e.source;i=typeof t==="undefined"?e.flags:t}return new hr(e,t)}}();Ie(hr,br,{$input:true});RegExp=br;m.redefine(S,"RegExp",br)}if(s){var gr={input:"$_",lastMatch:"$&",lastParen:"$+",leftContext:"$`",rightContext:"$'"};l(n(gr),function(e){if(e in RegExp&&!(gr[e]in RegExp)){m.getter(RegExp,gr[e],function get(){return RegExp[e]})}})}Pe(RegExp);var dr=1/Number.EPSILON;var mr=function roundTiesToEven(e){return e+dr-dr};var Or=Math.pow(2,-23);var wr=Math.pow(2,127)*(2-Or);var jr=Math.pow(2,-126);var Sr=Math.E;var Tr=Math.LOG2E;var Ir=Math.LOG10E;var Er=Number.prototype.clz;delete Number.prototype.clz;var Pr={acosh:function acosh(e){var t=Number(e);if(X(t)||e<1){return NaN}if(t===1){return 0}if(t===Infinity){return t}return L(t/Sr+D(t+1)*D(t-1)/Sr)+1},asinh:function asinh(e){var t=Number(e);if(t===0||!T(t)){return t}return t<0?-asinh(-t):L(t+D(t*t+1))},atanh:function atanh(e){var t=Number(e);if(X(t)||t<-1||t>1){return NaN}if(t===-1){return-Infinity}if(t===1){return Infinity}if(t===0){return t}return.5*L((1+t)/(1-t))},cbrt:function cbrt(e){var t=Number(e);if(t===0){return t}var r=t<0;var n;if(r){t=-t}if(t===Infinity){n=Infinity}else{n=F(L(t)/3);n=(t/(n*n)+2*n)/3}return r?-n:n},clz32:function clz32(e){var t=Number(e);var r=se.ToUint32(t);if(r===0){return 32}return Er?se.Call(Er,r):31-_(L(r+.5)*Tr)},cosh:function cosh(e){var t=Number(e);if(t===0){return 1}if(X(t)){return NaN}if(!T(t)){return Infinity}if(t<0){t=-t}if(t>21){return F(t)/2}return(F(t)+F(-t))/2},expm1:function expm1(e){var t=Number(e);if(t===-Infinity){return-1}if(!T(t)||t===0){return t}if(k(t)>.5){return F(t)-1}var r=t;var n=0;var o=1;while(n+r!==n){n+=r;o+=1;r*=t/o}return n},hypot:function hypot(e,t){var r=0;var n=0;for(var o=0;o<arguments.length;++o){var i=k(Number(arguments[o]));if(n<i){r*=n/i*(n/i);r+=1;n=i}else{r+=i>0?i/n*(i/n):i}}return n===Infinity?Infinity:n*D(r)},log2:function log2(e){return L(e)*Tr},log10:function log10(e){return L(e)*Ir},log1p:function log1p(e){var t=Number(e);if(t<-1||X(t)){return NaN}if(t===0||t===Infinity){return t}if(t===-1){return-Infinity}return 1+t-1===0?t:t*(L(1+t)/(1+t-1))},sign:Z,sinh:function sinh(e){var t=Number(e);if(!T(t)||t===0){return t}if(k(t)<1){return(Math.expm1(t)-Math.expm1(-t))/2}return(F(t-1)-F(-t-1))*Sr/2},tanh:function tanh(e){var t=Number(e);if(X(t)||t===0){return t}if(t>=20){return 1}if(t<=-20){return-1}return(Math.expm1(t)-Math.expm1(-t))/(F(t)+F(-t))},trunc:function trunc(e){var t=Number(e);return t<0?-_(-t):_(t)},imul:function imul(e,t){var r=se.ToUint32(e);var n=se.ToUint32(t);var o=r>>>16&65535;var i=r&65535;var a=n>>>16&65535;var u=n&65535;return i*u+(o*u+i*a<<16>>>0)|0},fround:function fround(e){var t=Number(e);if(t===0||t===Infinity||t===-Infinity||X(t)){return t}var r=Z(t);var n=k(t);if(n<jr){return r*mr(n/jr/Or)*jr*Or}var o=(1+Or/Number.EPSILON)*n;var i=o-(o-n);if(i>wr||X(i)){return r*Infinity}return r*i}};b(Math,Pr);h(Math,"log1p",Pr.log1p,Math.log1p(-1e-17)!==-1e-17);h(Math,"asinh",Pr.asinh,Math.asinh(-1e7)!==-Math.asinh(1e7));h(Math,"tanh",Pr.tanh,Math.tanh(-2e-17)!==-2e-17);h(Math,"acosh",Pr.acosh,Math.acosh(Number.MAX_VALUE)===Infinity);h(Math,"cbrt",Pr.cbrt,Math.abs(1-Math.cbrt(1e-300)/1e-100)/Number.EPSILON>8);h(Math,"sinh",Pr.sinh,Math.sinh(-2e-17)!==-2e-17);var Cr=Math.expm1(10);h(Math,"expm1",Pr.expm1,Cr>22025.465794806718||Cr<22025.465794806718);var Mr=Math.round;var xr=Math.round(.5-Number.EPSILON/4)===0&&Math.round(-.5+Number.EPSILON/3.99)===1;var Nr=dr+1;var Ar=2*dr-1;var Rr=[Nr,Ar].every(function(e){return Math.round(e)===e});h(Math,"round",function round(e){var t=_(e);var r=t===-1?-0:t+1;
return e-t<.5?t:r},!xr||!Rr);m.preserveToString(Math.round,Mr);var _r=Math.imul;if(Math.imul(4294967295,5)!==-5){Math.imul=Pr.imul;m.preserveToString(Math.imul,_r)}if(Math.imul.length!==2){re(Math,"imul",function imul(e,t){return se.Call(_r,Math,arguments)})}var kr=function(){var e=S.setTimeout;if(typeof e!=="function"&&typeof e!=="object"){return}se.IsPromise=function(e){if(!se.TypeIsObject(e)){return false}if(typeof e._promise==="undefined"){return false}return true};var r=function(e){if(!se.IsConstructor(e)){throw new TypeError("Bad promise constructor")}var t=this;var r=function(e,r){if(t.resolve!==void 0||t.reject!==void 0){throw new TypeError("Bad Promise implementation!")}t.resolve=e;t.reject=r};t.resolve=void 0;t.reject=void 0;t.promise=new e(r);if(!(se.IsCallable(t.resolve)&&se.IsCallable(t.reject))){throw new TypeError("Bad promise constructor")}};var n;if(typeof window!=="undefined"&&se.IsCallable(window.postMessage)){n=function(){var e=[];var t="zero-timeout-message";var r=function(r){M(e,r);window.postMessage(t,"*")};var n=function(r){if(r.source===window&&r.data===t){r.stopPropagation();if(e.length===0){return}var n=N(e);n()}};window.addEventListener("message",n,true);return r}}var o=function(){var e=S.Promise;var t=e&&e.resolve&&e.resolve();return t&&function(e){return t.then(e)}};var i=se.IsCallable(S.setImmediate)?S.setImmediate:typeof process==="object"&&process.nextTick?process.nextTick:o()||(se.IsCallable(n)?n():function(t){e(t,0)});var a=function(e){return e};var u=function(e){throw e};var f=0;var s=1;var c=2;var l=0;var p=1;var v=2;var y={};var h=function(e,t,r){i(function(){g(e,t,r)})};var g=function(e,t,r){var n,o;if(t===y){return e(r)}try{n=e(r);o=t.resolve}catch(e){n=e;o=t.reject}o(n)};var d=function(e,t){var r=e._promise;var n=r.reactionLength;if(n>0){h(r.fulfillReactionHandler0,r.reactionCapability0,t);r.fulfillReactionHandler0=void 0;r.rejectReactions0=void 0;r.reactionCapability0=void 0;if(n>1){for(var o=1,i=0;o<n;o++,i+=3){h(r[i+l],r[i+v],t);e[i+l]=void 0;e[i+p]=void 0;e[i+v]=void 0}}}r.result=t;r.state=s;r.reactionLength=0};var m=function(e,t){var r=e._promise;var n=r.reactionLength;if(n>0){h(r.rejectReactionHandler0,r.reactionCapability0,t);r.fulfillReactionHandler0=void 0;r.rejectReactions0=void 0;r.reactionCapability0=void 0;if(n>1){for(var o=1,i=0;o<n;o++,i+=3){h(r[i+p],r[i+v],t);e[i+l]=void 0;e[i+p]=void 0;e[i+v]=void 0}}}r.result=t;r.state=c;r.reactionLength=0};var O=function(e){var t=false;var r=function(r){var n;if(t){return}t=true;if(r===e){return m(e,new TypeError("Self resolution"))}if(!se.TypeIsObject(r)){return d(e,r)}try{n=r.then}catch(t){return m(e,t)}if(!se.IsCallable(n)){return d(e,r)}i(function(){j(e,r,n)})};var n=function(r){if(t){return}t=true;return m(e,r)};return{resolve:r,reject:n}};var w=function(e,r,n,o){if(e===I){t(e,r,n,o,y)}else{t(e,r,n,o)}};var j=function(e,t,r){var n=O(e);var o=n.resolve;var i=n.reject;try{w(r,t,o,i)}catch(e){i(e)}};var T,I;var E=function(){var e=function Promise(t){if(!(this instanceof e)){throw new TypeError('Constructor Promise requires "new"')}if(this&&this._promise){throw new TypeError("Bad construction")}if(!se.IsCallable(t)){throw new TypeError("not a valid resolver")}var r=Ne(this,e,T,{_promise:{result:void 0,state:f,reactionLength:0,fulfillReactionHandler0:void 0,rejectReactionHandler0:void 0,reactionCapability0:void 0}});var n=O(r);var o=n.reject;try{t(n.resolve,o)}catch(e){o(e)}return r};return e}();T=E.prototype;var P=function(e,t,r,n){var o=false;return function(i){if(o){return}o=true;t[e]=i;if(--n.count===0){var a=r.resolve;a(t)}}};var C=function(e,t,r){var n=e.iterator;var o=[];var i={count:1};var a,u;var f=0;while(true){try{a=se.IteratorStep(n);if(a===false){e.done=true;break}u=a.value}catch(t){e.done=true;throw t}o[f]=void 0;var s=t.resolve(u);var c=P(f,o,r,i);i.count+=1;w(s.then,s,c,r.reject);f+=1}if(--i.count===0){var l=r.resolve;l(o)}return r.promise};var x=function(e,t,r){var n=e.iterator;var o,i,a;while(true){try{o=se.IteratorStep(n);if(o===false){e.done=true;break}i=o.value}catch(t){e.done=true;throw t}a=t.resolve(i);w(a.then,a,r.resolve,r.reject)}return r.promise};b(E,{all:function all(e){var t=this;if(!se.TypeIsObject(t)){throw new TypeError("Promise is not object")}var n=new r(t);var o,i;try{o=se.GetIterator(e);i={iterator:o,done:false};return C(i,t,n)}catch(e){var a=e;if(i&&!i.done){try{se.IteratorClose(o,true)}catch(e){a=e}}var u=n.reject;u(a);return n.promise}},race:function race(e){var t=this;if(!se.TypeIsObject(t)){throw new TypeError("Promise is not object")}var n=new r(t);var o,i;try{o=se.GetIterator(e);i={iterator:o,done:false};return x(i,t,n)}catch(e){var a=e;if(i&&!i.done){try{se.IteratorClose(o,true)}catch(e){a=e}}var u=n.reject;u(a);return n.promise}},reject:function reject(e){var t=this;if(!se.TypeIsObject(t)){throw new TypeError("Bad promise constructor")}var n=new r(t);var o=n.reject;o(e);return n.promise},resolve:function resolve(e){var t=this;if(!se.TypeIsObject(t)){throw new TypeError("Bad promise constructor")}if(se.IsPromise(e)){var n=e.constructor;if(n===t){return e}}var o=new r(t);var i=o.resolve;i(e);return o.promise}});b(T,{catch:function(e){return this.then(null,e)},then:function then(e,t){var n=this;if(!se.IsPromise(n)){throw new TypeError("not a promise")}var o=se.SpeciesConstructor(n,E);var i;var b=arguments.length>2&&arguments[2]===y;if(b&&o===E){i=y}else{i=new r(o)}var g=se.IsCallable(e)?e:a;var d=se.IsCallable(t)?t:u;var m=n._promise;var O;if(m.state===f){if(m.reactionLength===0){m.fulfillReactionHandler0=g;m.rejectReactionHandler0=d;m.reactionCapability0=i}else{var w=3*(m.reactionLength-1);m[w+l]=g;m[w+p]=d;m[w+v]=i}m.reactionLength+=1}else if(m.state===s){O=m.result;h(g,i,O)}else if(m.state===c){O=m.result;h(d,i,O)}else{throw new TypeError("unexpected Promise state")}return i.promise}});y=new r(E);I=T.then;return E}();if(S.Promise){delete S.Promise.accept;delete S.Promise.defer;delete S.Promise.prototype.chain}if(typeof kr==="function"){b(S,{Promise:kr});var Fr=w(S.Promise,function(e){return e.resolve(42).then(function(){})instanceof e});var Lr=!i(function(){S.Promise.reject(42).then(null,5).then(null,W)});var Dr=i(function(){S.Promise.call(3,W)});var zr=function(e){var t=e.resolve(5);t.constructor={};var r=e.resolve(t);try{r.then(null,W).then(null,W)}catch(e){return true}return t===r}(S.Promise);var qr=s&&function(){var e=0;var t=Object.defineProperty({},"then",{get:function(){e+=1}});Promise.resolve(t);return e===1}();var Wr=function BadResolverPromise(e){var t=new Promise(e);e(3,function(){});this.then=t.then;this.constructor=BadResolverPromise};Wr.prototype=Promise.prototype;Wr.all=Promise.all;var Gr=a(function(){return!!Wr.all([1,2])});if(!Fr||!Lr||!Dr||zr||!qr||Gr){Promise=kr;re(S,"Promise",kr)}if(Promise.all.length!==1){var Hr=Promise.all;re(Promise,"all",function all(e){return se.Call(Hr,this,arguments)})}if(Promise.race.length!==1){var Vr=Promise.race;re(Promise,"race",function race(e){return se.Call(Vr,this,arguments)})}if(Promise.resolve.length!==1){var Br=Promise.resolve;re(Promise,"resolve",function resolve(e){return se.Call(Br,this,arguments)})}if(Promise.reject.length!==1){var Ur=Promise.reject;re(Promise,"reject",function reject(e){return se.Call(Ur,this,arguments)})}Ct(Promise,"all");Ct(Promise,"race");Ct(Promise,"resolve");Ct(Promise,"reject");Pe(Promise)}var $r=function(e){var t=n(p(e,function(e,t){e[t]=true;return e},{}));return e.join(":")===t.join(":")};var Jr=$r(["z","a","bb"]);var Xr=$r(["z",1,"a","3",2]);if(s){var Kr=function fastkey(e,t){if(!t&&!Jr){return null}if(fe(e)){return"^"+se.ToString(e)}else if(typeof e==="string"){return"$"+e}else if(typeof e==="number"){if(!Xr){return"n"+e}return e}else if(typeof e==="boolean"){return"b"+e}return null};var Zr=function emptyObject(){return Object.create?Object.create(null):{}};var Yr=function addIterableToMap(e,n,o){if(r(o)||te.string(o)){l(o,function(e){if(!se.TypeIsObject(e)){throw new TypeError("Iterator value "+e+" is not an entry object")}n.set(e[0],e[1])})}else if(o instanceof e){t(e.prototype.forEach,o,function(e,t){n.set(t,e)})}else{var i,a;if(!fe(o)){a=n.set;if(!se.IsCallable(a)){throw new TypeError("bad map")}i=se.GetIterator(o)}if(typeof i!=="undefined"){while(true){var u=se.IteratorStep(i);if(u===false){break}var f=u.value;try{if(!se.TypeIsObject(f)){throw new TypeError("Iterator value "+f+" is not an entry object")}t(a,n,f[0],f[1])}catch(e){se.IteratorClose(i,true);throw e}}}}};var Qr=function addIterableToSet(e,n,o){if(r(o)||te.string(o)){l(o,function(e){n.add(e)})}else if(o instanceof e){t(e.prototype.forEach,o,function(e){n.add(e)})}else{var i,a;if(!fe(o)){a=n.add;if(!se.IsCallable(a)){throw new TypeError("bad set")}i=se.GetIterator(o)}if(typeof i!=="undefined"){while(true){var u=se.IteratorStep(i);if(u===false){break}var f=u.value;try{t(a,n,f)}catch(e){se.IteratorClose(i,true);throw e}}}}};var en={Map:function(){var e={};var r=function MapEntry(e,t){this.key=e;this.value=t;this.next=null;this.prev=null};r.prototype.isRemoved=function isRemoved(){return this.key===e};var n=function isMap(e){return!!e._es6map};var o=function requireMapSlot(e,t){if(!se.TypeIsObject(e)||!n(e)){throw new TypeError("Method Map.prototype."+t+" called on incompatible receiver "+se.ToString(e))}};var i=function MapIterator(e,t){o(e,"[[MapIterator]]");this.head=e._head;this.i=this.head;this.kind=t};i.prototype={next:function next(){var e=this.i;var t=this.kind;var r=this.head;if(typeof this.i==="undefined"){return Xe()}while(e.isRemoved()&&e!==r){e=e.prev}var n;while(e.next!==r){e=e.next;if(!e.isRemoved()){if(t==="key"){n=e.key}else if(t==="value"){n=e.value}else{n=[e.key,e.value]}this.i=e;return Xe(n)}}this.i=void 0;return Xe()}};Ce(i.prototype);var a;var u=function Map(){if(!(this instanceof Map)){throw new TypeError('Constructor Map requires "new"')}if(this&&this._es6map){throw new TypeError("Bad construction")}var e=Ne(this,Map,a,{_es6map:true,_head:null,_map:G?new G:null,_size:0,_storage:Zr()});var t=new r(null,null);t.next=t.prev=t;e._head=t;if(arguments.length>0){Yr(Map,e,arguments[0])}return e};a=u.prototype;m.getter(a,"size",function(){if(typeof this._size==="undefined"){throw new TypeError("size method called on incompatible Map")}return this._size});b(a,{get:function get(e){o(this,"get");var t;var r=Kr(e,true);if(r!==null){t=this._storage[r];if(t){return t.value}else{return}}if(this._map){t=V.call(this._map,e);if(t){return t.value}else{return}}var n=this._head;var i=n;while((i=i.next)!==n){if(se.SameValueZero(i.key,e)){return i.value}}},has:function has(e){o(this,"has");var t=Kr(e,true);if(t!==null){return typeof this._storage[t]!=="undefined"}if(this._map){return B.call(this._map,e)}var r=this._head;var n=r;while((n=n.next)!==r){if(se.SameValueZero(n.key,e)){return true}}return false},set:function set(e,t){o(this,"set");var n=this._head;var i=n;var a;var u=Kr(e,true);if(u!==null){if(typeof this._storage[u]!=="undefined"){this._storage[u].value=t;return this}else{a=this._storage[u]=new r(e,t);i=n.prev}}else if(this._map){if(B.call(this._map,e)){V.call(this._map,e).value=t}else{a=new r(e,t);U.call(this._map,e,a);i=n.prev}}while((i=i.next)!==n){if(se.SameValueZero(i.key,e)){i.value=t;return this}}a=a||new r(e,t);if(se.SameValue(-0,e)){a.key=+0}a.next=this._head;a.prev=this._head.prev;a.prev.next=a;a.next.prev=a;this._size+=1;return this},delete:function(t){o(this,"delete");var r=this._head;var n=r;var i=Kr(t,true);if(i!==null){if(typeof this._storage[i]==="undefined"){return false}n=this._storage[i].prev;delete this._storage[i]}else if(this._map){if(!B.call(this._map,t)){return false}n=V.call(this._map,t).prev;H.call(this._map,t)}while((n=n.next)!==r){if(se.SameValueZero(n.key,t)){n.key=e;n.value=e;n.prev.next=n.next;n.next.prev=n.prev;this._size-=1;return true}}return false},clear:function clear(){o(this,"clear");this._map=G?new G:null;this._size=0;this._storage=Zr();var t=this._head;var r=t;var n=r.next;while((r=n)!==t){r.key=e;r.value=e;n=r.next;r.next=r.prev=t}t.next=t.prev=t},keys:function keys(){o(this,"keys");return new i(this,"key")},values:function values(){o(this,"values");return new i(this,"value")},entries:function entries(){o(this,"entries");return new i(this,"key+value")},forEach:function forEach(e){o(this,"forEach");var r=arguments.length>1?arguments[1]:null;var n=this.entries();for(var i=n.next();!i.done;i=n.next()){if(r){t(e,r,i.value[1],i.value[0],this)}else{e(i.value[1],i.value[0],this)}}}});Ce(a,a.entries);return u}(),Set:function(){var e=function isSet(e){return e._es6set&&typeof e._storage!=="undefined"};var r=function requireSetSlot(t,r){if(!se.TypeIsObject(t)||!e(t)){throw new TypeError("Set.prototype."+r+" called on incompatible receiver "+se.ToString(t))}};var o;var i=function Set(){if(!(this instanceof Set)){throw new TypeError('Constructor Set requires "new"')}if(this&&this._es6set){throw new TypeError("Bad construction")}var e=Ne(this,Set,o,{_es6set:true,"[[SetData]]":null,_storage:Zr()});if(!e._es6set){throw new TypeError("bad set")}if(arguments.length>0){Qr(Set,e,arguments[0])}return e};o=i.prototype;var a=function(e){var t=e;if(t==="^null"){return null}else if(t==="^undefined"){return void 0}else{var r=t.charAt(0);if(r==="$"){return C(t,1)}else if(r==="n"){return+C(t,1)}else if(r==="b"){return t==="btrue"}}return+t};var u=function ensureMap(e){if(!e["[[SetData]]"]){var t=new en.Map;e["[[SetData]]"]=t;l(n(e._storage),function(e){var r=a(e);t.set(r,r)});e["[[SetData]]"]=t}e._storage=null};m.getter(i.prototype,"size",function(){r(this,"size");if(this._storage){return n(this._storage).length}u(this);return this["[[SetData]]"].size});b(i.prototype,{has:function has(e){r(this,"has");var t;if(this._storage&&(t=Kr(e))!==null){return!!this._storage[t]}u(this);return this["[[SetData]]"].has(e)},add:function add(e){r(this,"add");var t;if(this._storage&&(t=Kr(e))!==null){this._storage[t]=true;return this}u(this);this["[[SetData]]"].set(e,e);return this},delete:function(e){r(this,"delete");var t;if(this._storage&&(t=Kr(e))!==null){var n=z(this._storage,t);return delete this._storage[t]&&n}u(this);return this["[[SetData]]"]["delete"](e)},clear:function clear(){r(this,"clear");if(this._storage){this._storage=Zr()}if(this["[[SetData]]"]){this["[[SetData]]"].clear()}},values:function values(){r(this,"values");u(this);return this["[[SetData]]"].values()},entries:function entries(){r(this,"entries");u(this);return this["[[SetData]]"].entries()},forEach:function forEach(e){r(this,"forEach");var n=arguments.length>1?arguments[1]:null;var o=this;u(o);this["[[SetData]]"].forEach(function(r,i){if(n){t(e,n,i,i,o)}else{e(i,i,o)}})}});h(i.prototype,"keys",i.prototype.values,true);Ce(i.prototype,i.prototype.values);return i}()};if(S.Map||S.Set){var tn=a(function(){return new Map([[1,2]]).get(1)===2});if(!tn){S.Map=function Map(){if(!(this instanceof Map)){throw new TypeError('Constructor Map requires "new"')}var e=new G;if(arguments.length>0){Yr(Map,e,arguments[0])}delete e.constructor;Object.setPrototypeOf(e,S.Map.prototype);return e};S.Map.prototype=O(G.prototype);h(S.Map.prototype,"constructor",S.Map,true);m.preserveToString(S.Map,G)}var rn=new Map;var nn=function(){var e=new Map([[1,0],[2,0],[3,0],[4,0]]);e.set(-0,e);return e.get(0)===e&&e.get(-0)===e&&e.has(0)&&e.has(-0)}();var on=rn.set(1,2)===rn;if(!nn||!on){re(Map.prototype,"set",function set(e,r){t(U,this,e===0?0:e,r);return this})}if(!nn){b(Map.prototype,{get:function get(e){return t(V,this,e===0?0:e)},has:function has(e){return t(B,this,e===0?0:e)}},true);m.preserveToString(Map.prototype.get,V);m.preserveToString(Map.prototype.has,B)}var an=new Set;var un=function(e){e["delete"](0);e.add(-0);return!e.has(0)}(an);var fn=an.add(1)===an;if(!un||!fn){var sn=Set.prototype.add;Set.prototype.add=function add(e){t(sn,this,e===0?0:e);return this};m.preserveToString(Set.prototype.add,sn)}if(!un){var cn=Set.prototype.has;Set.prototype.has=function has(e){return t(cn,this,e===0?0:e)};m.preserveToString(Set.prototype.has,cn);var ln=Set.prototype["delete"];Set.prototype["delete"]=function SetDelete(e){return t(ln,this,e===0?0:e)};m.preserveToString(Set.prototype["delete"],ln)}var pn=w(S.Map,function(e){var t=new e([]);t.set(42,42);return t instanceof e});var vn=Object.setPrototypeOf&&!pn;var yn=function(){try{return!(S.Map()instanceof S.Map)}catch(e){return e instanceof TypeError}}();if(S.Map.length!==0||vn||!yn){S.Map=function Map(){if(!(this instanceof Map)){throw new TypeError('Constructor Map requires "new"')}var e=new G;if(arguments.length>0){Yr(Map,e,arguments[0])}delete e.constructor;Object.setPrototypeOf(e,Map.prototype);return e};S.Map.prototype=G.prototype;h(S.Map.prototype,"constructor",S.Map,true);m.preserveToString(S.Map,G)}var hn=w(S.Set,function(e){var t=new e([]);t.add(42,42);return t instanceof e});var bn=Object.setPrototypeOf&&!hn;var gn=function(){try{return!(S.Set()instanceof S.Set)}catch(e){return e instanceof TypeError}}();if(S.Set.length!==0||bn||!gn){var dn=S.Set;S.Set=function Set(){if(!(this instanceof Set)){throw new TypeError('Constructor Set requires "new"')}var e=new dn;if(arguments.length>0){Qr(Set,e,arguments[0])}delete e.constructor;Object.setPrototypeOf(e,Set.prototype);return e};S.Set.prototype=dn.prototype;h(S.Set.prototype,"constructor",S.Set,true);m.preserveToString(S.Set,dn)}var mn=new S.Map;var On=!a(function(){return mn.keys().next().done});if(typeof S.Map.prototype.clear!=="function"||(new S.Set).size!==0||mn.size!==0||typeof S.Map.prototype.keys!=="function"||typeof S.Set.prototype.keys!=="function"||typeof S.Map.prototype.forEach!=="function"||typeof S.Set.prototype.forEach!=="function"||u(S.Map)||u(S.Set)||typeof mn.keys().next!=="function"||On||!pn){b(S,{Map:en.Map,Set:en.Set},true)}if(S.Set.prototype.keys!==S.Set.prototype.values){h(S.Set.prototype,"keys",S.Set.prototype.values,true)}Ce(Object.getPrototypeOf((new S.Map).keys()));Ce(Object.getPrototypeOf((new S.Set).keys()));if(c&&S.Set.prototype.has.name!=="has"){var wn=S.Set.prototype.has;re(S.Set.prototype,"has",function has(e){return t(wn,this,e)})}}b(S,en);Pe(S.Map);Pe(S.Set)}var jn=function throwUnlessTargetIsObject(e){if(!se.TypeIsObject(e)){throw new TypeError("target must be an object")}};var Sn={apply:function apply(){return se.Call(se.Call,null,arguments)},construct:function construct(e,t){if(!se.IsConstructor(e)){throw new TypeError("First argument must be a constructor.")}var r=arguments.length>2?arguments[2]:e;if(!se.IsConstructor(r)){throw new TypeError("new.target must be a constructor.")}return se.Construct(e,t,r,"internal")},deleteProperty:function deleteProperty(e,t){jn(e);if(s){var r=Object.getOwnPropertyDescriptor(e,t);if(r&&!r.configurable){return false}}return delete e[t]},has:function has(e,t){jn(e);return t in e}};if(Object.getOwnPropertyNames){Object.assign(Sn,{ownKeys:function ownKeys(e){jn(e);var t=Object.getOwnPropertyNames(e);if(se.IsCallable(Object.getOwnPropertySymbols)){x(t,Object.getOwnPropertySymbols(e))}return t}})}var Tn=function ConvertExceptionToBoolean(e){return!i(e)};if(Object.preventExtensions){Object.assign(Sn,{isExtensible:function isExtensible(e){jn(e);return Object.isExtensible(e)},preventExtensions:function preventExtensions(e){jn(e);return Tn(function(){Object.preventExtensions(e)})}})}if(s){var In=function get(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(!n){var o=Object.getPrototypeOf(e);if(o===null){return void 0}return In(o,t,r)}if("value"in n){return n.value}if(n.get){return se.Call(n.get,r)}return void 0};var En=function set(e,r,n,o){var i=Object.getOwnPropertyDescriptor(e,r);if(!i){var a=Object.getPrototypeOf(e);if(a!==null){return En(a,r,n,o)}i={value:void 0,writable:true,enumerable:true,configurable:true}}if("value"in i){if(!i.writable){return false}if(!se.TypeIsObject(o)){return false}var u=Object.getOwnPropertyDescriptor(o,r);if(u){return ie.defineProperty(o,r,{value:n})}else{return ie.defineProperty(o,r,{value:n,writable:true,enumerable:true,configurable:true})}}if(i.set){t(i.set,o,n);return true}return false};Object.assign(Sn,{defineProperty:function defineProperty(e,t,r){jn(e);return Tn(function(){Object.defineProperty(e,t,r)})},getOwnPropertyDescriptor:function getOwnPropertyDescriptor(e,t){jn(e);return Object.getOwnPropertyDescriptor(e,t)},get:function get(e,t){jn(e);var r=arguments.length>2?arguments[2]:e;return In(e,t,r)},set:function set(e,t,r){jn(e);var n=arguments.length>3?arguments[3]:e;return En(e,t,r,n)}})}if(Object.getPrototypeOf){var Pn=Object.getPrototypeOf;Sn.getPrototypeOf=function getPrototypeOf(e){jn(e);return Pn(e)}}if(Object.setPrototypeOf&&Sn.getPrototypeOf){var Cn=function(e,t){var r=t;while(r){if(e===r){return true}r=Sn.getPrototypeOf(r)}return false};Object.assign(Sn,{setPrototypeOf:function setPrototypeOf(e,t){jn(e);if(t!==null&&!se.TypeIsObject(t)){throw new TypeError("proto must be an object or null")}if(t===ie.getPrototypeOf(e)){return true}if(ie.isExtensible&&!ie.isExtensible(e)){return false}if(Cn(e,t)){return false}Object.setPrototypeOf(e,t);return true}})}var Mn=function(e,t){if(!se.IsCallable(S.Reflect[e])){h(S.Reflect,e,t)}else{var r=a(function(){S.Reflect[e](1);S.Reflect[e](NaN);S.Reflect[e](true);return true});if(r){re(S.Reflect,e,t)}}};Object.keys(Sn).forEach(function(e){Mn(e,Sn[e])});var xn=S.Reflect.getPrototypeOf;if(c&&xn&&xn.name!=="getPrototypeOf"){re(S.Reflect,"getPrototypeOf",function getPrototypeOf(e){return t(xn,S.Reflect,e)})}if(S.Reflect.setPrototypeOf){if(a(function(){S.Reflect.setPrototypeOf(1,{});return true})){re(S.Reflect,"setPrototypeOf",Sn.setPrototypeOf)}}if(S.Reflect.defineProperty){if(!a(function(){var e=!S.Reflect.defineProperty(1,"test",{value:1});var t=typeof Object.preventExtensions!=="function"||!S.Reflect.defineProperty(Object.preventExtensions({}),"test",{});return e&&t})){re(S.Reflect,"defineProperty",Sn.defineProperty)}}if(S.Reflect.construct){if(!a(function(){var e=function F(){};return S.Reflect.construct(function(){},[],e)instanceof e})){re(S.Reflect,"construct",Sn.construct)}}if(String(new Date(NaN))!=="Invalid Date"){var Nn=Date.prototype.toString;var An=function toString(){var e=+this;if(e!==e){return"Invalid Date"}return se.Call(Nn,this)};re(Date.prototype,"toString",An)}var Rn={anchor:function anchor(e){return se.CreateHTML(this,"a","name",e)},big:function big(){return se.CreateHTML(this,"big","","")},blink:function blink(){return se.CreateHTML(this,"blink","","")},bold:function bold(){return se.CreateHTML(this,"b","","")},fixed:function fixed(){return se.CreateHTML(this,"tt","","")},fontcolor:function fontcolor(e){return se.CreateHTML(this,"font","color",e)},fontsize:function fontsize(e){return se.CreateHTML(this,"font","size",e)},italics:function italics(){return se.CreateHTML(this,"i","","")},link:function link(e){return se.CreateHTML(this,"a","href",e)},small:function small(){return se.CreateHTML(this,"small","","")},strike:function strike(){return se.CreateHTML(this,"strike","","")},sub:function sub(){return se.CreateHTML(this,"sub","","")},sup:function sub(){return se.CreateHTML(this,"sup","","")}};l(Object.keys(Rn),function(e){var r=String.prototype[e];var n=false;if(se.IsCallable(r)){var o=t(r,"",' " ');var i=P([],o.match(/"/g)).length;n=o!==o.toLowerCase()||i>2}else{n=true}if(n){re(String.prototype,e,Rn[e])}});var _n=function(){if(!ne){return false}var e=typeof JSON==="object"&&typeof JSON.stringify==="function"?JSON.stringify:null;if(!e){return false}if(typeof e($())!=="undefined"){return true}if(e([$()])!=="[null]"){return true}var t={a:$()};t[$()]=true;if(e(t)!=="{}"){return true}return false}();var kn=a(function(){if(!ne){return true}return JSON.stringify(Object($()))==="{}"&&JSON.stringify([Object($())])==="[{}]"});if(_n||!kn){var Fn=JSON.stringify;re(JSON,"stringify",function stringify(e){if(typeof e==="symbol"){return}var n;if(arguments.length>1){n=arguments[1]}var o=[e];if(!r(n)){var i=se.IsCallable(n)?n:null;var a=function(e,r){var n=i?t(i,this,e,r):r;if(typeof n!=="symbol"){if(te.symbol(n)){return xt({})(n)}else{return n}}};o.push(a)}else{o.push(n)}if(arguments.length>2){o.push(arguments[2])}return Fn.apply(this,o)})}return S});
//# sourceMappingURL=es6-shim.map
/*! jQuery v3.1.1 | (c) jQuery Foundation | jquery.org/license */
!function(a,b){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){"use strict";var c=[],d=a.document,e=Object.getPrototypeOf,f=c.slice,g=c.concat,h=c.push,i=c.indexOf,j={},k=j.toString,l=j.hasOwnProperty,m=l.toString,n=m.call(Object),o={};function p(a,b){b=b||d;var c=b.createElement("script");c.text=a,b.head.appendChild(c).parentNode.removeChild(c)}var q="3.1.1",r=function(a,b){return new r.fn.init(a,b)},s=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,t=/^-ms-/,u=/-([a-z])/g,v=function(a,b){return b.toUpperCase()};r.fn=r.prototype={jquery:q,constructor:r,length:0,toArray:function(){return f.call(this)},get:function(a){return null==a?f.call(this):a<0?this[a+this.length]:this[a]},pushStack:function(a){var b=r.merge(this.constructor(),a);return b.prevObject=this,b},each:function(a){return r.each(this,a)},map:function(a){return this.pushStack(r.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(f.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(a<0?b:0);return this.pushStack(c>=0&&c<b?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:h,sort:c.sort,splice:c.splice},r.extend=r.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||r.isFunction(g)||(g={}),h===i&&(g=this,h--);h<i;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(r.isPlainObject(d)||(e=r.isArray(d)))?(e?(e=!1,f=c&&r.isArray(c)?c:[]):f=c&&r.isPlainObject(c)?c:{},g[b]=r.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},r.extend({expando:"jQuery"+(q+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===r.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=r.type(a);return("number"===b||"string"===b)&&!isNaN(a-parseFloat(a))},isPlainObject:function(a){var b,c;return!(!a||"[object Object]"!==k.call(a))&&(!(b=e(a))||(c=l.call(b,"constructor")&&b.constructor,"function"==typeof c&&m.call(c)===n))},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?j[k.call(a)]||"object":typeof a},globalEval:function(a){p(a)},camelCase:function(a){return a.replace(t,"ms-").replace(u,v)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,d=0;if(w(a)){for(c=a.length;d<c;d++)if(b.call(a[d],d,a[d])===!1)break}else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(s,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(w(Object(a))?r.merge(c,"string"==typeof a?[a]:a):h.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:i.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;d<c;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;f<g;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,e,f=0,h=[];if(w(a))for(d=a.length;f<d;f++)e=b(a[f],f,c),null!=e&&h.push(e);else for(f in a)e=b(a[f],f,c),null!=e&&h.push(e);return g.apply([],h)},guid:1,proxy:function(a,b){var c,d,e;if("string"==typeof b&&(c=a[b],b=a,a=c),r.isFunction(a))return d=f.call(arguments,2),e=function(){return a.apply(b||this,d.concat(f.call(arguments)))},e.guid=a.guid=a.guid||r.guid++,e},now:Date.now,support:o}),"function"==typeof Symbol&&(r.fn[Symbol.iterator]=c[Symbol.iterator]),r.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){j["[object "+b+"]"]=b.toLowerCase()});function w(a){var b=!!a&&"length"in a&&a.length,c=r.type(a);return"function"!==c&&!r.isWindow(a)&&("array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a)}var x=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C={}.hasOwnProperty,D=[],E=D.pop,F=D.push,G=D.push,H=D.slice,I=function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",K="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",M="\\["+K+"*("+L+")(?:"+K+"*([*^$|!~]?=)"+K+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+L+"))|)"+K+"*\\]",N=":("+L+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+M+")*)|.*)\\)|)",O=new RegExp(K+"+","g"),P=new RegExp("^"+K+"+|((?:^|[^\\\\])(?:\\\\.)*)"+K+"+$","g"),Q=new RegExp("^"+K+"*,"+K+"*"),R=new RegExp("^"+K+"*([>+~]|"+K+")"+K+"*"),S=new RegExp("="+K+"*([^\\]'\"]*?)"+K+"*\\]","g"),T=new RegExp(N),U=new RegExp("^"+L+"$"),V={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L+"|[*])"),ATTR:new RegExp("^"+M),PSEUDO:new RegExp("^"+N),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+K+"*(even|odd|(([+-]|)(\\d*)n|)"+K+"*(?:([+-]|)"+K+"*(\\d+)|))"+K+"*\\)|)","i"),bool:new RegExp("^(?:"+J+")$","i"),needsContext:new RegExp("^"+K+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+K+"*((?:-\\d)?\\d*)"+K+"*\\)|)(?=[^-]|$)","i")},W=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,$=/[+~]/,_=new RegExp("\\\\([\\da-f]{1,6}"+K+"?|("+K+")|.)","ig"),aa=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:d<0?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ba=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ca=function(a,b){return b?"\0"===a?"\ufffd":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a},da=function(){m()},ea=ta(function(a){return a.disabled===!0&&("form"in a||"label"in a)},{dir:"parentNode",next:"legend"});try{G.apply(D=H.call(v.childNodes),v.childNodes),D[v.childNodes.length].nodeType}catch(fa){G={apply:D.length?function(a,b){F.apply(a,H.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function ga(a,b,d,e){var f,h,j,k,l,o,r,s=b&&b.ownerDocument,w=b?b.nodeType:9;if(d=d||[],"string"!=typeof a||!a||1!==w&&9!==w&&11!==w)return d;if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==w&&(l=Z.exec(a)))if(f=l[1]){if(9===w){if(!(j=b.getElementById(f)))return d;if(j.id===f)return d.push(j),d}else if(s&&(j=s.getElementById(f))&&t(b,j)&&j.id===f)return d.push(j),d}else{if(l[2])return G.apply(d,b.getElementsByTagName(a)),d;if((f=l[3])&&c.getElementsByClassName&&b.getElementsByClassName)return G.apply(d,b.getElementsByClassName(f)),d}if(c.qsa&&!A[a+" "]&&(!q||!q.test(a))){if(1!==w)s=b,r=a;else if("object"!==b.nodeName.toLowerCase()){(k=b.getAttribute("id"))?k=k.replace(ba,ca):b.setAttribute("id",k=u),o=g(a),h=o.length;while(h--)o[h]="#"+k+" "+sa(o[h]);r=o.join(","),s=$.test(a)&&qa(b.parentNode)||b}if(r)try{return G.apply(d,s.querySelectorAll(r)),d}catch(x){}finally{k===u&&b.removeAttribute("id")}}}return i(a.replace(P,"$1"),b,d,e)}function ha(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ia(a){return a[u]=!0,a}function ja(a){var b=n.createElement("fieldset");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ka(a,b){var c=a.split("|"),e=c.length;while(e--)d.attrHandle[c[e]]=b}function la(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&a.sourceIndex-b.sourceIndex;if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function na(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function oa(a){return function(b){return"form"in b?b.parentNode&&b.disabled===!1?"label"in b?"label"in b.parentNode?b.parentNode.disabled===a:b.disabled===a:b.isDisabled===a||b.isDisabled!==!a&&ea(b)===a:b.disabled===a:"label"in b&&b.disabled===a}}function pa(a){return ia(function(b){return b=+b,ia(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function qa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=ga.support={},f=ga.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},m=ga.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),v!==n&&(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",da,!1):e.attachEvent&&e.attachEvent("onunload",da)),c.attributes=ja(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ja(function(a){return a.appendChild(n.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Y.test(n.getElementsByClassName),c.getById=ja(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.filter.ID=function(a){var b=a.replace(_,aa);return function(a){return a.getAttribute("id")===b}},d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[]}}):(d.filter.ID=function(a){var b=a.replace(_,aa);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}},d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c,d,e,f=b.getElementById(a);if(f){if(c=f.getAttributeNode("id"),c&&c.value===a)return[f];e=b.getElementsByName(a),d=0;while(f=e[d++])if(c=f.getAttributeNode("id"),c&&c.value===a)return[f]}return[]}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){if("undefined"!=typeof b.getElementsByClassName&&p)return b.getElementsByClassName(a)},r=[],q=[],(c.qsa=Y.test(n.querySelectorAll))&&(ja(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+K+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+K+"*(?:value|"+J+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ja(function(a){a.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var b=n.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+K+"*[*^$|!~]?="),2!==a.querySelectorAll(":enabled").length&&q.push(":enabled",":disabled"),o.appendChild(a).disabled=!0,2!==a.querySelectorAll(":disabled").length&&q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=Y.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ja(function(a){c.disconnectedMatch=s.call(a,"*"),s.call(a,"[s!='']:x"),r.push("!=",N)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=Y.test(o.compareDocumentPosition),t=b||Y.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?I(k,a)-I(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f)return a===n?-1:b===n?1:e?-1:f?1:k?I(k,a)-I(k,b):0;if(e===f)return la(a,b);c=a;while(c=c.parentNode)g.unshift(c);c=b;while(c=c.parentNode)h.unshift(c);while(g[d]===h[d])d++;return d?la(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},ga.matches=function(a,b){return ga(a,null,null,b)},ga.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(S,"='$1']"),c.matchesSelector&&p&&!A[b+" "]&&(!r||!r.test(b))&&(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return ga(b,n,null,[a]).length>0},ga.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},ga.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&C.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},ga.escape=function(a){return(a+"").replace(ba,ca)},ga.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},ga.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=ga.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=ga.selectors={cacheLength:50,createPseudo:ia,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(_,aa),a[3]=(a[3]||a[4]||a[5]||"").replace(_,aa),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||ga.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&ga.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return V.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&T.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(_,aa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+K+")"+a+"("+K+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=ga.attr(d,a);return null==e?"!="===b:!b||(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(O," ")+" ").indexOf(c)>-1:"|="===b&&(e===c||e.slice(0,c.length+1)===c+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){while(p){m=b;while(m=m[p])if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){m=q,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n&&j[2],m=n&&q.childNodes[n];while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break}}else if(s&&(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),t===!1)while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if((h?m.nodeName.toLowerCase()===r:1===m.nodeType)&&++t&&(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m===b))break;return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||ga.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ia(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=I(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ia(function(a){var b=[],c=[],d=h(a.replace(P,"$1"));return d[u]?ia(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ia(function(a){return function(b){return ga(a,b).length>0}}),contains:ia(function(a){return a=a.replace(_,aa),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ia(function(a){return U.test(a||"")||ga.error("unsupported lang: "+a),a=a.replace(_,aa).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:oa(!1),disabled:oa(!0),checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return X.test(a.nodeName)},input:function(a){return W.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:pa(function(){return[0]}),last:pa(function(a,b){return[b-1]}),eq:pa(function(a,b,c){return[c<0?c+b:c]}),even:pa(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:pa(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:pa(function(a,b,c){for(var d=c<0?c+b:c;--d>=0;)a.push(d);return a}),gt:pa(function(a,b,c){for(var d=c<0?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=ma(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=na(b);function ra(){}ra.prototype=d.filters=d.pseudos,d.setFilters=new ra,g=ga.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){c&&!(e=Q.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=R.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(P," ")}),h=h.slice(c.length));for(g in d.filter)!(e=V[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?ga.error(a):z(a,i).slice(0)};function sa(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function ta(a,b,c){var d=b.dir,e=b.next,f=e||d,g=c&&"parentNode"===f,h=x++;return b.first?function(b,c,e){while(b=b[d])if(1===b.nodeType||g)return a(b,c,e);return!1}:function(b,c,i){var j,k,l,m=[w,h];if(i){while(b=b[d])if((1===b.nodeType||g)&&a(b,c,i))return!0}else while(b=b[d])if(1===b.nodeType||g)if(l=b[u]||(b[u]={}),k=l[b.uniqueID]||(l[b.uniqueID]={}),e&&e===b.nodeName.toLowerCase())b=b[d]||b;else{if((j=k[f])&&j[0]===w&&j[1]===h)return m[2]=j[2];if(k[f]=m,m[2]=a(b,c,i))return!0}return!1}}function ua(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function va(a,b,c){for(var d=0,e=b.length;d<e;d++)ga(a,b[d],c);return c}function wa(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;h<i;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function xa(a,b,c,d,e,f){return d&&!d[u]&&(d=xa(d)),e&&!e[u]&&(e=xa(e,f)),ia(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||va(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:wa(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=wa(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?I(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=wa(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):G.apply(g,r)})}function ya(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=ta(function(a){return a===b},h,!0),l=ta(function(a){return I(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];i<f;i++)if(c=d.relative[a[i].type])m=[ta(ua(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;e<f;e++)if(d.relative[a[e].type])break;return xa(i>1&&ua(m),i>1&&sa(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(P,"$1"),c,i<e&&ya(a.slice(i,e)),e<f&&ya(a=a.slice(e)),e<f&&sa(a))}m.push(c)}return ua(m)}function za(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s="0",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG("*",k),y=w+=null==v?1:Math.random()||.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){o=0,g||l.ownerDocument===n||(m(l),h=!p);while(q=a[o++])if(q(l,g||n,h)){i.push(l);break}k&&(w=y)}c&&((l=!q&&l)&&r--,f&&t.push(l))}if(r+=s,c&&s!==r){o=0;while(q=b[o++])q(t,u,g,h);if(f){if(r>0)while(s--)t[s]||u[s]||(u[s]=E.call(i));u=wa(u)}G.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&ga.uniqueSort(i)}return k&&(w=y,j=v),t};return c?ia(f):f}return h=ga.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=ya(b[c]),f[u]?d.push(f):e.push(f);f=A(a,za(e,d)),f.selector=a}return f},i=ga.select=function(a,b,c,e){var f,i,j,k,l,m="function"==typeof a&&a,n=!e&&g(a=m.selector||a);if(c=c||[],1===n.length){if(i=n[0]=n[0].slice(0),i.length>2&&"ID"===(j=i[0]).type&&9===b.nodeType&&p&&d.relative[i[1].type]){if(b=(d.find.ID(j.matches[0].replace(_,aa),b)||[])[0],!b)return c;m&&(b=b.parentNode),a=a.slice(i.shift().value.length)}f=V.needsContext.test(a)?0:i.length;while(f--){if(j=i[f],d.relative[k=j.type])break;if((l=d.find[k])&&(e=l(j.matches[0].replace(_,aa),$.test(i[0].type)&&qa(b.parentNode)||b))){if(i.splice(f,1),a=e.length&&sa(i),!a)return G.apply(c,e),c;break}}}return(m||h(a,n))(e,b,!p,c,!b||$.test(a)&&qa(b.parentNode)||b),c},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ja(function(a){return 1&a.compareDocumentPosition(n.createElement("fieldset"))}),ja(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ka("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ja(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ka("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue}),ja(function(a){return null==a.getAttribute("disabled")})||ka(J,function(a,b,c){var d;if(!c)return a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),ga}(a);r.find=x,r.expr=x.selectors,r.expr[":"]=r.expr.pseudos,r.uniqueSort=r.unique=x.uniqueSort,r.text=x.getText,r.isXMLDoc=x.isXML,r.contains=x.contains,r.escapeSelector=x.escape;var y=function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&r(a).is(c))break;d.push(a)}return d},z=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},A=r.expr.match.needsContext,B=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,C=/^.[^:#\[\.,]*$/;function D(a,b,c){return r.isFunction(b)?r.grep(a,function(a,d){return!!b.call(a,d,a)!==c}):b.nodeType?r.grep(a,function(a){return a===b!==c}):"string"!=typeof b?r.grep(a,function(a){return i.call(b,a)>-1!==c}):C.test(b)?r.filter(b,a,c):(b=r.filter(b,a),r.grep(a,function(a){return i.call(b,a)>-1!==c&&1===a.nodeType}))}r.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?r.find.matchesSelector(d,a)?[d]:[]:r.find.matches(a,r.grep(b,function(a){return 1===a.nodeType}))},r.fn.extend({find:function(a){var b,c,d=this.length,e=this;if("string"!=typeof a)return this.pushStack(r(a).filter(function(){for(b=0;b<d;b++)if(r.contains(e[b],this))return!0}));for(c=this.pushStack([]),b=0;b<d;b++)r.find(a,e[b],c);return d>1?r.uniqueSort(c):c},filter:function(a){return this.pushStack(D(this,a||[],!1))},not:function(a){return this.pushStack(D(this,a||[],!0))},is:function(a){return!!D(this,"string"==typeof a&&A.test(a)?r(a):a||[],!1).length}});var E,F=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,G=r.fn.init=function(a,b,c){var e,f;if(!a)return this;if(c=c||E,"string"==typeof a){if(e="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:F.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof r?b[0]:b,r.merge(this,r.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),B.test(e[1])&&r.isPlainObject(b))for(e in b)r.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}return f=d.getElementById(e[2]),f&&(this[0]=f,this.length=1),this}return a.nodeType?(this[0]=a,this.length=1,this):r.isFunction(a)?void 0!==c.ready?c.ready(a):a(r):r.makeArray(a,this)};G.prototype=r.fn,E=r(d);var H=/^(?:parents|prev(?:Until|All))/,I={children:!0,contents:!0,next:!0,prev:!0};r.fn.extend({has:function(a){var b=r(a,this),c=b.length;return this.filter(function(){for(var a=0;a<c;a++)if(r.contains(this,b[a]))return!0})},closest:function(a,b){var c,d=0,e=this.length,f=[],g="string"!=typeof a&&r(a);if(!A.test(a))for(;d<e;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&r.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?r.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?i.call(r(a),this[0]):i.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(r.uniqueSort(r.merge(this.get(),r(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function J(a,b){while((a=a[b])&&1!==a.nodeType);return a}r.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return y(a,"parentNode")},parentsUntil:function(a,b,c){return y(a,"parentNode",c)},next:function(a){return J(a,"nextSibling")},prev:function(a){return J(a,"previousSibling")},nextAll:function(a){return y(a,"nextSibling")},prevAll:function(a){return y(a,"previousSibling")},nextUntil:function(a,b,c){return y(a,"nextSibling",c)},prevUntil:function(a,b,c){return y(a,"previousSibling",c)},siblings:function(a){return z((a.parentNode||{}).firstChild,a)},children:function(a){return z(a.firstChild)},contents:function(a){return a.contentDocument||r.merge([],a.childNodes)}},function(a,b){r.fn[a]=function(c,d){var e=r.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=r.filter(d,e)),this.length>1&&(I[a]||r.uniqueSort(e),H.test(a)&&e.reverse()),this.pushStack(e)}});var K=/[^\x20\t\r\n\f]+/g;function L(a){var b={};return r.each(a.match(K)||[],function(a,c){b[c]=!0}),b}r.Callbacks=function(a){a="string"==typeof a?L(a):r.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=a.once,d=b=!0;g.length;h=-1){c=g.shift();while(++h<f.length)f[h].apply(c[0],c[1])===!1&&a.stopOnFalse&&(h=f.length,c=!1)}a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){r.each(b,function(b,c){r.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&"string"!==r.type(c)&&d(c)})}(arguments),c&&!b&&i()),this},remove:function(){return r.each(arguments,function(a,b){var c;while((c=r.inArray(b,f,c))>-1)f.splice(c,1),c<=h&&h--}),this},has:function(a){return a?r.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c="",this},disabled:function(){return!f},lock:function(){return e=g=[],c||b||(f=c=""),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return!!d}};return j};function M(a){return a}function N(a){throw a}function O(a,b,c){var d;try{a&&r.isFunction(d=a.promise)?d.call(a).done(b).fail(c):a&&r.isFunction(d=a.then)?d.call(a,b,c):b.call(void 0,a)}catch(a){c.call(void 0,a)}}r.extend({Deferred:function(b){var c=[["notify","progress",r.Callbacks("memory"),r.Callbacks("memory"),2],["resolve","done",r.Callbacks("once memory"),r.Callbacks("once memory"),0,"resolved"],["reject","fail",r.Callbacks("once memory"),r.Callbacks("once memory"),1,"rejected"]],d="pending",e={state:function(){return d},always:function(){return f.done(arguments).fail(arguments),this},"catch":function(a){return e.then(null,a)},pipe:function(){var a=arguments;return r.Deferred(function(b){r.each(c,function(c,d){var e=r.isFunction(a[d[4]])&&a[d[4]];f[d[1]](function(){var a=e&&e.apply(this,arguments);a&&r.isFunction(a.promise)?a.promise().progress(b.notify).done(b.resolve).fail(b.reject):b[d[0]+"With"](this,e?[a]:arguments)})}),a=null}).promise()},then:function(b,d,e){var f=0;function g(b,c,d,e){return function(){var h=this,i=arguments,j=function(){var a,j;if(!(b<f)){if(a=d.apply(h,i),a===c.promise())throw new TypeError("Thenable self-resolution");j=a&&("object"==typeof a||"function"==typeof a)&&a.then,r.isFunction(j)?e?j.call(a,g(f,c,M,e),g(f,c,N,e)):(f++,j.call(a,g(f,c,M,e),g(f,c,N,e),g(f,c,M,c.notifyWith))):(d!==M&&(h=void 0,i=[a]),(e||c.resolveWith)(h,i))}},k=e?j:function(){try{j()}catch(a){r.Deferred.exceptionHook&&r.Deferred.exceptionHook(a,k.stackTrace),b+1>=f&&(d!==N&&(h=void 0,i=[a]),c.rejectWith(h,i))}};b?k():(r.Deferred.getStackHook&&(k.stackTrace=r.Deferred.getStackHook()),a.setTimeout(k))}}return r.Deferred(function(a){c[0][3].add(g(0,a,r.isFunction(e)?e:M,a.notifyWith)),c[1][3].add(g(0,a,r.isFunction(b)?b:M)),c[2][3].add(g(0,a,r.isFunction(d)?d:N))}).promise()},promise:function(a){return null!=a?r.extend(a,e):e}},f={};return r.each(c,function(a,b){var g=b[2],h=b[5];e[b[1]]=g.add,h&&g.add(function(){d=h},c[3-a][2].disable,c[0][2].lock),g.add(b[3].fire),f[b[0]]=function(){return f[b[0]+"With"](this===f?void 0:this,arguments),this},f[b[0]+"With"]=g.fireWith}),e.promise(f),b&&b.call(f,f),f},when:function(a){var b=arguments.length,c=b,d=Array(c),e=f.call(arguments),g=r.Deferred(),h=function(a){return function(c){d[a]=this,e[a]=arguments.length>1?f.call(arguments):c,--b||g.resolveWith(d,e)}};if(b<=1&&(O(a,g.done(h(c)).resolve,g.reject),"pending"===g.state()||r.isFunction(e[c]&&e[c].then)))return g.then();while(c--)O(e[c],h(c),g.reject);return g.promise()}});var P=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;r.Deferred.exceptionHook=function(b,c){a.console&&a.console.warn&&b&&P.test(b.name)&&a.console.warn("jQuery.Deferred exception: "+b.message,b.stack,c)},r.readyException=function(b){a.setTimeout(function(){throw b})};var Q=r.Deferred();r.fn.ready=function(a){return Q.then(a)["catch"](function(a){r.readyException(a)}),this},r.extend({isReady:!1,readyWait:1,holdReady:function(a){a?r.readyWait++:r.ready(!0)},ready:function(a){(a===!0?--r.readyWait:r.isReady)||(r.isReady=!0,a!==!0&&--r.readyWait>0||Q.resolveWith(d,[r]))}}),r.ready.then=Q.then;function R(){d.removeEventListener("DOMContentLoaded",R),
a.removeEventListener("load",R),r.ready()}"complete"===d.readyState||"loading"!==d.readyState&&!d.documentElement.doScroll?a.setTimeout(r.ready):(d.addEventListener("DOMContentLoaded",R),a.addEventListener("load",R));var S=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===r.type(c)){e=!0;for(h in c)S(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,r.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(r(a),c)})),b))for(;h<i;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},T=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function U(){this.expando=r.expando+U.uid++}U.uid=1,U.prototype={cache:function(a){var b=a[this.expando];return b||(b={},T(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[r.camelCase(b)]=c;else for(d in b)e[r.camelCase(d)]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][r.camelCase(b)]},access:function(a,b,c){return void 0===b||b&&"string"==typeof b&&void 0===c?this.get(a,b):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d=a[this.expando];if(void 0!==d){if(void 0!==b){r.isArray(b)?b=b.map(r.camelCase):(b=r.camelCase(b),b=b in d?[b]:b.match(K)||[]),c=b.length;while(c--)delete d[b[c]]}(void 0===b||r.isEmptyObject(d))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!r.isEmptyObject(b)}};var V=new U,W=new U,X=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Y=/[A-Z]/g;function Z(a){return"true"===a||"false"!==a&&("null"===a?null:a===+a+""?+a:X.test(a)?JSON.parse(a):a)}function $(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Y,"-$&").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c=Z(c)}catch(e){}W.set(a,b,c)}else c=void 0;return c}r.extend({hasData:function(a){return W.hasData(a)||V.hasData(a)},data:function(a,b,c){return W.access(a,b,c)},removeData:function(a,b){W.remove(a,b)},_data:function(a,b,c){return V.access(a,b,c)},_removeData:function(a,b){V.remove(a,b)}}),r.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=W.get(f),1===f.nodeType&&!V.get(f,"hasDataAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=r.camelCase(d.slice(5)),$(f,d,e[d])));V.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){W.set(this,a)}):S(this,function(b){var c;if(f&&void 0===b){if(c=W.get(f,a),void 0!==c)return c;if(c=$(f,a),void 0!==c)return c}else this.each(function(){W.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){W.remove(this,a)})}}),r.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=V.get(a,b),c&&(!d||r.isArray(c)?d=V.access(a,b,r.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=r.queue(a,b),d=c.length,e=c.shift(),f=r._queueHooks(a,b),g=function(){r.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return V.get(a,c)||V.access(a,c,{empty:r.Callbacks("once memory").add(function(){V.remove(a,[b+"queue",c])})})}}),r.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?r.queue(this[0],a):void 0===b?this:this.each(function(){var c=r.queue(this,a,b);r._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&r.dequeue(this,a)})},dequeue:function(a){return this.each(function(){r.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=r.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=V.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var _=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,aa=new RegExp("^(?:([+-])=|)("+_+")([a-z%]*)$","i"),ba=["Top","Right","Bottom","Left"],ca=function(a,b){return a=b||a,"none"===a.style.display||""===a.style.display&&r.contains(a.ownerDocument,a)&&"none"===r.css(a,"display")},da=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};function ea(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return r.css(a,b,"")},i=h(),j=c&&c[3]||(r.cssNumber[b]?"":"px"),k=(r.cssNumber[b]||"px"!==j&&+i)&&aa.exec(r.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,r.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}var fa={};function ga(a){var b,c=a.ownerDocument,d=a.nodeName,e=fa[d];return e?e:(b=c.body.appendChild(c.createElement(d)),e=r.css(b,"display"),b.parentNode.removeChild(b),"none"===e&&(e="block"),fa[d]=e,e)}function ha(a,b){for(var c,d,e=[],f=0,g=a.length;f<g;f++)d=a[f],d.style&&(c=d.style.display,b?("none"===c&&(e[f]=V.get(d,"display")||null,e[f]||(d.style.display="")),""===d.style.display&&ca(d)&&(e[f]=ga(d))):"none"!==c&&(e[f]="none",V.set(d,"display",c)));for(f=0;f<g;f++)null!=e[f]&&(a[f].style.display=e[f]);return a}r.fn.extend({show:function(){return ha(this,!0)},hide:function(){return ha(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){ca(this)?r(this).show():r(this).hide()})}});var ia=/^(?:checkbox|radio)$/i,ja=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ka=/^$|\/(?:java|ecma)script/i,la={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};la.optgroup=la.option,la.tbody=la.tfoot=la.colgroup=la.caption=la.thead,la.th=la.td;function ma(a,b){var c;return c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[],void 0===b||b&&r.nodeName(a,b)?r.merge([a],c):c}function na(a,b){for(var c=0,d=a.length;c<d;c++)V.set(a[c],"globalEval",!b||V.get(b[c],"globalEval"))}var oa=/<|&#?\w+;/;function pa(a,b,c,d,e){for(var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],n=0,o=a.length;n<o;n++)if(f=a[n],f||0===f)if("object"===r.type(f))r.merge(m,f.nodeType?[f]:f);else if(oa.test(f)){g=g||l.appendChild(b.createElement("div")),h=(ja.exec(f)||["",""])[1].toLowerCase(),i=la[h]||la._default,g.innerHTML=i[1]+r.htmlPrefilter(f)+i[2],k=i[0];while(k--)g=g.lastChild;r.merge(m,g.childNodes),g=l.firstChild,g.textContent=""}else m.push(b.createTextNode(f));l.textContent="",n=0;while(f=m[n++])if(d&&r.inArray(f,d)>-1)e&&e.push(f);else if(j=r.contains(f.ownerDocument,f),g=ma(l.appendChild(f),"script"),j&&na(g),c){k=0;while(f=g[k++])ka.test(f.type||"")&&c.push(f)}return l}!function(){var a=d.createDocumentFragment(),b=a.appendChild(d.createElement("div")),c=d.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),o.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",o.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var qa=d.documentElement,ra=/^key/,sa=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ta=/^([^.]*)(?:\.(.+)|)/;function ua(){return!0}function va(){return!1}function wa(){try{return d.activeElement}catch(a){}}function xa(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)xa(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=va;else if(!e)return a;return 1===f&&(g=e,e=function(a){return r().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=r.guid++)),a.each(function(){r.event.add(this,b,e,d,c)})}r.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=V.get(a);if(q){c.handler&&(f=c,c=f.handler,e=f.selector),e&&r.find.matchesSelector(qa,e),c.guid||(c.guid=r.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return"undefined"!=typeof r&&r.event.triggered!==b.type?r.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(K)||[""],j=b.length;while(j--)h=ta.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=r.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=r.event.special[n]||{},k=r.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&r.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,o,g)!==!1||a.addEventListener&&a.addEventListener(n,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),r.event.global[n]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=V.hasData(a)&&V.get(a);if(q&&(i=q.events)){b=(b||"").match(K)||[""],j=b.length;while(j--)if(h=ta.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){l=r.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||r.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)r.event.remove(a,n+b[j],c,d,!0);r.isEmptyObject(i)&&V.remove(a,"handle events")}},dispatch:function(a){var b=r.event.fix(a),c,d,e,f,g,h,i=new Array(arguments.length),j=(V.get(this,"events")||{})[b.type]||[],k=r.event.special[b.type]||{};for(i[0]=b,c=1;c<arguments.length;c++)i[c]=arguments[c];if(b.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,b)!==!1){h=r.event.handlers.call(this,b,j),c=0;while((f=h[c++])&&!b.isPropagationStopped()){b.currentTarget=f.elem,d=0;while((g=f.handlers[d++])&&!b.isImmediatePropagationStopped())b.rnamespace&&!b.rnamespace.test(g.namespace)||(b.handleObj=g,b.data=g.data,e=((r.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(b.result=e)===!1&&(b.preventDefault(),b.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,b),b.result}},handlers:function(a,b){var c,d,e,f,g,h=[],i=b.delegateCount,j=a.target;if(i&&j.nodeType&&!("click"===a.type&&a.button>=1))for(;j!==this;j=j.parentNode||this)if(1===j.nodeType&&("click"!==a.type||j.disabled!==!0)){for(f=[],g={},c=0;c<i;c++)d=b[c],e=d.selector+" ",void 0===g[e]&&(g[e]=d.needsContext?r(e,this).index(j)>-1:r.find(e,this,null,[j]).length),g[e]&&f.push(d);f.length&&h.push({elem:j,handlers:f})}return j=this,i<b.length&&h.push({elem:j,handlers:b.slice(i)}),h},addProp:function(a,b){Object.defineProperty(r.Event.prototype,a,{enumerable:!0,configurable:!0,get:r.isFunction(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[a]},set:function(b){Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(a){return a[r.expando]?a:new r.Event(a)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==wa()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===wa()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&r.nodeName(this,"input"))return this.click(),!1},_default:function(a){return r.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},r.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},r.Event=function(a,b){return this instanceof r.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ua:va,this.target=a.target&&3===a.target.nodeType?a.target.parentNode:a.target,this.currentTarget=a.currentTarget,this.relatedTarget=a.relatedTarget):this.type=a,b&&r.extend(this,b),this.timeStamp=a&&a.timeStamp||r.now(),void(this[r.expando]=!0)):new r.Event(a,b)},r.Event.prototype={constructor:r.Event,isDefaultPrevented:va,isPropagationStopped:va,isImmediatePropagationStopped:va,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ua,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ua,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ua,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},r.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(a){var b=a.button;return null==a.which&&ra.test(a.type)?null!=a.charCode?a.charCode:a.keyCode:!a.which&&void 0!==b&&sa.test(a.type)?1&b?1:2&b?3:4&b?2:0:a.which}},r.event.addProp),r.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){r.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||r.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),r.fn.extend({on:function(a,b,c,d){return xa(this,a,b,c,d)},one:function(a,b,c,d){return xa(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,r(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&"function"!=typeof b||(c=b,b=void 0),c===!1&&(c=va),this.each(function(){r.event.remove(this,a,c,b)})}});var ya=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,za=/<script|<style|<link/i,Aa=/checked\s*(?:[^=]|=\s*.checked.)/i,Ba=/^true\/(.*)/,Ca=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Da(a,b){return r.nodeName(a,"table")&&r.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a:a}function Ea(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function Fa(a){var b=Ba.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function Ga(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(V.hasData(a)&&(f=V.access(a),g=V.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;c<d;c++)r.event.add(b,e,j[e][c])}W.hasData(a)&&(h=W.access(a),i=r.extend({},h),W.set(b,i))}}function Ha(a,b){var c=b.nodeName.toLowerCase();"input"===c&&ia.test(a.type)?b.checked=a.checked:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}function Ia(a,b,c,d){b=g.apply([],b);var e,f,h,i,j,k,l=0,m=a.length,n=m-1,q=b[0],s=r.isFunction(q);if(s||m>1&&"string"==typeof q&&!o.checkClone&&Aa.test(q))return a.each(function(e){var f=a.eq(e);s&&(b[0]=q.call(this,e,f.html())),Ia(f,b,c,d)});if(m&&(e=pa(b,a[0].ownerDocument,!1,a,d),f=e.firstChild,1===e.childNodes.length&&(e=f),f||d)){for(h=r.map(ma(e,"script"),Ea),i=h.length;l<m;l++)j=e,l!==n&&(j=r.clone(j,!0,!0),i&&r.merge(h,ma(j,"script"))),c.call(a[l],j,l);if(i)for(k=h[h.length-1].ownerDocument,r.map(h,Fa),l=0;l<i;l++)j=h[l],ka.test(j.type||"")&&!V.access(j,"globalEval")&&r.contains(k,j)&&(j.src?r._evalUrl&&r._evalUrl(j.src):p(j.textContent.replace(Ca,""),k))}return a}function Ja(a,b,c){for(var d,e=b?r.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||r.cleanData(ma(d)),d.parentNode&&(c&&r.contains(d.ownerDocument,d)&&na(ma(d,"script")),d.parentNode.removeChild(d));return a}r.extend({htmlPrefilter:function(a){return a.replace(ya,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=r.contains(a.ownerDocument,a);if(!(o.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||r.isXMLDoc(a)))for(g=ma(h),f=ma(a),d=0,e=f.length;d<e;d++)Ha(f[d],g[d]);if(b)if(c)for(f=f||ma(a),g=g||ma(h),d=0,e=f.length;d<e;d++)Ga(f[d],g[d]);else Ga(a,h);return g=ma(h,"script"),g.length>0&&na(g,!i&&ma(a,"script")),h},cleanData:function(a){for(var b,c,d,e=r.event.special,f=0;void 0!==(c=a[f]);f++)if(T(c)){if(b=c[V.expando]){if(b.events)for(d in b.events)e[d]?r.event.remove(c,d):r.removeEvent(c,d,b.handle);c[V.expando]=void 0}c[W.expando]&&(c[W.expando]=void 0)}}}),r.fn.extend({detach:function(a){return Ja(this,a,!0)},remove:function(a){return Ja(this,a)},text:function(a){return S(this,function(a){return void 0===a?r.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return Ia(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Da(this,a);b.appendChild(a)}})},prepend:function(){return Ia(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Da(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return Ia(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return Ia(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(r.cleanData(ma(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return r.clone(this,a,b)})},html:function(a){return S(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!za.test(a)&&!la[(ja.exec(a)||["",""])[1].toLowerCase()]){a=r.htmlPrefilter(a);try{for(;c<d;c++)b=this[c]||{},1===b.nodeType&&(r.cleanData(ma(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return Ia(this,arguments,function(b){var c=this.parentNode;r.inArray(this,a)<0&&(r.cleanData(ma(this)),c&&c.replaceChild(b,this))},a)}}),r.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){r.fn[a]=function(a){for(var c,d=[],e=r(a),f=e.length-1,g=0;g<=f;g++)c=g===f?this:this.clone(!0),r(e[g])[b](c),h.apply(d,c.get());return this.pushStack(d)}});var Ka=/^margin/,La=new RegExp("^("+_+")(?!px)[a-z%]+$","i"),Ma=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)};!function(){function b(){if(i){i.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",i.innerHTML="",qa.appendChild(h);var b=a.getComputedStyle(i);c="1%"!==b.top,g="2px"===b.marginLeft,e="4px"===b.width,i.style.marginRight="50%",f="4px"===b.marginRight,qa.removeChild(h),i=null}}var c,e,f,g,h=d.createElement("div"),i=d.createElement("div");i.style&&(i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",o.clearCloneStyle="content-box"===i.style.backgroundClip,h.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",h.appendChild(i),r.extend(o,{pixelPosition:function(){return b(),c},boxSizingReliable:function(){return b(),e},pixelMarginRight:function(){return b(),f},reliableMarginLeft:function(){return b(),g}}))}();function Na(a,b,c){var d,e,f,g,h=a.style;return c=c||Ma(a),c&&(g=c.getPropertyValue(b)||c[b],""!==g||r.contains(a.ownerDocument,a)||(g=r.style(a,b)),!o.pixelMarginRight()&&La.test(g)&&Ka.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function Oa(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}var Pa=/^(none|table(?!-c[ea]).+)/,Qa={position:"absolute",visibility:"hidden",display:"block"},Ra={letterSpacing:"0",fontWeight:"400"},Sa=["Webkit","Moz","ms"],Ta=d.createElement("div").style;function Ua(a){if(a in Ta)return a;var b=a[0].toUpperCase()+a.slice(1),c=Sa.length;while(c--)if(a=Sa[c]+b,a in Ta)return a}function Va(a,b,c){var d=aa.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function Wa(a,b,c,d,e){var f,g=0;for(f=c===(d?"border":"content")?4:"width"===b?1:0;f<4;f+=2)"margin"===c&&(g+=r.css(a,c+ba[f],!0,e)),d?("content"===c&&(g-=r.css(a,"padding"+ba[f],!0,e)),"margin"!==c&&(g-=r.css(a,"border"+ba[f]+"Width",!0,e))):(g+=r.css(a,"padding"+ba[f],!0,e),"padding"!==c&&(g+=r.css(a,"border"+ba[f]+"Width",!0,e)));return g}function Xa(a,b,c){var d,e=!0,f=Ma(a),g="border-box"===r.css(a,"boxSizing",!1,f);if(a.getClientRects().length&&(d=a.getBoundingClientRect()[b]),d<=0||null==d){if(d=Na(a,b,f),(d<0||null==d)&&(d=a.style[b]),La.test(d))return d;e=g&&(o.boxSizingReliable()||d===a.style[b]),d=parseFloat(d)||0}return d+Wa(a,b,c||(g?"border":"content"),e,f)+"px"}r.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Na(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=r.camelCase(b),i=a.style;return b=r.cssProps[h]||(r.cssProps[h]=Ua(h)||h),g=r.cssHooks[b]||r.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=aa.exec(c))&&e[1]&&(c=ea(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(r.cssNumber[h]?"":"px")),o.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=r.camelCase(b);return b=r.cssProps[h]||(r.cssProps[h]=Ua(h)||h),g=r.cssHooks[b]||r.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=Na(a,b,d)),"normal"===e&&b in Ra&&(e=Ra[b]),""===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),r.each(["height","width"],function(a,b){r.cssHooks[b]={get:function(a,c,d){if(c)return!Pa.test(r.css(a,"display"))||a.getClientRects().length&&a.getBoundingClientRect().width?Xa(a,b,d):da(a,Qa,function(){return Xa(a,b,d)})},set:function(a,c,d){var e,f=d&&Ma(a),g=d&&Wa(a,b,d,"border-box"===r.css(a,"boxSizing",!1,f),f);return g&&(e=aa.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=r.css(a,b)),Va(a,c,g)}}}),r.cssHooks.marginLeft=Oa(o.reliableMarginLeft,function(a,b){if(b)return(parseFloat(Na(a,"marginLeft"))||a.getBoundingClientRect().left-da(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px"}),r.each({margin:"",padding:"",border:"Width"},function(a,b){r.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];d<4;d++)e[a+ba[d]+b]=f[d]||f[d-2]||f[0];return e}},Ka.test(a)||(r.cssHooks[a+b].set=Va)}),r.fn.extend({css:function(a,b){return S(this,function(a,b,c){var d,e,f={},g=0;if(r.isArray(b)){for(d=Ma(a),e=b.length;g<e;g++)f[b[g]]=r.css(a,b[g],!1,d);return f}return void 0!==c?r.style(a,b,c):r.css(a,b)},a,b,arguments.length>1)}});function Ya(a,b,c,d,e){return new Ya.prototype.init(a,b,c,d,e)}r.Tween=Ya,Ya.prototype={constructor:Ya,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||r.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(r.cssNumber[c]?"":"px")},cur:function(){var a=Ya.propHooks[this.prop];return a&&a.get?a.get(this):Ya.propHooks._default.get(this)},run:function(a){var b,c=Ya.propHooks[this.prop];return this.options.duration?this.pos=b=r.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ya.propHooks._default.set(this),this}},Ya.prototype.init.prototype=Ya.prototype,Ya.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=r.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){r.fx.step[a.prop]?r.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[r.cssProps[a.prop]]&&!r.cssHooks[a.prop]?a.elem[a.prop]=a.now:r.style(a.elem,a.prop,a.now+a.unit)}}},Ya.propHooks.scrollTop=Ya.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},r.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},r.fx=Ya.prototype.init,r.fx.step={};var Za,$a,_a=/^(?:toggle|show|hide)$/,ab=/queueHooks$/;function bb(){$a&&(a.requestAnimationFrame(bb),r.fx.tick())}function cb(){return a.setTimeout(function(){Za=void 0}),Za=r.now()}function db(a,b){var c,d=0,e={height:a};for(b=b?1:0;d<4;d+=2-b)c=ba[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function eb(a,b,c){for(var d,e=(hb.tweeners[b]||[]).concat(hb.tweeners["*"]),f=0,g=e.length;f<g;f++)if(d=e[f].call(c,b,a))return d}function fb(a,b,c){var d,e,f,g,h,i,j,k,l="width"in b||"height"in b,m=this,n={},o=a.style,p=a.nodeType&&ca(a),q=V.get(a,"fxshow");c.queue||(g=r._queueHooks(a,"fx"),null==g.unqueued&&(g.unqueued=0,h=g.empty.fire,g.empty.fire=function(){g.unqueued||h()}),g.unqueued++,m.always(function(){m.always(function(){g.unqueued--,r.queue(a,"fx").length||g.empty.fire()})}));for(d in b)if(e=b[d],_a.test(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}n[d]=q&&q[d]||r.style(a,d)}if(i=!r.isEmptyObject(b),i||!r.isEmptyObject(n)){l&&1===a.nodeType&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=q&&q.display,null==j&&(j=V.get(a,"display")),k=r.css(a,"display"),"none"===k&&(j?k=j:(ha([a],!0),j=a.style.display||j,k=r.css(a,"display"),ha([a]))),("inline"===k||"inline-block"===k&&null!=j)&&"none"===r.css(a,"float")&&(i||(m.done(function(){o.display=j}),null==j&&(k=o.display,j="none"===k?"":k)),o.display="inline-block")),c.overflow&&(o.overflow="hidden",m.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]})),i=!1;for(d in n)i||(q?"hidden"in q&&(p=q.hidden):q=V.access(a,"fxshow",{display:j}),f&&(q.hidden=!p),p&&ha([a],!0),m.done(function(){p||ha([a]),V.remove(a,"fxshow");for(d in n)r.style(a,d,n[d])})),i=eb(p?q[d]:0,d,m),d in q||(q[d]=i.start,p&&(i.end=i.start,i.start=0))}}function gb(a,b){var c,d,e,f,g;for(c in a)if(d=r.camelCase(c),e=b[d],f=a[c],r.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=r.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function hb(a,b,c){var d,e,f=0,g=hb.prefilters.length,h=r.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Za||cb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;g<i;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),f<1&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:r.extend({},b),opts:r.extend(!0,{specialEasing:{},easing:r.easing._default},c),originalProperties:b,originalOptions:c,startTime:Za||cb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=r.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;c<d;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for(gb(k,j.opts.specialEasing);f<g;f++)if(d=hb.prefilters[f].call(j,a,k,j.opts))return r.isFunction(d.stop)&&(r._queueHooks(j.elem,j.opts.queue).stop=r.proxy(d.stop,d)),d;return r.map(k,eb,j),r.isFunction(j.opts.start)&&j.opts.start.call(a,j),r.fx.timer(r.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}r.Animation=r.extend(hb,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return ea(c.elem,a,aa.exec(b),c),c}]},tweener:function(a,b){r.isFunction(a)?(b=a,a=["*"]):a=a.match(K);for(var c,d=0,e=a.length;d<e;d++)c=a[d],hb.tweeners[c]=hb.tweeners[c]||[],hb.tweeners[c].unshift(b)},prefilters:[fb],prefilter:function(a,b){b?hb.prefilters.unshift(a):hb.prefilters.push(a)}}),r.speed=function(a,b,c){var e=a&&"object"==typeof a?r.extend({},a):{complete:c||!c&&b||r.isFunction(a)&&a,duration:a,easing:c&&b||b&&!r.isFunction(b)&&b};return r.fx.off||d.hidden?e.duration=0:"number"!=typeof e.duration&&(e.duration in r.fx.speeds?e.duration=r.fx.speeds[e.duration]:e.duration=r.fx.speeds._default),null!=e.queue&&e.queue!==!0||(e.queue="fx"),e.old=e.complete,e.complete=function(){r.isFunction(e.old)&&e.old.call(this),e.queue&&r.dequeue(this,e.queue)},e},r.fn.extend({fadeTo:function(a,b,c,d){return this.filter(ca).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=r.isEmptyObject(a),f=r.speed(b,c,d),g=function(){var b=hb(this,r.extend({},a),f);(e||V.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=r.timers,g=V.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&ab.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||r.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=V.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=r.timers,g=d?d.length:0;for(c.finish=!0,r.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;b<g;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),r.each(["toggle","show","hide"],function(a,b){var c=r.fn[b];r.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(db(b,!0),a,d,e)}}),r.each({slideDown:db("show"),slideUp:db("hide"),slideToggle:db("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){r.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),r.timers=[],r.fx.tick=function(){var a,b=0,c=r.timers;for(Za=r.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||r.fx.stop(),Za=void 0},r.fx.timer=function(a){r.timers.push(a),a()?r.fx.start():r.timers.pop()},r.fx.interval=13,r.fx.start=function(){$a||($a=a.requestAnimationFrame?a.requestAnimationFrame(bb):a.setInterval(r.fx.tick,r.fx.interval))},r.fx.stop=function(){a.cancelAnimationFrame?a.cancelAnimationFrame($a):a.clearInterval($a),$a=null},r.fx.speeds={slow:600,fast:200,_default:400},r.fn.delay=function(b,c){return b=r.fx?r.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=d.createElement("input"),b=d.createElement("select"),c=b.appendChild(d.createElement("option"));a.type="checkbox",o.checkOn=""!==a.value,o.optSelected=c.selected,a=d.createElement("input"),a.value="t",a.type="radio",o.radioValue="t"===a.value}();var ib,jb=r.expr.attrHandle;r.fn.extend({attr:function(a,b){return S(this,r.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){r.removeAttr(this,a)})}}),r.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?r.prop(a,b,c):(1===f&&r.isXMLDoc(a)||(e=r.attrHooks[b.toLowerCase()]||(r.expr.match.bool.test(b)?ib:void 0)),
void 0!==c?null===c?void r.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=r.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!o.radioValue&&"radio"===b&&r.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d=0,e=b&&b.match(K);if(e&&1===a.nodeType)while(c=e[d++])a.removeAttribute(c)}}),ib={set:function(a,b,c){return b===!1?r.removeAttr(a,c):a.setAttribute(c,c),c}},r.each(r.expr.match.bool.source.match(/\w+/g),function(a,b){var c=jb[b]||r.find.attr;jb[b]=function(a,b,d){var e,f,g=b.toLowerCase();return d||(f=jb[g],jb[g]=e,e=null!=c(a,b,d)?g:null,jb[g]=f),e}});var kb=/^(?:input|select|textarea|button)$/i,lb=/^(?:a|area)$/i;r.fn.extend({prop:function(a,b){return S(this,r.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[r.propFix[a]||a]})}}),r.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&r.isXMLDoc(a)||(b=r.propFix[b]||b,e=r.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=r.find.attr(a,"tabindex");return b?parseInt(b,10):kb.test(a.nodeName)||lb.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),o.optSelected||(r.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),r.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){r.propFix[this.toLowerCase()]=this});function mb(a){var b=a.match(K)||[];return b.join(" ")}function nb(a){return a.getAttribute&&a.getAttribute("class")||""}r.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(r.isFunction(a))return this.each(function(b){r(this).addClass(a.call(this,b,nb(this)))});if("string"==typeof a&&a){b=a.match(K)||[];while(c=this[i++])if(e=nb(c),d=1===c.nodeType&&" "+mb(e)+" "){g=0;while(f=b[g++])d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=mb(d),e!==h&&c.setAttribute("class",h)}}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(r.isFunction(a))return this.each(function(b){r(this).removeClass(a.call(this,b,nb(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a){b=a.match(K)||[];while(c=this[i++])if(e=nb(c),d=1===c.nodeType&&" "+mb(e)+" "){g=0;while(f=b[g++])while(d.indexOf(" "+f+" ")>-1)d=d.replace(" "+f+" "," ");h=mb(d),e!==h&&c.setAttribute("class",h)}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):r.isFunction(a)?this.each(function(c){r(this).toggleClass(a.call(this,c,nb(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c){d=0,e=r(this),f=a.match(K)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else void 0!==a&&"boolean"!==c||(b=nb(this),b&&V.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||a===!1?"":V.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;b=" "+a+" ";while(c=this[d++])if(1===c.nodeType&&(" "+mb(nb(c))+" ").indexOf(b)>-1)return!0;return!1}});var ob=/\r/g;r.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=r.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,r(this).val()):a,null==e?e="":"number"==typeof e?e+="":r.isArray(e)&&(e=r.map(e,function(a){return null==a?"":a+""})),b=r.valHooks[this.type]||r.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=r.valHooks[e.type]||r.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(ob,""):null==c?"":c)}}}),r.extend({valHooks:{option:{get:function(a){var b=r.find.attr(a,"value");return null!=b?b:mb(r.text(a))}},select:{get:function(a){var b,c,d,e=a.options,f=a.selectedIndex,g="select-one"===a.type,h=g?null:[],i=g?f+1:e.length;for(d=f<0?i:g?f:0;d<i;d++)if(c=e[d],(c.selected||d===f)&&!c.disabled&&(!c.parentNode.disabled||!r.nodeName(c.parentNode,"optgroup"))){if(b=r(c).val(),g)return b;h.push(b)}return h},set:function(a,b){var c,d,e=a.options,f=r.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=r.inArray(r.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),r.each(["radio","checkbox"],function(){r.valHooks[this]={set:function(a,b){if(r.isArray(b))return a.checked=r.inArray(r(a).val(),b)>-1}},o.checkOn||(r.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var pb=/^(?:focusinfocus|focusoutblur)$/;r.extend(r.event,{trigger:function(b,c,e,f){var g,h,i,j,k,m,n,o=[e||d],p=l.call(b,"type")?b.type:b,q=l.call(b,"namespace")?b.namespace.split("."):[];if(h=i=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!pb.test(p+r.event.triggered)&&(p.indexOf(".")>-1&&(q=p.split("."),p=q.shift(),q.sort()),k=p.indexOf(":")<0&&"on"+p,b=b[r.expando]?b:new r.Event(p,"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=q.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:r.makeArray(c,[b]),n=r.event.special[p]||{},f||!n.trigger||n.trigger.apply(e,c)!==!1)){if(!f&&!n.noBubble&&!r.isWindow(e)){for(j=n.delegateType||p,pb.test(j+p)||(h=h.parentNode);h;h=h.parentNode)o.push(h),i=h;i===(e.ownerDocument||d)&&o.push(i.defaultView||i.parentWindow||a)}g=0;while((h=o[g++])&&!b.isPropagationStopped())b.type=g>1?j:n.bindType||p,m=(V.get(h,"events")||{})[b.type]&&V.get(h,"handle"),m&&m.apply(h,c),m=k&&h[k],m&&m.apply&&T(h)&&(b.result=m.apply(h,c),b.result===!1&&b.preventDefault());return b.type=p,f||b.isDefaultPrevented()||n._default&&n._default.apply(o.pop(),c)!==!1||!T(e)||k&&r.isFunction(e[p])&&!r.isWindow(e)&&(i=e[k],i&&(e[k]=null),r.event.triggered=p,e[p](),r.event.triggered=void 0,i&&(e[k]=i)),b.result}},simulate:function(a,b,c){var d=r.extend(new r.Event,c,{type:a,isSimulated:!0});r.event.trigger(d,null,b)}}),r.fn.extend({trigger:function(a,b){return this.each(function(){r.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return r.event.trigger(a,b,c,!0)}}),r.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(a,b){r.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),r.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),o.focusin="onfocusin"in a,o.focusin||r.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){r.event.simulate(b,a.target,r.event.fix(a))};r.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=V.access(d,b);e||d.addEventListener(a,c,!0),V.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=V.access(d,b)-1;e?V.access(d,b,e):(d.removeEventListener(a,c,!0),V.remove(d,b))}}});var qb=a.location,rb=r.now(),sb=/\?/;r.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(d){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||r.error("Invalid XML: "+b),c};var tb=/\[\]$/,ub=/\r?\n/g,vb=/^(?:submit|button|image|reset|file)$/i,wb=/^(?:input|select|textarea|keygen)/i;function xb(a,b,c,d){var e;if(r.isArray(b))r.each(b,function(b,e){c||tb.test(a)?d(a,e):xb(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==r.type(b))d(a,b);else for(e in b)xb(a+"["+e+"]",b[e],c,d)}r.param=function(a,b){var c,d=[],e=function(a,b){var c=r.isFunction(b)?b():b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(null==c?"":c)};if(r.isArray(a)||a.jquery&&!r.isPlainObject(a))r.each(a,function(){e(this.name,this.value)});else for(c in a)xb(c,a[c],b,e);return d.join("&")},r.fn.extend({serialize:function(){return r.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=r.prop(this,"elements");return a?r.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!r(this).is(":disabled")&&wb.test(this.nodeName)&&!vb.test(a)&&(this.checked||!ia.test(a))}).map(function(a,b){var c=r(this).val();return null==c?null:r.isArray(c)?r.map(c,function(a){return{name:b.name,value:a.replace(ub,"\r\n")}}):{name:b.name,value:c.replace(ub,"\r\n")}}).get()}});var yb=/%20/g,zb=/#.*$/,Ab=/([?&])_=[^&]*/,Bb=/^(.*?):[ \t]*([^\r\n]*)$/gm,Cb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Db=/^(?:GET|HEAD)$/,Eb=/^\/\//,Fb={},Gb={},Hb="*/".concat("*"),Ib=d.createElement("a");Ib.href=qb.href;function Jb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(K)||[];if(r.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Kb(a,b,c,d){var e={},f=a===Gb;function g(h){var i;return e[h]=!0,r.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Lb(a,b){var c,d,e=r.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&r.extend(!0,a,d),a}function Mb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}if(f)return f!==i[0]&&i.unshift(f),c[f]}function Nb(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}r.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:qb.href,type:"GET",isLocal:Cb.test(qb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Hb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":r.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Lb(Lb(a,r.ajaxSettings),b):Lb(r.ajaxSettings,a)},ajaxPrefilter:Jb(Fb),ajaxTransport:Jb(Gb),ajax:function(b,c){"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m,n,o=r.ajaxSetup({},c),p=o.context||o,q=o.context&&(p.nodeType||p.jquery)?r(p):r.event,s=r.Deferred(),t=r.Callbacks("once memory"),u=o.statusCode||{},v={},w={},x="canceled",y={readyState:0,getResponseHeader:function(a){var b;if(k){if(!h){h={};while(b=Bb.exec(g))h[b[1].toLowerCase()]=b[2]}b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return k?g:null},setRequestHeader:function(a,b){return null==k&&(a=w[a.toLowerCase()]=w[a.toLowerCase()]||a,v[a]=b),this},overrideMimeType:function(a){return null==k&&(o.mimeType=a),this},statusCode:function(a){var b;if(a)if(k)y.always(a[y.status]);else for(b in a)u[b]=[u[b],a[b]];return this},abort:function(a){var b=a||x;return e&&e.abort(b),A(0,b),this}};if(s.promise(y),o.url=((b||o.url||qb.href)+"").replace(Eb,qb.protocol+"//"),o.type=c.method||c.type||o.method||o.type,o.dataTypes=(o.dataType||"*").toLowerCase().match(K)||[""],null==o.crossDomain){j=d.createElement("a");try{j.href=o.url,j.href=j.href,o.crossDomain=Ib.protocol+"//"+Ib.host!=j.protocol+"//"+j.host}catch(z){o.crossDomain=!0}}if(o.data&&o.processData&&"string"!=typeof o.data&&(o.data=r.param(o.data,o.traditional)),Kb(Fb,o,c,y),k)return y;l=r.event&&o.global,l&&0===r.active++&&r.event.trigger("ajaxStart"),o.type=o.type.toUpperCase(),o.hasContent=!Db.test(o.type),f=o.url.replace(zb,""),o.hasContent?o.data&&o.processData&&0===(o.contentType||"").indexOf("application/x-www-form-urlencoded")&&(o.data=o.data.replace(yb,"+")):(n=o.url.slice(f.length),o.data&&(f+=(sb.test(f)?"&":"?")+o.data,delete o.data),o.cache===!1&&(f=f.replace(Ab,"$1"),n=(sb.test(f)?"&":"?")+"_="+rb++ +n),o.url=f+n),o.ifModified&&(r.lastModified[f]&&y.setRequestHeader("If-Modified-Since",r.lastModified[f]),r.etag[f]&&y.setRequestHeader("If-None-Match",r.etag[f])),(o.data&&o.hasContent&&o.contentType!==!1||c.contentType)&&y.setRequestHeader("Content-Type",o.contentType),y.setRequestHeader("Accept",o.dataTypes[0]&&o.accepts[o.dataTypes[0]]?o.accepts[o.dataTypes[0]]+("*"!==o.dataTypes[0]?", "+Hb+"; q=0.01":""):o.accepts["*"]);for(m in o.headers)y.setRequestHeader(m,o.headers[m]);if(o.beforeSend&&(o.beforeSend.call(p,y,o)===!1||k))return y.abort();if(x="abort",t.add(o.complete),y.done(o.success),y.fail(o.error),e=Kb(Gb,o,c,y)){if(y.readyState=1,l&&q.trigger("ajaxSend",[y,o]),k)return y;o.async&&o.timeout>0&&(i=a.setTimeout(function(){y.abort("timeout")},o.timeout));try{k=!1,e.send(v,A)}catch(z){if(k)throw z;A(-1,z)}}else A(-1,"No Transport");function A(b,c,d,h){var j,m,n,v,w,x=c;k||(k=!0,i&&a.clearTimeout(i),e=void 0,g=h||"",y.readyState=b>0?4:0,j=b>=200&&b<300||304===b,d&&(v=Mb(o,y,d)),v=Nb(o,v,y,j),j?(o.ifModified&&(w=y.getResponseHeader("Last-Modified"),w&&(r.lastModified[f]=w),w=y.getResponseHeader("etag"),w&&(r.etag[f]=w)),204===b||"HEAD"===o.type?x="nocontent":304===b?x="notmodified":(x=v.state,m=v.data,n=v.error,j=!n)):(n=x,!b&&x||(x="error",b<0&&(b=0))),y.status=b,y.statusText=(c||x)+"",j?s.resolveWith(p,[m,x,y]):s.rejectWith(p,[y,x,n]),y.statusCode(u),u=void 0,l&&q.trigger(j?"ajaxSuccess":"ajaxError",[y,o,j?m:n]),t.fireWith(p,[y,x]),l&&(q.trigger("ajaxComplete",[y,o]),--r.active||r.event.trigger("ajaxStop")))}return y},getJSON:function(a,b,c){return r.get(a,b,c,"json")},getScript:function(a,b){return r.get(a,void 0,b,"script")}}),r.each(["get","post"],function(a,b){r[b]=function(a,c,d,e){return r.isFunction(c)&&(e=e||d,d=c,c=void 0),r.ajax(r.extend({url:a,type:b,dataType:e,data:c,success:d},r.isPlainObject(a)&&a))}}),r._evalUrl=function(a){return r.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},r.fn.extend({wrapAll:function(a){var b;return this[0]&&(r.isFunction(a)&&(a=a.call(this[0])),b=r(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this},wrapInner:function(a){return r.isFunction(a)?this.each(function(b){r(this).wrapInner(a.call(this,b))}):this.each(function(){var b=r(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=r.isFunction(a);return this.each(function(c){r(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(a){return this.parent(a).not("body").each(function(){r(this).replaceWith(this.childNodes)}),this}}),r.expr.pseudos.hidden=function(a){return!r.expr.pseudos.visible(a)},r.expr.pseudos.visible=function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)},r.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Ob={0:200,1223:204},Pb=r.ajaxSettings.xhr();o.cors=!!Pb&&"withCredentials"in Pb,o.ajax=Pb=!!Pb,r.ajaxTransport(function(b){var c,d;if(o.cors||Pb&&!b.crossDomain)return{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Ob[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c)throw i}},abort:function(){c&&c()}}}),r.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)}),r.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return r.globalEval(a),a}}}),r.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),r.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(e,f){b=r("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&f("error"===a.type?404:200,a.type)}),d.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Qb=[],Rb=/(=)\?(?=&|$)|\?\?/;r.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Qb.pop()||r.expando+"_"+rb++;return this[a]=!0,a}}),r.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Rb.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Rb.test(b.data)&&"data");if(h||"jsonp"===b.dataTypes[0])return e=b.jsonpCallback=r.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Rb,"$1"+e):b.jsonp!==!1&&(b.url+=(sb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||r.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?r(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Qb.push(e)),g&&r.isFunction(f)&&f(g[0]),g=f=void 0}),"script"}),o.createHTMLDocument=function(){var a=d.implementation.createHTMLDocument("").body;return a.innerHTML="<form></form><form></form>",2===a.childNodes.length}(),r.parseHTML=function(a,b,c){if("string"!=typeof a)return[];"boolean"==typeof b&&(c=b,b=!1);var e,f,g;return b||(o.createHTMLDocument?(b=d.implementation.createHTMLDocument(""),e=b.createElement("base"),e.href=d.location.href,b.head.appendChild(e)):b=d),f=B.exec(a),g=!c&&[],f?[b.createElement(f[1])]:(f=pa([a],b,g),g&&g.length&&r(g).remove(),r.merge([],f.childNodes))},r.fn.load=function(a,b,c){var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=mb(a.slice(h)),a=a.slice(0,h)),r.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&r.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?r("<div>").append(r.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},r.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){r.fn[b]=function(a){return this.on(b,a)}}),r.expr.pseudos.animated=function(a){return r.grep(r.timers,function(b){return a===b.elem}).length};function Sb(a){return r.isWindow(a)?a:9===a.nodeType&&a.defaultView}r.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=r.css(a,"position"),l=r(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=r.css(a,"top"),i=r.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),r.isFunction(b)&&(b=b.call(a,c,r.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},r.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){r.offset.setOffset(this,a,b)});var b,c,d,e,f=this[0];if(f)return f.getClientRects().length?(d=f.getBoundingClientRect(),d.width||d.height?(e=f.ownerDocument,c=Sb(e),b=e.documentElement,{top:d.top+c.pageYOffset-b.clientTop,left:d.left+c.pageXOffset-b.clientLeft}):d):{top:0,left:0}},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===r.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),r.nodeName(a[0],"html")||(d=a.offset()),d={top:d.top+r.css(a[0],"borderTopWidth",!0),left:d.left+r.css(a[0],"borderLeftWidth",!0)}),{top:b.top-d.top-r.css(c,"marginTop",!0),left:b.left-d.left-r.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent;while(a&&"static"===r.css(a,"position"))a=a.offsetParent;return a||qa})}}),r.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;r.fn[a]=function(d){return S(this,function(a,d,e){var f=Sb(a);return void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),r.each(["top","left"],function(a,b){r.cssHooks[b]=Oa(o.pixelPosition,function(a,c){if(c)return c=Na(a,b),La.test(c)?r(a).position()[b]+"px":c})}),r.each({Height:"height",Width:"width"},function(a,b){r.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){r.fn[d]=function(e,f){var g=arguments.length&&(c||"boolean"!=typeof e),h=c||(e===!0||f===!0?"margin":"border");return S(this,function(b,c,e){var f;return r.isWindow(b)?0===d.indexOf("outer")?b["inner"+a]:b.document.documentElement["client"+a]:9===b.nodeType?(f=b.documentElement,Math.max(b.body["scroll"+a],f["scroll"+a],b.body["offset"+a],f["offset"+a],f["client"+a])):void 0===e?r.css(b,c,h):r.style(b,c,e,h)},b,g?e:void 0,g)}})}),r.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}}),r.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return r});var Tb=a.jQuery,Ub=a.$;return r.noConflict=function(b){return a.$===r&&(a.$=Ub),b&&a.jQuery===r&&(a.jQuery=Tb),r},b||(a.jQuery=a.$=r),r});
/*
 * jQuery throttle / debounce - v1.1 - 3/7/2010
 * http://benalman.com/projects/jquery-throttle-debounce-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function(b,c){var $=b.jQuery||b.Cowboy||(b.Cowboy={}),a;$.throttle=a=function(e,f,j,i){var h,d=0;if(typeof f!=="boolean"){i=j;j=f;f=c}function g(){var o=this,m=+new Date()-d,n=arguments;function l(){d=+new Date();j.apply(o,n)}function k(){h=c}if(i&&!h){l()}h&&clearTimeout(h);if(i===c&&m>e){l()}else{if(f!==true){h=setTimeout(i?k:l,i===c?e-m:e)}}}if($.guid){g.guid=j.guid=j.guid||$.guid++}return g};$.debounce=function(d,e,f){return f===c?a(d,e,false):a(d,f,e!==false)}})(this);
/*!
 * imagesLoaded PACKAGED v4.1.0
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
!function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}(this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{},n=i[t]=i[t]||[];return n[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=0,o=i[n];e=e||[];for(var r=this._onceEvents&&this._onceEvents[t];o;){var s=r&&r[o];s&&(this.off(t,o),delete r[o]),o.apply(this,e),n+=s?0:1,o=i[n]}return this}},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter")):t.imagesLoaded=e(t,t.EvEmitter)}(window,function(t,e){function i(t,e){for(var i in e)t[i]=e[i];return t}function n(t){var e=[];if(Array.isArray(t))e=t;else if("number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e}function o(t,e,r){return this instanceof o?("string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=n(t),this.options=i({},this.options),"function"==typeof e?r=e:i(this.options,e),r&&this.on("always",r),this.getImages(),h&&(this.jqDeferred=new h.Deferred),void setTimeout(function(){this.check()}.bind(this))):new o(t,e,r)}function r(t){this.img=t}function s(t,e){this.url=t,this.element=e,this.img=new Image}var h=t.jQuery,a=t.console;o.prototype=Object.create(e.prototype),o.prototype.options={},o.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},o.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),this.options.background===!0&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&d[e]){for(var i=t.querySelectorAll("img"),n=0;n<i.length;n++){var o=i[n];this.addImage(o)}if("string"==typeof this.options.background){var r=t.querySelectorAll(this.options.background);for(n=0;n<r.length;n++){var s=r[n];this.addElementBackgroundImages(s)}}}};var d={1:!0,9:!0,11:!0};return o.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(e.backgroundImage);null!==n;){var o=n&&n[2];o&&this.addBackground(o,t),n=i.exec(e.backgroundImage)}},o.prototype.addImage=function(t){var e=new r(t);this.images.push(e)},o.prototype.addBackground=function(t,e){var i=new s(t,e);this.images.push(i)},o.prototype.check=function(){function t(t,i,n){setTimeout(function(){e.progress(t,i,n)})}var e=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(e){e.once("progress",t),e.check()}):void this.complete()},o.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&a&&a.log("progress: "+i,t,e)},o.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},r.prototype=Object.create(e.prototype),r.prototype.check=function(){var t=this.getIsImageComplete();return t?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},r.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},r.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},r.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},r.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},r.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},r.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype=Object.create(r.prototype),s.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url;var t=this.getIsImageComplete();t&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},s.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},o.makeJQueryPlugin=function(e){e=e||t.jQuery,e&&(h=e,h.fn.imagesLoaded=function(t,e){var i=new o(this,t,e);return i.jqDeferred.promise(h(this))})},o.makeJQueryPlugin(),o});
/*! lz-string-1.3.3-min.js | (c) 2013 Pieroxy | Licensed under a WTFPL license */
var LZString={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_f:String.fromCharCode,compressToBase64:function(e){if(e==null)return"";var t="";var n,r,i,s,o,u,a;var f=0;e=LZString.compress(e);while(f<e.length*2){if(f%2==0){n=e.charCodeAt(f/2)>>8;r=e.charCodeAt(f/2)&255;if(f/2+1<e.length)i=e.charCodeAt(f/2+1)>>8;else i=NaN}else{n=e.charCodeAt((f-1)/2)&255;if((f+1)/2<e.length){r=e.charCodeAt((f+1)/2)>>8;i=e.charCodeAt((f+1)/2)&255}else r=i=NaN}f+=3;s=n>>2;o=(n&3)<<4|r>>4;u=(r&15)<<2|i>>6;a=i&63;if(isNaN(r)){u=a=64}else if(isNaN(i)){a=64}t=t+LZString._keyStr.charAt(s)+LZString._keyStr.charAt(o)+LZString._keyStr.charAt(u)+LZString._keyStr.charAt(a)}return t},decompressFromBase64:function(e){if(e==null)return"";var t="",n=0,r,i,s,o,u,a,f,l,c=0,h=LZString._f;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(c<e.length){u=LZString._keyStr.indexOf(e.charAt(c++));a=LZString._keyStr.indexOf(e.charAt(c++));f=LZString._keyStr.indexOf(e.charAt(c++));l=LZString._keyStr.indexOf(e.charAt(c++));i=u<<2|a>>4;s=(a&15)<<4|f>>2;o=(f&3)<<6|l;if(n%2==0){r=i<<8;if(f!=64){t+=h(r|s)}if(l!=64){r=o<<8}}else{t=t+h(r|i);if(f!=64){r=s<<8}if(l!=64){t+=h(r|o)}}n+=3}return LZString.decompress(t)},compressToUTF16:function(e){if(e==null)return"";var t="",n,r,i,s=0,o=LZString._f;e=LZString.compress(e);for(n=0;n<e.length;n++){r=e.charCodeAt(n);switch(s++){case 0:t+=o((r>>1)+32);i=(r&1)<<14;break;case 1:t+=o(i+(r>>2)+32);i=(r&3)<<13;break;case 2:t+=o(i+(r>>3)+32);i=(r&7)<<12;break;case 3:t+=o(i+(r>>4)+32);i=(r&15)<<11;break;case 4:t+=o(i+(r>>5)+32);i=(r&31)<<10;break;case 5:t+=o(i+(r>>6)+32);i=(r&63)<<9;break;case 6:t+=o(i+(r>>7)+32);i=(r&127)<<8;break;case 7:t+=o(i+(r>>8)+32);i=(r&255)<<7;break;case 8:t+=o(i+(r>>9)+32);i=(r&511)<<6;break;case 9:t+=o(i+(r>>10)+32);i=(r&1023)<<5;break;case 10:t+=o(i+(r>>11)+32);i=(r&2047)<<4;break;case 11:t+=o(i+(r>>12)+32);i=(r&4095)<<3;break;case 12:t+=o(i+(r>>13)+32);i=(r&8191)<<2;break;case 13:t+=o(i+(r>>14)+32);i=(r&16383)<<1;break;case 14:t+=o(i+(r>>15)+32,(r&32767)+32);s=0;break}}return t+o(i+32)},decompressFromUTF16:function(e){if(e==null)return"";var t="",n,r,i=0,s=0,o=LZString._f;while(s<e.length){r=e.charCodeAt(s)-32;switch(i++){case 0:n=r<<1;break;case 1:t+=o(n|r>>14);n=(r&16383)<<2;break;case 2:t+=o(n|r>>13);n=(r&8191)<<3;break;case 3:t+=o(n|r>>12);n=(r&4095)<<4;break;case 4:t+=o(n|r>>11);n=(r&2047)<<5;break;case 5:t+=o(n|r>>10);n=(r&1023)<<6;break;case 6:t+=o(n|r>>9);n=(r&511)<<7;break;case 7:t+=o(n|r>>8);n=(r&255)<<8;break;case 8:t+=o(n|r>>7);n=(r&127)<<9;break;case 9:t+=o(n|r>>6);n=(r&63)<<10;break;case 10:t+=o(n|r>>5);n=(r&31)<<11;break;case 11:t+=o(n|r>>4);n=(r&15)<<12;break;case 12:t+=o(n|r>>3);n=(r&7)<<13;break;case 13:t+=o(n|r>>2);n=(r&3)<<14;break;case 14:t+=o(n|r>>1);n=(r&1)<<15;break;case 15:t+=o(n|r);i=0;break}s++}return LZString.decompress(t)},compress:function(e){if(e==null)return"";var t,n,r={},i={},s="",o="",u="",a=2,f=3,l=2,c="",h=0,p=0,d,v=LZString._f;for(d=0;d<e.length;d+=1){s=e.charAt(d);if(!Object.prototype.hasOwnProperty.call(r,s)){r[s]=f++;i[s]=true}o=u+s;if(Object.prototype.hasOwnProperty.call(r,o)){u=o}else{if(Object.prototype.hasOwnProperty.call(i,u)){if(u.charCodeAt(0)<256){for(t=0;t<l;t++){h=h<<1;if(p==15){p=0;c+=v(h);h=0}else{p++}}n=u.charCodeAt(0);for(t=0;t<8;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}else{n=1;for(t=0;t<l;t++){h=h<<1|n;if(p==15){p=0;c+=v(h);h=0}else{p++}n=0}n=u.charCodeAt(0);for(t=0;t<16;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}delete i[u]}else{n=r[u];for(t=0;t<l;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}r[o]=f++;u=String(s)}}if(u!==""){if(Object.prototype.hasOwnProperty.call(i,u)){if(u.charCodeAt(0)<256){for(t=0;t<l;t++){h=h<<1;if(p==15){p=0;c+=v(h);h=0}else{p++}}n=u.charCodeAt(0);for(t=0;t<8;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}else{n=1;for(t=0;t<l;t++){h=h<<1|n;if(p==15){p=0;c+=v(h);h=0}else{p++}n=0}n=u.charCodeAt(0);for(t=0;t<16;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}delete i[u]}else{n=r[u];for(t=0;t<l;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}}n=2;for(t=0;t<l;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}while(true){h=h<<1;if(p==15){c+=v(h);break}else p++}return c},decompress:function(e){if(e==null)return"";if(e=="")return null;var t=[],n,r=4,i=4,s=3,o="",u="",a,f,l,c,h,p,d,v=LZString._f,m={string:e,val:e.charCodeAt(0),position:32768,index:1};for(a=0;a<3;a+=1){t[a]=a}l=0;h=Math.pow(2,2);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}switch(n=l){case 0:l=0;h=Math.pow(2,8);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}d=v(l);break;case 1:l=0;h=Math.pow(2,16);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}d=v(l);break;case 2:return""}t[3]=d;f=u=d;while(true){if(m.index>m.string.length){return""}l=0;h=Math.pow(2,s);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}switch(d=l){case 0:l=0;h=Math.pow(2,8);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}t[i++]=v(l);d=i-1;r--;break;case 1:l=0;h=Math.pow(2,16);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}t[i++]=v(l);d=i-1;r--;break;case 2:return u}if(r==0){r=Math.pow(2,s);s++}if(t[d]){o=t[d]}else{if(d===i){o=f+f.charAt(0)}else{return null}}u+=o;t[i++]=f+o.charAt(0);r--;f=o;if(r==0){r=Math.pow(2,s);s++}}}};if(typeof module!=="undefined"&&module!=null){module.exports=LZString}
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */
var saveAs=saveAs||navigator.msSaveBlob&&navigator.msSaveBlob.bind(navigator)||function(e){"use strict";var t=e.document,n=function(){return e.URL||e.webkitURL||e},r=e.URL||e.webkitURL||e,i=t.createElementNS("http://www.w3.org/1999/xhtml","a"),s="download"in i,o=function(n){var r=t.createEvent("MouseEvents");r.initMouseEvent("click",true,false,e,0,0,0,0,0,false,false,false,false,0,null);n.dispatchEvent(r)},u=e.webkitRequestFileSystem,a=e.requestFileSystem||u||e.mozRequestFileSystem,f=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},l="application/octet-stream",c=0,h=[],p=function(){var e=h.length;while(e--){var t=h[e];if(typeof t==="string"){r.revokeObjectURL(t)}else{t.remove()}}h.length=0},d=function(e,t,n){t=[].concat(t);var r=t.length;while(r--){var i=e["on"+t[r]];if(typeof i==="function"){try{i.call(e,n||e)}catch(s){f(s)}}}},v=function(t,r){var f=this,p=t.type,v=false,m,g,y=function(){var e=n().createObjectURL(t);h.push(e);return e},b=function(){d(f,"writestart progress write writeend".split(" "))},w=function(){if(v||!m){m=y(t)}if(g){g.location.href=m}else{window.open(m,"_blank")}f.readyState=f.DONE;b()},E=function(e){return function(){if(f.readyState!==f.DONE){return e.apply(this,arguments)}}},S={create:true,exclusive:false},x;f.readyState=f.INIT;if(!r){r="download"}if(s){m=y(t);i.href=m;i.download=r;o(i);f.readyState=f.DONE;b();return}if(e.chrome&&p&&p!==l){x=t.slice||t.webkitSlice;t=x.call(t,0,t.size,l);v=true}if(u&&r!=="download"){r+=".download"}if(p===l||u){g=e}if(!a){w();return}c+=t.size;a(e.TEMPORARY,c,E(function(e){e.root.getDirectory("saved",S,E(function(e){var n=function(){e.getFile(r,S,E(function(e){e.createWriter(E(function(n){n.onwriteend=function(t){g.location.href=e.toURL();h.push(e);f.readyState=f.DONE;d(f,"writeend",t)};n.onerror=function(){var e=n.error;if(e.code!==e.ABORT_ERR){w()}};"writestart progress write abort".split(" ").forEach(function(e){n["on"+e]=f["on"+e]});n.write(t);f.abort=function(){n.abort();f.readyState=f.DONE};f.readyState=f.WRITING}),w)}),w)};e.getFile(r,{create:false},E(function(e){e.remove();n()}),E(function(e){if(e.code===e.NOT_FOUND_ERR){n()}else{w()}}))}),w)}),w)},m=v.prototype,g=function(e,t){return new v(e,t)};m.abort=function(){var e=this;e.readyState=e.DONE;d(e,"abort")};m.readyState=m.INIT=0;m.WRITING=1;m.DONE=2;m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null;e.addEventListener("unload",p,false);return g}(self)
/*! seedrandom.js v2.3.3 | (c) 2013 David Bau, all rights reserved. | Licensed under a BSD-style license */
!function(a,b,c,d,e,f,g,h,i){function j(a){var b,c=a.length,e=this,f=0,g=e.i=e.j=0,h=e.S=[];for(c||(a=[c++]);d>f;)h[f]=f++;for(f=0;d>f;f++)h[f]=h[g=r&g+a[f%c]+(b=h[f])],h[g]=b;(e.g=function(a){for(var b,c=0,f=e.i,g=e.j,h=e.S;a--;)b=h[f=r&f+1],c=c*d+h[r&(h[f]=h[g=r&g+b])+(h[g]=b)];return e.i=f,e.j=g,c})(d)}function k(a,b){var c,d=[],e=typeof a;if(b&&"object"==e)for(c in a)try{d.push(k(a[c],b-1))}catch(f){}return d.length?d:"string"==e?a:a+"\0"}function l(a,b){for(var c,d=a+"",e=0;e<d.length;)b[r&e]=r&(c^=19*b[r&e])+d.charCodeAt(e++);return n(b)}function m(c){try{return a.crypto.getRandomValues(c=new Uint8Array(d)),n(c)}catch(e){return[+new Date,a,(c=a.navigator)&&c.plugins,a.screen,n(b)]}}function n(a){return String.fromCharCode.apply(0,a)}var o=c.pow(d,e),p=c.pow(2,f),q=2*p,r=d-1,s=c["seed"+i]=function(a,f,g){var h=[],r=l(k(f?[a,n(b)]:null==a?m():a,3),h),s=new j(h);return l(n(s.S),b),(g||function(a,b,d){return d?(c[i]=a,b):a})(function(){for(var a=s.g(e),b=o,c=0;p>a;)a=(a+c)*d,b*=d,c=s.g(1);for(;a>=q;)a/=2,b/=2,c>>>=1;return(a+c)/b},r,this==c)};l(c[i](),b),g&&g.exports?g.exports=s:h&&h.amd&&h(function(){return s})}(this,[],Math,256,6,52,"object"==typeof module&&module,"function"==typeof define&&define,"random");
/*! console_hack.js | (c) 2015 Thomas Michael Edwards | Licensed under SugarCube's Simple BSD license */
!function(){for(var methods=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],length=methods.length,noop=function(){},console=window.console=window.console||{};length--;){var method=methods[length];console[method]||(console[method]=noop)}}();
}else{document.documentElement.setAttribute("data-init", "lacking");}
</script>
<style id="style-normalize" type="text/css">/*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:700}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{-webkit-appearance:textfield;box-sizing:content-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:700}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}</style>
<style id="style-init-screen" type="text/css">@-webkit-keyframes init-loading-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes init-loading-spin{0%{-o-transform:rotate(0);transform:rotate(0)}100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes init-loading-spin{0%{-webkit-transform:rotate(0);-o-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}#init-screen{display:none;z-index:100000;position:fixed;top:0;left:0;height:100%;width:100%;font:28px/1 Helmet,Freesans,sans-serif;font-weight:700;color:#eee;background-color:#111;text-align:center}#init-screen>div{display:none;position:relative;margin:0 auto;max-width:1136px;top:25%}html[data-init=lacking] #init-screen,html[data-init=loading] #init-screen,html[data-init=no-js] #init-screen{display:block}html[data-init=lacking] #init-lacking,html[data-init=no-js] #init-no-js{display:block;padding:0 1em}html[data-init=no-js] #init-no-js{color:red}html[data-init=loading] #init-loading{display:block;border:24px solid transparent;border-radius:50%;border-top-color:#7f7f7f;border-bottom-color:#7f7f7f;width:100px;height:100px;-webkit-animation:init-loading-spin 2s linear infinite;-o-animation:init-loading-spin 2s linear infinite;animation:init-loading-spin 2s linear infinite}html[data-init=loading] #init-loading>div{text-indent:9999em;overflow:hidden;white-space:nowrap}html[data-init=loading] #passages,html[data-init=loading] #ui-bar{display:none}</style>
<style id="style-font" type="text/css">@font-face{font-family:tme-fa-icons;src:url(data:application/octet-stream;base64,d09GRgABAAAAACWoAA4AAAAAQhQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABRAAAAEQAAABWPihI/2NtYXAAAAGIAAAAOgAAAUrQXRm3Y3Z0IAAAAcQAAAAKAAAACgAAAABmcGdtAAAB0AAABZQAAAtwiJCQWWdhc3AAAAdkAAAACAAAAAgAAAAQZ2x5ZgAAB2wAABjCAAAq+uJ4WNtoZWFkAAAgMAAAADQAAAA2BZlJs2hoZWEAACBkAAAAIAAAACQIJwQZaG10eAAAIIQAAABuAAABOPTeAABsb2NhAAAg9AAAAJ4AAACeojKW6m1heHAAACGUAAAAIAAAACAA6gvwbmFtZQAAIbQAAAGPAAAC/eLsyKlwb3N0AAAjRAAAAfwAAAM0412SIHByZXAAACVAAAAAZQAAAHvdawOFeJxjYGRWYZzAwMrAwVTFtIeBgaEHQjM+YDBkZGJgYGJgZWbACgLSXFMYHF4wvPBhDvqfxRDFHMQwDSjMCJIDANLeC6V4nGNgYGBmgGAZBkYGEHAB8hjBfBYGDSDNBqQZGZgYGF74/P8PUvCCAURLMELVAwEjG8OIBwC4Ywb6AAAAAAAAAAAAAAAAAAB4nK1WaXMTRxCd1WHLNj6CDxI2gVnGcox2VpjLCBDG7EoW4BzylexCjl1Ldu6LT/wG/ZpekVSRb/y0vB4d2GAnVVQoSv2m9+1M9+ueXpPQksReWI+k3HwpprY2aWTnSUg3bFqO4kPZ2QspU0z+LoiCaLXUvu04JCISgap1hSWC2PfI0iTjQ48yWrYlvWpSbulJd9kaD+qt+vbT0FGO3QklNZuhQ+uRLanCqBJFMu2RkjYtw9VfSVrh5yvMfNUMJYLoJJLGm2EMj+Rn44xWGa3GdhxFkU2WG0WKRDM8iCKPslpin1wxQUD5oBlSXvk0onyEH5EVe5TTCnHJdprf9yU/6R3OvyTieouyJQf+QHZkB3unK/ki0toK46adbEehivB0fSfEI5uT6p/sUV7TaOB2RaYnzQiWyleQWPkJZfYPyWrhfMqXPBrVkoOcCFovc2Jf8g60HkdMiWsmyILujk6IoO6XnKHYY/q4+OO9XSwXIQTIOJb1jkq4EEYpYbOaJG0EOYiSskWV1HpHTJzyOi3iLWG/Tu3oS2e0Sag7MZ6th46tnKjkeDSp00ymTu2k5tGUBlFKOhM85tcBlB/RJK+2sZrEyqNpbDNjJJFQoIVzaSqIZSeWNAXRPJrRm7thmmvXokWaPFDPPXpPb26Fmzs9p+3AP2v8Z3UqpoO9MJ2eDshKfJp2uUnRun56hn8m8UPWAiqRLTbDlMVDtn4H5eVjS47CawNs957zK+h99kTIpIH4G/AeL9UpBUyFmFVQC9201rUsy9RqVotUZOq7IU0rX9ZpAk05Dn1jX8Y4/q+ZGUtMCd/vxOnZEZeeufYlyDSH3GZdj+Z1arFdgM5sz+k0y/Z9nebYfqDTPNvzOh1ha+t0lO2HOi2w/UinY2wvaEGT7jsEchGBXMAGEoGwdRAI20sIhK1CIGwXEQjbIgJhu4RA2H6MQNguIxC2l7Wsmn4qaRw7E8sARYgDoznuyGVuKldTyaUSrotGpzbkKXKrpKJ4Vv0rA/3ikTesgbVAukTW/IpJrnxUleOPrmh508S5Ao5Vf3tzXJ8TD2W/WPhT8L/amqqkV6x5ZHIVeSPQk+NE1yYVj67p8rmqR9f/i4oOa4F+A6UQC0VZlg2+mZDwUafTUA1c5RAzGzMP1/W6Zc3P4fybGCEL6H78NxQaC9yDTllJWe1gr9XXj2W5twflsCdYkmK+zOtb4YuMzEr7RWYpez7yecAVMCqVYasNXK3gzXsS85DpTfJMELcVZYOkjceZILGBYx4wb76TICRMXbWB2imcsIG8YMwp2O+EQ1RvlOVwe6F9Ho2Uf2tX7MgZFU0Q+G32Rtjrs1DyW6yBhCe/1NdAVSFNxbipgEsj5YZq8GFcrdtGMk6gr6jYDcuyig8fR9x3So5lIPlIEatHRz+tvUKd1Ln9yihu3zv9CIJBaWL+9r6Z4qCUd7WSZVZtA1O3GpVT15rDxasO3c2j7nvH2Sdy1jTddE/c9L6mVbeDg7lZEO3bHJSlTC6o68MOG6jLzaXQ6mVckt52DzAsMKDfoRUb/1f3cfg8V6oKo+NIvZ2oH6PPYgzyDzh/R/UF6OcxTLmGlOd7lxOfbtzD2TJdxV2sn+LfwKy15mbpGnBD0w2Yh6xaHbrKDXynBjo90tyO9BDwse4K8QBgE8Bi8InuWsbzKYDxfMYcH+Bz5jBoMofBFnMYbDNnDWCHOQx2mcNgjzkMvmDOOsCXzGEQModBxBwGT5gTADxlDoOvmMPga+Yw+IY59wG+ZQ6DmDkMEuYw2Nd0ayhzixd0F6htUBXowPQTFvewONRUGbK/44Vhf28Qs38wiKk/aro9pP7EC0P92SCm/mIQU3/VdGdI/Y0Xhvq7QUz9wyCmPtMvxnKZwV9GvkuFA8ouNp/z98T7B8IaQLYAAQAB//8AD3icrToNcBzVefe9/b3dvd29u909/dyd7ke6k86yLEunOyHJsrCxJWyJGmEcLMDYxBhHNsZQBzOAkjQmFDrGIq5gHEIcCILOAGZq3IQO04RkIGkgaUMKMbQznSlJW0wgJtOQHxRr1e+93TvJwq7JTD3y2/f//bzvfX/vAhAIzL3KPcYNBFIB8UR9EJYuAcuAqGNbOiwDSczkuorlaJ6WTeVSRwMIDveY8aN20GztjzMhW4P2H+kNUPM5NaVNQE0K3tWM77vv8rJqgnT33VJE4WWIfd/QbKHZjcXcZiFAqjCDgUJA/mZTWOIIwi0vAwNiUjkW9THIZs6DAbnj6ffGP/P+0y2vv+5SXGLKuXHJPJH92c+yT7x3883wnI9W/DxI4T9+bm7uOL+MUwNywAg0BJYFQgNKa2NDzFBEjqeM0SFXLHU4YKe7yjFoSmdEKWw5nemOUj5czMXCliilM7lyuFgqp3HaDf1j/fhH+s6cfm4MEpA8c0BSQBO5CUkD5fJi05kDjSUoNnETTUUSXtpPVm0aGHDdmV0nNkPiMUWeHZMVRSZPSlp0dqypCKVG8iT9IK5AEeamyZGAjecW5tm5SSBm8ojiSqBsYoXDTRtuymw13V8axjB+p2EPlsMGcRzTTRkGOLRpmk/AzSZ+A97ecx+QN8g9gUbc26F7N+GJiN5pLGMA8hUo7EQcHI455A0PwrS3I37N+bZhTE8bex1aeeIJ4+MTjTY6gcH+iIvgGWQRdh2TR9sS81kspCzytguLfBcyuBOLXuhwYnZnh8NFUs6plLPLScGpWBKwkYztwsop7Hie9r7rYK/9brWXTg9U+RiBX+GJiyc0rgIv7UNJe3vPjrFdyZOV/byNUkyW/0AuIi/h+h6U5a64SmW5ieGcya2AYimG+EUtnZN08ImgveV+KOYykiiJVMrbkI+dHUkC9+nyPUFdD94j639r1uTq7FiSNrR1hXS8uLbGapYUSbpaJvzmp5aODbU9iJNBU1gJa5LFTCqihNpDigmWWtc2GjUy7Y2m3hHk14qmPJXp2cTInZudO85dhzw2AuXAJQHl+Yt7l0RVjkO8u4q5JZARE2A5yNxStNgGWcQSj7izA1HucCgJOsRsb7xYWgn9XAwvRqaN4HAS4ENF3kXFFovJ/muW3zsYDK3jxaCQbOouOPXZPmBDNZG4krS0N2/9wakf7hHv+IcPX/jcaGWZAp9fvrFtv66UeSlXn4zYdZo5kLNwIJJRTbEu3jz62Zf37Xv5l7RAeugZfAQ7kJ5koA3PoJB1eP8MpHRVWqpygyITpiKz4DCoHMENlun+wrDA0bNZ9jmJZdZwhhx9UnewMKztg2yAlie9j6O7Lzrks7tYdRdOO4u/FJ9e5G93RyFTJ1f5G17IZDs7z25uEfuFBYwlvYpUUuTnKJO6umg5IymD88yGGxbycjN2JOkIVk6wUoEzm/0O5T/Owb92Jg8NyL/6qFrl30IZ5nSgMp3nch7DkvOMCaMeoQ1U4JZxQncenmAMmcAei/S7V9CvAccW8mczwtMCceSQ8nwhXWuKAeQPJbRCc9RnhoSyhvBL+WgxTzsk0Y567IFj+35wa4Xq7ykS5YIm7UIdq4iCfKcsiIoSvFFWONUnFovZoXHKhXE69R9hTOIEgZPcJ0VZRrx+i3j9hhtFPqQDnYjX8uaEpS2+F4twiVkOylSJAwfvBZO3XBnoTaEHtltSWAGKIEl3SJIQ1CRESIRnLFtJRc88GckEbQuOBTO5zBXziL0JIPKiyMtzggwiMc+czmbDEbDMbJaLhC3LPzPuFOKaD6zEM+tt15gNxTPLIg5dvglCfGmbmakYmqmKsEfRVOWWAXjqvEzVeamT6botq9321Vu2rIb7KOrufmZ24LWmoiI3yspJJ65e704JprBSFGH3pxXLhAQe9fBzbM1rq7YAm1dsctvZSiqu8G94rxwS/LQ7JYorRR0XXq/GmSh4dJADKAsSk70ajQ8gHdE0MhzVjOCbVDSvKINd1PhKVN+fgMTG2zYCvIaq+V2mmsNTP36IRLD6xO7ejWTDisfc7zCVD6tQW+/eMTW1Y3fSt20foe+hBZpQ3zfGfH3vyzmCZNvHFoJFVPrRjj7m6I26M3r7KHQxgD5c2H/4tQdIeJLJ+yQDvTsZOwv4jYfJQxVaxxmtKtNTTVaQnRmS6kkWvfBoNvCeIT55jt41PJZwpg3YYeJYGK+dppgK/sF+R/8ggZIOBlnyNoK/qpwokLZ6uCFRKCTKV8HeGaYksPg2Xj/3fyQZb6dhGWv2QLLQU4DW7lZwf77Hw+vb3AjzexKIVywkEXoGlB1JUqr4FW3A7BZlDzgzhZ5W0tyfI1da7mmn13JvsZOFxLuJIRsmLXJVskByA41iu/uvSds9bWOnPZQ4lSgANm+xqQ6gMPlGH2YR79rSDIXLXQBujHZSxkCpSIeynwCdNxEFJ2HVmSDaFPxQYoIN2BfCM8E6zTCu66VDSQ97KkPfIa8i7nGUITNAZagDhYFJjeg5rXh+bcBuYamT/JWmRVE8Iopeb/3ud1ZdSIs4TkQLcaogJ63Z5dGUxEfefz8qSKko+Qm2PB/ZgyEEMngmjkjovYB0GBog+n9COzD7MiQ73pfOA5S8NLseIst+QWbPC9y/J8dRv7QFliCNWcnzAYlI3fE8hdNVbBPY1WEeZxm8m5mKOdypQRG1qhiRgQBnZbr7N20qT1ipoPsLVYWEGq8hE3BoLPn2tV8PhWVe0WTB4nIN3WMD7cmIiDZEhaSSROulWMbk2+sX4LIs0Iq4NNdUfV3mDeqCbaEOligmbYSFCaU0VRVULrhTKoKlIMubNvV3ZyyOByWMilXkBpNjcIjihTjBrwzF/bmKF1iMJNsHxrobcnxElDVF0C3u69fevP5txIsEcUrVZyR96DPqiI/C+zGTp0uZGkXVP6PG1RncET7Ey/eKjnX885QeWw83krsCIVyvMp8TD9P3rEvMFUkFZxS6Rw25ytWQJ/52/tqLyQSDrc7Dpiq/H2XDgYsVBgjnK7BF95EwLKLNKLh0bg5x74VXPNwJO1fq7raB588j7pbhat78pDKjPE1td1Jl6Hhn8Q73LdISsCrrgwuijljQ28Tinnavx+Xu9ap6jYqn2QzNaly7RoVJ99MoBl/DvmtU1X0Lu3FCnO37XXKEW832Nai8BYnDKKvIF92W3F9dotK94ahCNyJPuW+5b2L1WrQ2X6fSc1TBejLg77uvsm8FX2b1ghWk6cbjuB1FUIVm9y0f6aMKfMbdhjshNGihFKgIgE7044ZvkbXz+zbh3chXN/f35Z6mOyF2b/m7H6V7HVV3XYOYtiDOig/J25bh+xPuAPMdxRPRc8V1YU8Z2mEv9OIO2O6DTg8Wtt2C3+lCcjBRmEaNVbDhi0nLnUK1ttvqdVpsexruQ93WGnf3T9s47N+te7nN5FeohRGeChUfIvZx5htAPYTNjQl/ea/tTlkW7LZ7nIK3dyNsGUwWpq0+a4k/ALvozB5nurkCqwthUdrq5mnzBD/tu5rpfPVYuC6L0VZwnMfd/YnGxgTc97jjFNjGFvRQ6iyrYPfZjyPVyQJM233YRF5YVb1xgLzjwVMX3NOwZ/K7wtJZx4W8pGRNNzf4ZOBeCKgPCxuKcUYmxQNycbjP5wGlEJGk8OZc369tR3gtaZ+X6CbmVkIONRVJcugpluk1TQL1Fqmfy1ELVi4hYy1zJhYNj4zu7RkfbuebN17fv+q2Fj4sDgtE7Hv2uk89uneIH7j9yNWjR1YMmUvJSzO6s9QcGWkbHt83PtzW0yWCMMLr4roNcMm+o88e3XdJ/0VDkWiFDxSv5YhXq8d3nVAryjjtoDXp7Ojn2gg6ijGHIUxDpQZ0Y2lQym2+5NZHN219to8XhsUw33Lb6p6dG9DVGN598/bmkXA0NoPeR2t4qO/h0U8d3bcKtmB5yeilos6PCCB29fgINjeNmEsdfaYmGhm6qB9RrPhEx7mrEbfGwCDauZXNJo09wLJ1oAhSe1NxWkUDKKJofMqeE+szt8S4K9JYmjbLXRRtylOU1vWN//mVy4/0DVGNqM9QJT7SvL287ot5MSZoGC/oyHTWO7p3vdd5s6RB439/5fKH6aIaEDh46AVkpMqWo1YdaWpe1690hzT4e79jxGuLvD+R0iUwuiJ+TLUM4+yrA8aAdsVAsX1JFgMsTkCF4ceBdtgLZ8oXaENnPpfPipLA6A57nn4+XI1hUbCoYmig1KP5pH44Kybnq4cUyatKivvTmXpeOC7y8J4il3yHncWVz+SDrc5zTqucPyYro3Af7XP30/I8ddJxsQAgXIFbz37QdsmqNhJl0K6145C0rkWzExAX8aM3sDpwYyA8oF83PNBXWu7xRPQMIT1E6syw7M4F2tFwOmyhVKQ7+uH/lz9DribLBF4jsuze94lYBc+7LzLOXMw4c+66u52EZz/QLEWxyA0XZFuA9+OVUfSTwyzWCw0o3a0Jx9BYTrKp2AZiEi9qGSs6OFhZkPboRDXesZKpbcd3UOjV8dMgNNQhr1pJh0Qy5petVIQ48Zq1KefMj7zIhluf3pQeBs5JfUuJMGcgHFRik16gP1mzHX2EmroaYhmVysETLOo54aSGU/gHzbEwdRvCMXuGhUczHj3HkZ42Rk9LYIDS07c8YRuqSBg91Pmnwo8VghFR2Y9oKTmxziSwi0HTN2I1cMvT3E7Fezk/Pae1UnYyUwqdRnqCNZPoXSJSk6hxGWmRBKqBSMqyTP97/wmaJcQCGpqbG5Iw6vhEtHpEVWihepULpFG3rqG0rOha2qTxJIC0YOSYFjrxEtP8nlSlIxvu7PLcRKmS76mk04Sq0HoTqJ04CcfcK+DDIU34mhCX/dByaAiDy58ibicVeRdNJrNyezI2G/ESlUKsZDxiOtLJk/ChXCc9Imp+1nO2xL6QZIkkWiizM7SHIF9q9K8ZpQDx8zOjgWaMzORvdrSGPJ2sEzRYZer9O2gmWD4zSTr6sSuH8Uc/IGjmyLIMOHUV0G48840967ixy2v6zIhcU+pr3bDj9u0bc1xfqUbO9sUuH3O/iqEbFPqaPbOBZuFTO57rx7mxvnDL7avRFLah/ei55LZCpKddjqz4OxhyH6YRLuzA0rcfY5yC8rQTcb08JdLYleZW8TZ0lGgSCyVfQoQtRDiPV6BqKLryzL7kqRmkuoGdE5UzlKWy39mJQlU1OChf1KrEHOYcsdMhvaO3j5JN+zZBXJZ2Kmq0WRSMDSFJGqmtC0q8eZesmfWxPxNNca3DC3KzYsg7MBBXhJ2yHmvy5sojNXVBmQvfhUdoxJ0NgiENWTzfqwd3SOjC927ceNvGjbfTUTNp13eIumhvAKEvJA/HTUW6Maj1CeJAUtBFrcOI1xugSWxubV1qqaRJ1gZvqiHLbKqwOo5TR9hELw7/iBsjL/t6WXl+SWN9VOO5RfnTtJcwreTFY35bWthGB+bMB+yOcGEDg4bztxbkUR0wh1h2kJWgV0awMR+Hjvn5mlrmu9BMCMpYsZynmQC8KR2xco4maZIg5jN5CU86ViJ/s27nzqlxgFc6167fuXP92s5XYOdDO8j4pYNYw16IjR8eH79U0ra3Y6V9uyat20l2P7AbsKpjJ81Tzs39nt9PXgqYeL9LNB+Yi9uMN1BEZ0knnvijDiZLEDg6dJ30NuA9oQEVh9U0uk/kgO8A+R94pvWy8YveWn0ZWbfmLepJXdqz5Z5B94qhu7d2k75r7l0Lx2gVtvTMr6FXgDY7p56d6qSNS+/e0ke6r//CQ1/YXiTdW++u+FK/529HfC3klvzNhK3Te4txIUFlkuQ8tIjguXrUG6WAPWgMsIcDF664d3v3DHXwhQ07YMul2I9QDvtQXz+bokoej3uUo5mt1Qi7f/m58pGoIAyavsnnFiUl8cbhKTpRmI+CKw9Y1oKc5GvZZJCT6kWJcCHNzzDS3KTQKEocr/6Fe1GoUf+1rq/QG/W/hs9goz8E649Xc5M6HxXjAnDV9OT9spBFuwOC26Prv2bzQ3RhCHfwaYpW8+LxqOzlYOZR7/Kf/RbmXMktCzAr3jWP/Kqt5KUqZDq4uTqyBbYGfL17HcuL19KcjykyePSoAP2bNgILH1qOXXFwA9l471P3bOIvOwRXL8j+k0OjB6cPjrLCfe2sXP/824QcsAMZlOmGWiMo0rwb4K1qo+mH/LkBVlXdA+cFXFFWvz0//AXvbZ6+ac3GoyzHHvXfzCqvNILfLi9qV7KBJ/03OPbql/A+XlcDa3g9C1/rnPPU/XzkR4E3q/4p6kHES6V3vVx1M7x3EG4RnpwfhuT9B8mTF4BG6w/vZp7SbtoL4oJBkCuYe2+LL3GT6CtdzGKjNas6FGaHETyqOIeljCSdy4azYTwkLxFIL08OHSKaM+7sonl9vERpGguhHaS5bUgz24xu3ETTPsVKqntkIZfpqR1MdBfQKd6hmiFHviU1QZ260MQ2FSOcbfDmVoyFeHkb9rq/db9KFWsP6uutqz6LgZW6R+JrIjp86Gp6jSXL+7RoUv38yjEracH0NiVpKdu2ISBl27QDRdTKAT9WHoc/IL/p7w4sptcdmtpFR6IcZRnNXDnaT909x7Ykjj6PwmlFdP9FMuWgQvb8nAiKpHB7iS4/r+pk678LRCWOGpq9QwfOlOGlbpDkEPwThngKL7puibAY5LvMl+ZQQ8Yx4mxF/wZjkGJ7a3NjKl5jyjiJ/hAhLzVVExN+9qMpZsAyWImhu/eF2NlfcmS6bxq6lNlO9CZvxpjon/G7R5k1SqVwuFwOv3HTTZn0TTelSQs2wtjpPkNH8D/RH++b3mkosx0KLkzSlfi92qSrzPKX2arMTe692ChjJ7T5I75t3I487EIe5jXKQ6pg6Q83qs/lEn3noSFynmb4aOrBF9sEoBuHhKFYcL11up41emofLCQGE60wVdeDClSvn5qqM41Go7t+iuWUHqzrNrOGWTsFst5TtwLXXPk0Syc9fSX2rsBFmzadY6C/Fge8d+e5uXHkfyiQRc6vwTu2Ylkhz95Fq2/8+YVv/CxSqb7xxyqhDjDBRxFBxcQnSYzeBfrYNqGJjej4TLDfWEywII42hqZ+/BB/6I2DkCn0WS9uv3PD4Z0DpG/3oemDe7u5NS/aMOWtol60t2qCusYTSi19uHn1iHiQOpz2i2v6xx/4xqE9PfyqHQ+N3Ln9RftsmoxADcYAyvMt9Y73lr7wdwTUmb8g/u53GOaw6pPizJC9MJrEj7noG9sG1CNhmWN2BcF2dpRzGBfz5XrojEWZRxuj6aCYY0tiLJOTMmK2uJJQjxj/8hjKEB1iGHCj4JTpxczQzEtehAevG+5pUO12twtCjfG4I979yJB4a7RlZbDdVGV1OMgDQPZQY+ERm1wqiVyYJwJHMrGaP+o9YKbUlE2ApL6YEiyylNT9ESff74qtvCgqNSZcBVOa+2Hr9q9E70rVikGTcxRJ4BSQa6ImzpQIEXk+OFbqhvQRQ4souDWotqAiL2Xqm+AZ/Yz0kXcCOnvfqg1779vzOXtqtvPMii9Ig5+dwj87Kf4bQ6EJfdRt4PyQZYFY0/NXERbE5vPzi+As2njhToFqfp7h6ufXYTFiZ6MCryyG/xQX5qIBFddLfr6b+SYsHc3P1ocikRD5rxCMuNslxeBKuiZjzQpUY6kFvwNgPtyioHRxkEr9fv+HE5AwHFc9q0neOXOa/kiAi9ByQX3et1fZb2+q7yCL914QN5y1GVt/DOVaR29JPCECXV9iGaI84A7sQ9W3Y4dLZe4vVR1Mxd3Hc7rq7lNVOKjqHM9xqmiceVWXNTgoiO6fswpN0R/EfnefyHtnMvcsdw1nzMOJiSzGpQ+SPmclxmVRqlVM0HG5wNFSQYAIRhjE3ZDTsobwJbifVegTxj7sx7mCRwvp5XSWh6/QYs/TwjyMahKsVCYZVaeECMTR56MplPyzCfrSPO/dL0m8RwvpQ1oS56aF7i/58Mpn0eOHaKxcTNGd84cLd4oCvXPu3B+4a8kPUA7rmSzJ7E3Zy7OzuJEm/Mt+7Eh/pyDPMx7xF7luuh/CY9hDe4WZYLqvW+YhFlJiWX1PO0aOB6L0t3AVOUK7V/XSqP8Dx/CavHCY8erwC3jhyKHZR2nu9wXvpz4vKN4dwOIA22sZ/S1RTbhyBxbvF/XeXzEQpfEUTa0hLTTE+RigN9vzQhBp0RzT5OUaKazwlhEU8u0fx8D9XmGdwVmmZmpavDGuichhJJUz1nn5pp9yj5H3GG7DgZtovmnn5YNFiiT/JyIZqw6Uvd+i0TRIFwumFw7SVEg/TYvQDM/8hE9O4uTWEVlECuyU2tLW1oKK3jIk+bItDxy6TZKw36mttdZgKDxo1fIRzrFMSbrt0J/Cl8KVh1OcozuqGUyO7RxLBk3UrA6XfmDTF97qwAErpOl655GnjnTqOidyIQsHO08G/hcLt/j/AAB4nGNgZGBgAOLaW41M8fw2Xxm4mV8ARRguss1QhNC5H/9//Z/FUsEcBORyMDCBRAFTFwxveJxjYGRgYA76n8UQxVLGwPD/FUsFA1AEBfgBAHyYBUh4nGN+wcDAvACCWfSBNIgviMBM1kA6koGBMRWVBqsDYqYmiF4wHQkxg+kUBMPVWEP0gTDYvBdoahZAzYxEY0ciuWUBFjkoZimDYLC8IKpehmsQccYvSGYgYZB7YBhFL5o8cxTQjDUI/wIArpclrwAAAAAAAAA6AIYA3AEKAUgBgAGgAfoCYgKqAwIDOgOGA9wEQAR4BLYFAgU8BZoFzAYMBlIGmga6BtgG+AcYB0QHcAecB8gIAAg2CG4IpgjyCUAJrAo0CtALOAueDAoMYA0ADVANjg3mDiQOjg7GDvgPOA+ED84QPBB2EN4RNhGgEfISchKoEsgS6BMGEz4TXhOSE8QT+BQsFGIUiBTWFX0AAAABAAAATgBuAAYAAAAAAAIAAAAQAHMAAAAiC3AAAAAAeJx1kctOGzEUhn9DoIKgLloJdcdZIRDK5CKhSqyoogJrhLJDwgyeSzpjRx4HlGfgLcoz8Dp9j+76Z2KhqFJmZM93Ph/bxx4AX/AHCqvnnG3FCgeMVryFT/gReZv+JnKHfBd5B108RN6l/xV5H2d4idzFV/zmCqqzx2iK98gK39RR5C18Vt8jb9P/jNwh30fewaGaR96lf428j4l6i9zFsfo7drOFL/MiyMn4VEaD4bk8LsRRlVZXouehcL6RS8mcDaaqXJK6OtSml+lemTrb3Jp8Xmm/rtZ5YnxTOivDZLCur401XgfztNytec5HIWSSeVfLVdxHZt5NTRqSIoTZRb+/vj/GcJhhAY8SOQoECE5oT/kdYYAhf4zgkRnCzFVWCQuNikZjzhlFO9IwvmTLGFlaw4yKnCBlX9PUdD2Oa/Zlay1n3dLmXKei9xuzNvkJ7XLvso2F9SaselP2Na1tZ+i2wqePszV4ZhUj2sBZy1P4tmrB1X/nEd7XcmxKk9In7a0F2gv0+W44/z/KQo7lAHicbZLnlpswEIW5Bgy4bLLpvfeE9N57z76DLARWEJKOEEucpw8CO/kTncOdT6PhnlHxRt4wJt7/x47nYQQfAUKMESFGggmmmGGOLezBXmxjH/bjAA7iEA7jCI7iGI7jBE7iFE7jDM7iHM7jAi7iEi7jCq7iGq7jBlLcxC3cxh3cxT3cxwM8xCM8xhM8xTM8xwu8xCu8xhu8xTu8xwd8xCd8xhd8xTd8xw/sBLUlZuIkZZW2q0hzahvDRqocUyIpE4EWTR1WXDZ1sGRCz5yklBsqWBZwmauZk01mTqxl0nIlUyLs9r/Zej35m4kFl2XKftlAKFomTlKlmfQ1l74lRdB9dbxQqqyIKbc2MPQZGqbFKsqVaYnJ4ky1Ms24iQXLrYPE8GLZ07jRfaIvcf5JX+NoMhQ5jLoqFwenBS8Gpw7WTh05py6MaOtT2ibEGNXWKW1Da0i9nPY6dNe7CEWy7pc+5EJpvfJVnvtUFUHFZBPWS2LYxKqiECztVpINypAuGS2nvQ6Gs+H0hsk0U3ZznDETguua1/MNpLvMWH/RFGEuuobCihScxqS2zPC6jH4rVaVcxn1UjQ1yJW1QK2MTJ6nrPOqp0d3Vk1WoSVOz7p0oHeWdTbpoh5i3sVWpezp23AGTWch+Mmonu0o0Vb+l6RqdabLmRnveH9ru7j54nGPw3sFwIihiIyNjX+QGxp0cDBwMyQUbGVidNjIwaEFoDhR6JwMDAycyi5nBZaMKY0dgxAaHjoiNzCkuG9VAvF0cDQyMLA4dySERICWRQLCRgUdrB+P/1g0svRuZGFwAB9MiuAAAAA==) format('woff')}</style>
<style id="style-core" type="text/css">html{font:16px/1 Helmet,Freesans,sans-serif}#store-area,tw-storydata{display:none!important;z-index:0}.no-transition{-webkit-transition:none!important;-o-transition:none!important;transition:none!important}:focus{outline:thin dotted}body{color:#eee;background-color:#111}a{cursor:pointer;color:#68d;text-decoration:none;-webkit-transition-duration:.2s;-o-transition-duration:.2s;transition-duration:.2s}a:hover{color:#8af;text-decoration:underline}a.link-broken{color:#c22}a.link-broken:hover{color:#e44}span.link-disabled{color:#aaa}area{cursor:pointer}button{cursor:pointer;color:#eee;background-color:#35a;border:1px solid #57c;line-height:normal;padding:.4em;-webkit-transition-duration:.2s;-o-transition-duration:.2s;transition-duration:.2s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}button:hover{background-color:#57c;border-color:#79e}button:disabled{cursor:not-allowed;background-color:#444;border:1px solid #666}input,select,textarea{color:#eee;background-color:transparent;border:1px solid #444;padding:.4em}select{padding:.34em .4em}input[type=text]{min-width:18em}textarea{min-width:30em}input[type=checkbox],input[type=file],input[type=radio],select{cursor:pointer}input:focus,input:hover,select:focus,select:hover,textarea:focus,textarea:hover{background-color:#333;border-color:#eee}hr{display:block;height:1px;border:none;border-top:1px solid #eee;margin:1em 0;padding:0}textarea{resize:vertical}audio,canvas,progress,video{max-width:100%;vertical-align:middle}.error{padding:.25em;background-color:#511;border-left:.5em solid #c22}.error[title]{cursor:help}.highlight,.marked{color:#ff0;font-weight:700;font-style:italic}.nobr{white-space:nowrap}.error:before,[data-icon-after]:after,[data-icon-before]:before,[data-icon]:before,a.link-external:after{font-family:tme-fa-icons;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;speak:none}[data-icon]:before{content:attr(data-icon)}[data-icon-before]:before{content:attr(data-icon-before) "\00a0"}[data-icon-after]:after{content:"\00a0" attr(data-icon-after)}.error:before{content:"\00a0\e80d\00a0\00a0"}a.link-external:after{content:"\00a0\e80e"}</style>
<style id="style-core-display" type="text/css">#story{z-index:10;margin:2.5em;-webkit-transition:margin-left .2s ease-in;-o-transition:margin-left .2s ease-in;transition:margin-left .2s ease-in}@media screen and (max-width:1136px){#story{margin-right:1.5em}}#passages{max-width:54em;margin:0 auto}</style>
<style id="style-core-passage" type="text/css">.passage{line-height:1.75;text-align:left;-webkit-transition:opacity .4s ease-in;-o-transition:opacity .4s ease-in;transition:opacity .4s ease-in}.passage-in{opacity:0}.passage ol,.passage ul{margin-left:.5em;padding-left:1.5em}.passage table{margin:1em 0;border-collapse:collapse;font-size:100%}.passage caption,.passage td,.passage th,.passage tr{padding:3px}.passage .error{white-space:nowrap}</style>
<style id="style-core-macro" type="text/css">.macro-linkappend-insert,.macro-linkprepend-insert,.macro-linkreplace-insert,.macro-repeat-insert,.macro-timed-insert{-webkit-transition:opacity .4s ease-in;-o-transition:opacity .4s ease-in;transition:opacity .4s ease-in}.macro-linkappend-in,.macro-linkprepend-in,.macro-linkreplace-in,.macro-repeat-in,.macro-timed-in{opacity:0}</style>
<style id="style-ui-dialog" type="text/css">html[data-dialog] body{overflow:hidden}#ui-overlay.open{visibility:visible;-webkit-transition:opacity .2s ease-in;-o-transition:opacity .2s ease-in;transition:opacity .2s ease-in}#ui-overlay:not(.open){-webkit-transition:visibility .2s step-end,opacity .2s ease-in;-o-transition:visibility .2s step-end,opacity .2s ease-in;transition:visibility .2s step-end,opacity .2s ease-in}#ui-overlay{visibility:hidden;opacity:0;z-index:1000;position:fixed;top:0;left:0;height:100%;width:100%}#ui-dialog.open{display:block;-webkit-transition:opacity .2s ease-in;-o-transition:opacity .2s ease-in;transition:opacity .2s ease-in}#ui-dialog{display:none;opacity:0;z-index:1100;position:fixed;top:50px;margin:0;padding:0}#ui-dialog-titlebar{position:relative}#ui-dialog-close{display:block;position:absolute;right:0;top:0;white-space:nowrap}#ui-dialog-body{overflow:auto;min-width:280px;height:90%;height:calc(100% - 2.1em - 34px)}#ui-overlay{background-color:#000}#ui-overlay.open{opacity:.8}#ui-dialog{max-width:66em}#ui-dialog.open{opacity:1}#ui-dialog-titlebar{background-color:#444;min-height:24px}#ui-dialog-title{margin:0;padding:.2em 3.5em .2em .5em;font-size:1.5em;text-align:center;text-transform:uppercase}#ui-dialog-close{cursor:pointer;font-size:120%;margin:0;padding:0;width:3.6em;height:92%;background-color:transparent;border:1px solid transparent;-webkit-transition-duration:.2s;-o-transition-duration:.2s;transition-duration:.2s}#ui-dialog-close:hover{background-color:#b44;border-color:#d66}#ui-dialog-body{background-color:#111;border:1px solid #444;text-align:left;line-height:1.5;padding:1em}#ui-dialog-body>:first-child{margin-top:0}#ui-dialog-body hr{background-color:#444}#ui-dialog-body ul.buttons{margin:0;padding:0;list-style:none}#ui-dialog-body ul.buttons li{display:inline-block;margin:0;padding:.4em .4em 0 0}#ui-dialog-body ul.buttons>li+li>button{margin-left:1em}#ui-dialog-close{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#ui-dialog-close{font-family:tme-fa-icons;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;speak:none}</style>
<style id="style-ui" type="text/css">#ui-dialog-body.settings [id|=setting-body]{display:table;width:100%}#ui-dialog-body.settings [id|=setting-label]{display:table-cell;padding:.4em 2em .4em 0}#ui-dialog-body.settings [id|=setting-label]+div{display:table-cell;min-width:8em;text-align:right;vertical-align:middle;white-space:nowrap}#ui-dialog-body.list{padding:0;min-width:140px}#ui-dialog-body.list ul{margin:0;padding:0;list-style:none;border:1px solid transparent}#ui-dialog-body.list li{margin:0}#ui-dialog-body.list li:not(:first-child){border-top:1px solid #444}#ui-dialog-body.list li a{display:block;padding:.25em .75em;border:1px solid transparent;color:#eee;text-decoration:none}#ui-dialog-body.list li a:hover{background-color:#333;border-color:#eee}#ui-dialog-body.saves{padding:0 0 1px}#ui-dialog-body.saves>:not(:first-child){border-top:1px solid #444}#ui-dialog-body.saves table{border-spacing:0;min-width:340px;width:100%}#ui-dialog-body.saves tr:not(:first-child){border-top:1px solid #444}#ui-dialog-body.saves td{padding:.33em .33em}#ui-dialog-body.saves td:first-child{min-width:1.5em;text-align:center}#ui-dialog-body.saves td:nth-child(3){line-height:1.2}#ui-dialog-body.saves td:last-child{text-align:right}#ui-dialog-body.saves .empty{color:#999}#ui-dialog-body.saves .datestamp{font-size:75%}#ui-dialog-body.saves ul.buttons li{padding:.4em}#ui-dialog-body.saves ul.buttons>li+li>button{margin-left:.2em}#ui-dialog-body.saves ul.buttons li:last-child{float:right}#ui-dialog-body.settings div[id|=header-body]{margin:1em 0}#ui-dialog-body.settings div[id|=header-body]:first-child{margin-top:0}#ui-dialog-body.settings div[id|=header-body]:not(:first-child){border-top:1px solid #444;padding-top:1em}#ui-dialog-body.settings div[id|=header-body]>*{margin:0}#ui-dialog-body.settings h2[id|=header-heading]{font-size:1.375em}#ui-dialog-body.settings p[id|=header-label]{font-size:87.5%}#ui-dialog-body.settings div[id|=setting-body]+div[id|=setting-body]{margin:.5em 0}#ui-dialog-body.settings [id|=setting-control]{white-space:nowrap}#ui-dialog-body.settings button[id|=setting-control]{color:#eee;background-color:transparent;border:1px solid #444;padding:.4em}#ui-dialog-body.settings button[id|=setting-control]:hover{background-color:#333;border-color:#eee}#ui-dialog-body.settings button[id|=setting-control].enabled{background-color:#282;border-color:#4a4}#ui-dialog-body.settings button[id|=setting-control].enabled:hover{background-color:#4a4;border-color:#6c6}#ui-dialog-body.share{min-width:140px}#ui-dialog-body.list a,#ui-dialog-body.settings span[id|=setting-input]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#ui-dialog-body.saves button[id=saves-clear]:before,#ui-dialog-body.saves button[id=saves-export]:before,#ui-dialog-body.saves button[id=saves-import]:before,#ui-dialog-body.settings button[id|=setting-control].enabled:after,#ui-dialog-body.settings button[id|=setting-control]:after{font-family:tme-fa-icons;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;speak:none}#ui-dialog-body.saves button[id=saves-export]:before{content:"\e829\00a0"}#ui-dialog-body.saves button[id=saves-import]:before{content:"\e82a\00a0"}#ui-dialog-body.saves button[id=saves-clear]:before{content:"\e827\00a0"}#ui-dialog-body.settings button[id|=setting-control]:after{content:"\00a0\00a0\e830"}#ui-dialog-body.settings button[id|=setting-control].enabled:after{content:"\00a0\00a0\e831"}</style>
<style id="style-ui-bar" type="text/css">#story{margin-left:20em}#ui-bar.stowed~#story{margin-left:4.5em}@media screen and (max-width:1136px){#story{margin-left:19em}#ui-bar.stowed~#story{margin-left:3.5em}}@media screen and (max-width:768px){#story{margin-left:3.5em}}#ui-bar{position:fixed;z-index:50;top:0;left:0;width:17.5em;height:100%;margin:0;padding:0;-webkit-transition:left .2s ease-in;-o-transition:left .2s ease-in;transition:left .2s ease-in}#ui-bar.stowed{left:-15.5em}#ui-bar-body{height:90%;height:calc(100% - 2.5em);margin:2.5em 0;padding:0 1.5em}#ui-bar.stowed #ui-bar-body,#ui-bar.stowed #ui-bar-history{visibility:hidden;-webkit-transition:visibility .2s step-end;-o-transition:visibility .2s step-end;transition:visibility .2s step-end}#ui-bar{background-color:#222;border-right:1px solid #444;text-align:center}#ui-bar-tray{position:absolute;top:.2em;left:0;right:0}#ui-bar a{text-decoration:none}#ui-bar hr{border-color:#444}#ui-bar-history [id|=history],#ui-bar-toggle{font-size:1.2em;line-height:inherit;color:#eee;background-color:transparent;border:1px solid #444}#ui-bar-toggle{display:block;position:absolute;top:0;right:0;border-right:none;padding:.3em .45em .25em}#ui-bar.stowed #ui-bar-toggle{padding:.3em .35em .25em .55em}#ui-bar-toggle:hover{background-color:#444;border-color:#eee}#ui-bar-history{margin:0 auto}#ui-bar-history [id|=history]{padding:.2em .45em .35em}#ui-bar-history #history-jumpto{padding:.2em .665em .35em}#ui-bar-history [id|=history]:not(:first-child){margin-left:1.2em}#ui-bar-history [id|=history]:hover{background-color:#444;border-color:#eee}#ui-bar-history [id|=history]:disabled{color:#444;background-color:transparent;border-color:#444}#ui-bar-body{line-height:1.5;overflow:auto}#ui-bar-body>:not(:first-child){margin-top:2em}#story-title{margin:0;font-size:162.5%}#story-author{margin-top:2em;font-weight:700}#menu ul{margin:1em 0 0;padding:0;list-style:none;border:1px solid #444}#menu ul:empty{display:none}#menu li{margin:0}#menu li:not(:first-child){border-top:1px solid #444}#menu li a{display:block;padding:.25em .75em;border:1px solid transparent;color:#eee;text-transform:uppercase}#menu li a:hover{background-color:#444;border-color:#eee}#menu a,#ui-bar-history [id|=history],#ui-bar-toggle{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#menu-core li[id|=menu-item] a:before,#ui-bar-history [id|=history],#ui-bar-toggle:before{font-family:tme-fa-icons;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;speak:none}#ui-bar-toggle:before{content:"\e81d"}#ui-bar.stowed #ui-bar-toggle:before{content:"\e81e"}#menu-item-saves a:before{content:"\e82b\00a0"}#menu-item-settings a:before{content:"\e82d\00a0"}#menu-item-restart a:before{content:"\e82c\00a0"}#menu-item-share a:before{content:"\e82f\00a0"}</style>
<style id="style-debugview" type="text/css">#ui-bar-body>#debug-view-toggle:first-child{margin-top:1em}#ui-bar-body>#debug-view-toggle:first-child+*{margin-top:1em}#debug-view-toggle{text-transform:uppercase}#debug-view-toggle:after,#debug-view-toggle:before{font-family:tme-fa-icons;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;speak:none}#debug-view-toggle:before{content:"\e838\00a0"}html:not([data-debug-view]) #debug-view-toggle{color:#eee;background-color:transparent;border:1px solid #444;padding:.4em}html:not([data-debug-view]) #debug-view-toggle:hover{background-color:#333;border-color:#eee}html:not([data-debug-view]) #debug-view-toggle:after{content:"\00a0\00a0\e830"}html[data-debug-view] #debug-view-toggle{background-color:#282;border-color:#4a4}html[data-debug-view] #debug-view-toggle:hover{background-color:#4a4;border-color:#6c6}html[data-debug-view] #debug-view-toggle:after{content:"\00a0\00a0\e831"}html[data-debug-view] .debug{padding:.25em;background-color:#234}html[data-debug-view] .debug[title]{cursor:help}html[data-debug-view] .debug.block{display:inline-block;vertical-align:middle}html[data-debug-view] .debug.invalid{text-decoration:line-through}html[data-debug-view] .debug.hidden,html[data-debug-view] .debug.hidden .debug{background-color:#555}html:not([data-debug-view]) .debug.hidden{display:none}html[data-debug-view] .debug[data-name][data-type].nonvoid:after,html[data-debug-view] .debug[data-name][data-type]:before{background-color:rgba(0,0,0,.25);font-family:monospace,monospace;white-space:pre}html[data-debug-view] .debug[data-name][data-type]:before{content:attr(data-name)}html[data-debug-view] .debug[data-name][data-type|=macro]:before{content:"<<" attr(data-name) ">>"}html[data-debug-view] .debug[data-name][data-type|=macro].nonvoid:after{content:"<</" attr(data-name) ">>"}html[data-debug-view] .debug[data-name][data-type|=html]:before{content:"<" attr(data-name) ">"}html[data-debug-view] .debug[data-name][data-type|=html].nonvoid:after{content:"</" attr(data-name) ">"}html[data-debug-view] .debug[data-name][data-type]:not(:empty):before{margin-right:.25em}html[data-debug-view] .debug[data-name][data-type].nonvoid:not(:empty):after{margin-left:.25em}html[data-debug-view] .debug[data-name][data-type|=special],html[data-debug-view] .debug[data-name][data-type|=special]:before{display:block}</style>
</head>
<body>
	<div id="init-screen">
		<div id="init-no-js"><noscript>JavaScript is required. Please enable it to continue.</noscript></div>
		<div id="init-lacking">Your browser lacks required capabilities. Please upgrade it or switch to another to continue.</div>
		<div id="init-loading"><div>Loading&hellip;</div></div>
	</div>
	<div id="store-area" hidden><tw-storydata name="DW2" startnode="63" creator="Twine" creator-version="2.2.1" ifid="D0F35B6F-F50C-46A2-844E-471C19E9B6A3" zoom="1" format="SugarCube" format-version="2.21.0" options="" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css">

</style><script role="script" id="twine-user-script" type="text/twine-javascript">

</script><tw-passagedata pid="1" name="Dragon War" tags="" position="421,8" size="100,100">&lt;img src=&quot;images/00-1.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;img src=&quot;images/00-2.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;img src=&quot;images/00-3.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;img src=&quot;images/00-4.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;img src=&quot;images/00-5.png&quot; style=&quot;max-width: 100%;&quot;&gt;

&lt;center&gt;[[Prologue]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Opening&quot; play&gt;&gt;
&lt;&lt;widget &quot;playlist1&quot;&gt;&gt;&lt;&lt;setplaylist &quot;VOICE1&quot; &quot;VOICE2&quot; &quot;VOICE3&quot; &quot;VOICE4&quot; &quot;VOICE5&quot;&gt;&gt;&lt;&lt;/widget&gt;&gt;
&lt;&lt;playlist1&gt;&gt;
&lt;&lt;playlist play&gt;&gt;</tw-passagedata><tw-passagedata pid="2" name="Prologue" tags="" position="269,4" size="100,100">&lt;img src=&quot;images/00.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;The tragic history started a long time ago before the battle of the young prince of dragons against the Goddess. The destiny of an entire race would be affected by the fear, the ambition, the treachery, the desire of protecting at any cost...

The powerful Dragon clan... It&#39;s said that the prosperity of the clan started 10000 years before, or maybe even 15000 years ago. Of course no one can expect documentation from those times, everything must be guessed based on the traditions of each region. 

Around 500 years in the past, in a peaceful city to the East, a war would be unleashed that&#39;d mark the future of the entire world. 

The sky is about to cry, small memories... when they face the unknown, everyone is alone. 

Do you know how the Dragon War happened?

[[Urkan Tapa, the town of God]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;playlist stop&gt;&gt;
&lt;&lt;audio &quot;Machi&quot; time 28 play&gt;&gt;</tw-passagedata><tw-passagedata pid="3" name="Urkan Tapa, the town of God" tags="" position="346,112" size="100,100">&lt;center&gt;&lt;img src=&quot;images/02.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Urkan Tapa, a city built to face any evil that threatens the world. Its structure makes it difficult for enemies to attack, making any attempt at invading impossible as well as gaining them time to plan a counterattack. 
Its religion maintains the town united with strong bonds of brotherhood. 
The warriors of Urkan are the ones in charge of keeping peace and tranquility among the citizens. Known for their strength of body and mind, they are unique warriors in the world. 
In spite of being normal humans and lacking any type of characteristic strength like other clans of the world, they manage to rival any other warrior race in the world. 

In the past it was commonplace for battles between towns and each group had their kingdom, their home along their own kin. Now there&#39;s peace in the world and coexistence between races improves the quality of life for everyone, helping and learning between each other. 
Even then, there aren&#39;t many travelers that would stop in these sacred lands far away from luxury and commodities.
&lt;img src=&quot;images/03.png&quot; style=&quot;max-width: 100%;&quot;&gt;
In the highest building of the town stand Patriarch Sudama in a meeting with father Ganer, primarily in charge of both the physical, mental and religious training in Urkan...&lt;/center&gt;

Sudama:- &quot;So they must be about to return from their training...&quot;
Ganer:- &quot;Yes, they should be arriving soon. The best group of warriors we&#39;ve ever had.
&lt;img src=&quot;images/04.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Garland, who traveled to Worent, the lonely nomad town where a few members of the formidable Woren Clan still live.
Gaist, who traveled to the far-away Crescent Island, a mystical place to the East where the mysterious clan of the Kamaitachi live. It is told their secret techniques are capable of incredible miracles. 
Gatz, who went to Highfort, the ancient kingdom of the Highlanders, one of the better known warrior races across the world&quot; 
Sudama:- &quot;And Gaw&#39;s training, how is it progressing?&quot;
Ganer:- &quot;He&#39;s the best pupil I&#39;ve ever had. His strength and intelligence are enviable. Not even my younger self could compare to him&quot;
Sudama:- &quot;It&#39;s not surprising. They are all talented youths gifted with the faith and power of our God... but...&quot;
Ganer:- &quot;Something&#39;s wrong, Patriarch Sudama?&quot;
Sudama:- &quot;My conscience is uneasy... I feel a danger is fast approaching... we&#39;ll be needing our best warriors back home as soon as possible...&quot;

&lt;center&gt;[[Worent]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;playlist stop&gt;&gt;
&lt;&lt;audio &quot;Urkan&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="4" name="Worent" tags="" position="210,224" size="100,100">&lt;center&gt;Worent, the small settlement for the clan of the tiger-people. 
The Woren possess great physical skills, enough strength to endure great amount of weight over their shoulders and the speed to handle the finest melee weapons, as well as the intelligence to fulfill complex strategies and, perhaps most important, a great willpower. 
In this place so isolated from civilization is where warrior Garland traveled to improve his skills...&lt;/center&gt;

&lt;img src=&quot;images/05.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Garland:- &quot;I&#39;m really grateful for everything you&#39;ve taught me in our time together, master Wang Tang. I&#39;m ready to return to my people&quot;
Wang Tang:- &quot;I told you, stop calling me master. Makes me feel old...&quot;
Garland:- &quot;It&#39;s the least I can do, your lessons have been very valuable to me&quot;
Wang Tang:- &quot;Ha! If you say so&quot;
Garland:- &quot;But I&#39;m worried about Worent. There&#39;s little people left... what are you planning for the future?&quot;
Wang Tang:- &quot;We are very restless people, we can&#39;t stay in one place for too long. We need to explore the world in our own. That&#39;s liberty and everyone should live in this way. Cities and rules only limit everyone&#39;s capabilities and knowledge greatly&quot;
Garland:- &quot;Even then, you decided to stay here years ago&quot;
Wang Tang:- &quot;Other Worens needed a leader to inspire confidence in them. But it is only a matter of time until everyone return to world traveling and this little place disappears&quot;
Garland:- &quot;You all are a very curious race... and what will you do?&quot;
Wang Tang:- &quot;I had my lot of fun in the past, traveled the world without a worry, faced all kinds of situations, showed off my capacity in various tournaments, met very special people...&quot; -The tiger-man&#39;s always stern expression relaxed for an instant.
Garland:- &quot;So that&#39;s how you met her?&quot;
Wang Tang:- &quot;Ha! That&#39;s when I lost the title of champion, I couldn&#39;t do anything against her magic and her enviable beauty. She flew freely around the world without ever depending on those fragile wings she could never use. And I only wish the same for our son, for him to run around the world as free as a fierce tiger. You should do the same, Garland. Your town only restricts you, there&#39;s still a lot you need to understand about this world&quot;
Garland:- &quot;Thanks for the advice, but I&#39;m happy among my people and under our God&#39;s protection. Besides, I&#39;m also have someone waiting for me at home&quot; -The warrior&#39;s memories were also reflected in his expression.
Wang Tang:- &quot;Answers are something we need to look out for ourselves without expecting anything for a &#39;God&#39;. You must walk on your own&quot;
Garland:- &quot;He, I understand that, but I owe my God the motivation for the warrior I am now, one that&#39;s going to fight to protect those he loves dear&quot; 
Wang Tang:- &quot;Do as you see fit. Go already, goodbyes bore me&quot;
Garland:- &quot;One last drink together, before I leave?&quot;
Wang Tang:- &quot;Ha! One? Why so little? Let&#39;s drink so much you&#39;ll be hard pressed to find your way back to Urkan!&quot;

&lt;center&gt;And so the hours went by in celebration of a friendship forged in their long hours shared together. 

[[Highfort]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Worent&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="5" name="Highfort" tags="" position="336,222" size="100,100">&lt;center&gt;Highfort, the fortress kingdom.
Built above legendary ruins, this is the home of the Highlanders, a race of skillful and agile warriors which have participated in countless wars. As time moves on peace has settled in, and the members of this clan have decided to abandon their warrior traditions and instead live a more uneventful life outside Highfort. Nonetheless, some still maintain those customs and traditions very much alive. &lt;/center&gt;

&lt;img src=&quot;images/06.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Gatz:- &quot;It&#39;s the day already? I&#39;d have liked to stay a little bit longer&quot;
Gerdenheim:- &quot;Maybe I should have trained you harder, then&quot;
Gatz:- &quot;Haha, you only wish to see me die, old man. I could barely survive as is in here&quot;
Gerdenheim:- &quot;He, that&#39;s only because you kept insisting on training with that giant weapon of yours. Training here is meant for those light on the feet&quot; -Clarified the old master as he pointed out the monstrous spear Gatz favored as his weapon.
Gatz:- &quot;Well, that was my objective. The Beast Spear is a very powerful weapon, but requires not only strength to handle it properly, but also incredible skill to not end up being injured by its use&quot;
Shina:- &quot;Oh, that&#39;s very wise from you, Gatz&quot; -A young blonde sporting beautiful wings interrupted, sarcastically. She has a light step but firm enough to demonstrate confidence and authority.
Gatz:- &quot;You&#39;re so kind, Shina. But I know you are saying that only because I learned it from you...&quot;
Shina:- &quot;It was, after all, the only way to break through your stone head&quot;
Gerdenheim:- &quot;That&#39;s a story I&#39;ve never heard. Were you hiding that one from me?&quot;
Gatz:- &quot;Maybe I just forget to bring that one up...&quot; -He said looking to the side.
Shina:- &quot;We met each other near Rhapala some time ago. I was heading there to learn about the history of the Guild and ended up running into a wounded idiot trying to move a giant spiked mace. I explained to him that kind of training was useless, but it only angered him. So I challenged him to a fight. The moment he lifted that heavy weapon above his head I simply casted my Cyclone to break his resistance and have that cumbersome lance of his fell square over his really thick skull&quot;
Gatz:- &quot;Hmph, no one likes a know-it-all you know? I was injured and exhausted, that&#39;s why I couldn&#39;t keep holding its weight&quot;
Gerdenheim:- &quot;Hohoho! As clueless as ever&quot;
Shina:- &quot;Once he woke up I explained to him the best way to use that kind of weapon and the best training spot, so I recommended him to go and seek you, gramps&quot;
Gerdenheim:- &quot;That intelligence sure is worthy of the Princess of Wyndia&quot;
Gatz:- &quot;Wha-wait? You are the Princess of Wyndia!? I thought you were an historian...&quot; -Surprised by the revelation, Gatz turned his sight quickly to the princess.
Shina:- &quot;I&#39;m both, actually. And I also educate dimwitts as an aside&quot; -She said as she returned her gaze back together with a mocking smile.
Gatz:- &quot;Hmph, that&#39;s very funny, Broken Wings&quot;
Shina:- &quot;What was that you called me, stone-head!?&quot;
Gatz:- &quot;You heard it right, Princess Broken Wings!&quot;
Gerdenheim:- &quot;You two are quite energetic today...&quot;
Shina:- &quot;Gramps, thanks a lot for your time. The history of Highfort and the Highlanders is a truly valuable one&quot;
Gerdenheim:- &quot;It was a pleasure, Princess. I&#39;m only requesting of you to not describe us as heroes. I&#39;ve been in many battlefields fighting for what I believed, but my opponents were just the same, like reflections in a mirror. I wasn&#39;t always certain of my actions, but I&#39;d never regret them out of respect for them, those &#39;me&#39; in that mirror. There are no heroes or villains in history, only warriors dutifully carrying out their missions&quot;
Gatz:- &quot;That&#39;s rather chilling...&quot;
Shina:- &quot;I understand perfectly, gramps. I hope we&#39;ll meet again soon&quot;
Gerdenheim:- &quot;You&#39;re free to come see me anytime you wish. Specially if you bring more of that delicious Shisu!&quot;
Shina:- &quot;But of course! Okay let&#39;s go, idiot&quot; -She started to take off after bowing down to her old master. 
Gatz:- &quot;You&#39;re not dropping that, are you?&quot;
Shina:- &quot;I was certain that&#39;s the name you go by&quot;
Gatz:- &quot;Hmph, right now I fully understand how snobby and spoiled you are. But anyway, I wouldn&#39;t be a complete warrior if not for your help&quot; -He said in a low voice and looking at the side.
Shina:- &quot;Oh, you&#39;re getting sentimental now? Don&#39;t tell me you fell in love&quot; -She suspiciously said as she drew an ironic smile.
Gatz:- &quot;For an insufferable bookworm? Never&quot;
Shina:- &quot;Heh, perhaps one of these days I&#39;d pay Urkan Tapa a visit to study its history&quot;
Gatz:- &quot;I&#39;ll be waiting with a red carpet and plenty of flowers, Your Majesty Broken Wings&quot; -He expressed mockingly while doing a reverense in front of her.
Shina:- &quot;Oh, that&#39;s so kind of you, mighty warrior Stone Head&quot;

&lt;center&gt;They both parted ways toward their homes holding smiles and fond memories of their time together at Highfort.

[[Crescent Island]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Highfort&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="6" name="Crescent Island" tags="" position="471,144" size="100,100">&lt;center&gt;Crescent Island, a mysterious island on the East.
In the middle of the sea, far away from the mainland, this piece of land in the shape of a crescent moon is the home of the Kamaitachi clan, a race expert in varios legendary techniques and martial arts. This distant and mysterious place was witness of countless warriors as they trained, and among then was the young Gaist.&lt;/center&gt;

&lt;img src=&quot;images/07.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Tenkai:- &quot;I don&#39;t tend to welcome that many foreigners in this island, but I&#39;m content with having done an exception and trained you all myself. Gaist from Urkan, Ernest from Wyndia, Kirin from the Nightrunner Clan, Iremia from the Iscariot Clan. You can go now, you have learned everything I know&quot; -The Kamaitachi teacher stood up while speaking those words, a tint of pride audible in his words. 
Gaist:- &quot;Thank you master Tenkai. I swear I&#39;ll always fight with honor and use your techniques to face any evil, in the name of God&quot;
Ernest:- &quot;It was a pleasure to be granted this chance to learn from you and I&#39;m grateful for having shared this traning with all of you&quot;
Kirin:- &quot;Me as well. I feel this place allows me to connect to my ancestors. I&#39;m very grateful, master&quot;
Iremia:- &quot;Don&#39;t get too sentimental. The old man was just bored out of his mind, that&#39;s why he put up with us&quot; -Said the mysterious man in the mask, interrumpting his colleagues&#39; cordialities.
Tenkai:- &quot;Hahaha! You are right, Iremia. Specially in your case as you arrived first, in a pitiful state and close to dying. At the time it seemed fixing you would be a good past-time&quot; -He replied with a smile.
Iremia:- &quot;Tsk. You don&#39;t have to remind me of that&quot;
Tenkai:- &quot;Every victory is compounded of defeats. Without them we could never discover where our true objectives lie. You four learned that everything in this world is relative, everything can deceive not only our eyes but also all comprehension. Follow your hearts and there will be no doubts clouding your mind. And you can always come pay me a visit, if I&#39;m still alive that is&quot;
Gaist:- &quot;Don&#39;t go around joking like that, I have no doubts over your ability to cheat death!&quot;
Tenkai:- &quot;Hahaha! That&#39;s my best skill actually, it&#39;s a pity I can&#39;t pass it over to you all&quot; -Said the old teacher as he sit back in his spot and lighted an old pipe. 

&lt;center&gt;All the students made a reverence to their Kamaitachi master and left that place in the middle of the island&#39;s bamboo forest. Then they say farewells to each other and took their own roads. 
Gaist and Ernest took an old wooden raft to start the long trip back to the port city of Rhapala...

[[Rhapala]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;CrescentIsland&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="7" name="Rhapala" tags="" position="470,257" size="100,100">Gaist:- &quot;We are here at last. Ernest, I hope we&#39;ll meet up again in the future&quot;
Ernest:- &quot;I&#39;m sure we will, my friend. You should go to Wyndia if you have a chance, you will be received in the castle as a great warrior deserves&quot;
Gaist:- &quot;Ha, that&#39;s a bit too much&quot; -Said humbly while closing his eyes.
Ernest:- &quot;But before that, we must have a proper sendoff by sharing a drink&quot;
Gaist:- &quot;But of course! As long as you&#39;re the one paying, I&#39;ve got no zenny with me&quot;
Ernest:- &quot;Hehe... sure, that&#39;s no problem...&quot; -A sweat drop ran down the knight&#39;s forehead.
Gaist:- &quot;Going off a bit here, but it seems Kirin decided to stay some more time on the island. He said that place is just perfect for him&quot;
Ernest:- &quot;The thing is Kirin belongs to an extinct clan: the Nightrunners. Rumors say in the past that clan possessed great hidden powers which granted them miraculous strength, but apparently he&#39;s the only survivor now. He told he how he arrived years before any of us, seeking to further connect with the lost abilities of his clan&quot;
Gaist:- &quot;It must be hard having neither a family nor a place to call &quot;home&quot;... What about Iremia? Did he said if he was staying too?&quot;
Ernest:- &quot;No idea. You have picked it up too, he&#39;s very reserved and lonely and never spoke about his origin or goals. I&#39;ve never heard of the Iscariot Clan and I never saw his face the whole time we were together... that man is truly a mystery&quot;
Gaist:- &quot;Yeah... but still I sensed he was really powerful...&quot;
Ernest:- &quot;No doubt about that... he was probably the strongest among all four of us&quot;

&lt;center&gt;At that moment, in the distance appeared the figure of a woman wearing a blue cape, covering what seemed to be a box or heavy baggage of sorts, but which still revealed an athletic and well-defined body.&lt;/center&gt;
&lt;img src=&quot;images/08.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Gaist:- &quot;W-wow... who is she?&quot; -The Urkan warrior said, totally surprised.
Ernest:- &quot;I don&#39;t know, but I&#39;d say she picked your interest, right?&quot;
Gaist:- &quot;W-wha? No, it&#39;s just... just something... caught me off-guard...&quot; -Blushing at his friend&#39;s comment, Gaist couldn&#39;t part his eyes from the woman.
Ernest:- &quot;I feel like I should help you here... MISS!!!&quot; -He shouted while waving the woman from afar as she turned around.
Gaist:- &quot;What-what are you doing!?&quot;
Alitheia:- &quot;Hmm?&quot;
Ernest:- Ha, sorry for asking but my friend here would love to know your name&quot;
Gaist:- &quot;H-hey!&quot; -Gaist lowered his head in clear embarassment.
Alitheia:- &quot;Oh, it&#39;s green... interesting&quot; -The woman said as she observed something in the inside of her cape. - &quot;My name&#39;s Alitheia&quot;
Gaist:- &quot;(Green?)&quot;
Ernest:- &quot;A pleasure to meet you Alitheia. I&#39;m Ernest from Wyndia and this here is my friend, Gaist from Urkan&quot;
Alitheia:- &quot;By the looks you&#39;re warriors&quot; -She said after having observed them from top to bottom.
Giast:- &quot;Y-yes! We are just coming back from our training&quot;
Ernest:- &quot;Forgive me if we are bothering you, but we are just about to go get some drinks at the bar. Would you mind joining us?&quot;
Alitheia:- &quot;As long as you are the ones paying&quot;
Gaist:- &quot;My friend is paying, he lives in a castle and has money to spare&quot;
Ernest:- &quot;R-right... no problem... I think...&quot; -Two sweat drops ran down Ernest&#39; forehead.

&lt;center&gt;In the closest INN...&lt;/center&gt;
&lt;img src=&quot;images/09.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Gaist:- &quot;That&#39;s quite an appetite...&quot;
Alitheia:- &quot;Mh? Ah, I really never notice when is too much&quot; -Said carefree while rubbing the back of her head.
Ernest:- &quot;(Shina&#39;s gonna kill me...)&quot;
Alitheia:- &quot;So... warriors from Wyndia and Urkan, correct?&quot;
Ernest:- &quot;Indeed, I&#39;m a knight at the service of the Wyndia Castle. It&#39;s been my lifelong dream to become one ever since I saw the royal guard save our city from an attack&quot;
Gaist:- &quot;And I&#39;m from Urkan Tapa. Perhaps my story is not as entertaining as Ernest&#39;s, but in my town we are taught since infancy to seek valor from the balance between physical and mental strength&quot;
Ernest:- &quot;Don&#39;t be modest now. Gaist here is among the strongest warriors in the world. Even as an human he can measure up to any other clan&quot;
Alitheia:- &quot;That&#39;s impressive&quot;
Gaist:- &quot;I-it&#39;s not really, but in any case this strength is thanks to our God&quot;
Alitheia:- &quot;God?&quot; -Interrupted the young girl.
Gaist:- &quot;Yes. Faith in our God is what motivates all our actions. In Urkan we all desire the best for the world and that grants us the strength to achieve anything&quot;
Alitheia:- &quot;So, you&#39;re like superheroes then?&quot;
Gaist:- &quot;Hahaha, well that&#39;s one way to put it&quot; -He replied, surprised at the naivety of that comment. - &quot;By the way, from where do you come, Alitheia?&quot;
Alitheia:- &quot;From a faraway place. A small town, isolated from everything&quot;
Ernest:- &quot;And what brings you here?&quot;
Alitheia:- &quot;I was waiting for a friend who went to Crescent Island&quot;
Gaist:- &quot;We were training there! What&#39;s your friend&#39;s name?&quot;
Alitheia:- &quot;Iremia&quot;
Ernest:- &quot;Color me surprised, we were training partners with him. We just were discussing how little we knew about him&quot;
Alitheia:- &quot;He&#39;s a man of few words&quot;
Gaist:- &quot;You two come from the same town? Long time friends?&quot; -He asked, very curiously.
Alitheia:- &quot;Since childhood. He&#39;s not very trusting around people&quot;
Ernest:- &quot;Can I ask the reason for that?&quot; -Ernest spoke, getting impatient over the underwhelming answers thus far.
Alitheia:- &quot;He comes from a family with a bad reputation&quot;
Ernest:- &quot;The Iscariot Clan?&quot;
Alitheia:- &quot;He descends from someone who betrayed their people, both those who fought for right and those fighting for greed and ambition&quot;
Gaist:- &quot;That&#39;s unfair, to pay for the sins of your ancestors&quot;
Alitheia:- &quot;As a result his lineage has always been discriminated. His blood is tainted with the power of a demon&quot;
Ernest:- &quot;I get it now. He sought the Kamaitachi to find a way to break his curse&quot;
Gaist:- &quot;We never saw his face, so we couldn&#39;t know from what Clan he hails from. What is the kind of power he possess?&quot;
Alitheia:- Mmm... I have no clue&quot; -She said, maintaining the same tone she&#39;s had the whole conversation.
Ernest:- &quot;No doubt he&#39;s different. We could realize it merely from his presence&quot;
Gaist:- &quot;By the way, I was meaning to ask... don&#39;t you want to leave that luggage you&#39;re carrying? It appears to be quite unconfortable&quot;
Alitheia:- &quot;No, it&#39;s fine. I have to go anyway, I should go find him. Thanks for the meal&quot;
Gaist:- &quot;W-wait! How can I find you again?&quot;
Alitheia:- &quot;If fate desires so, we will meet again&quot;
Gaist:- &quot;Not quite the answer I was expecting, but I hope fate can convince you to pay Urkan Tapa a visit one of these days, I&#39;ll be waiting&quot;
Alitheia:- &quot;Hm, perhaps I will&quot; -She answered after once again taking a peek inside her cape and smile for the first time. - &quot;Goodbye&quot;

Ernest:- &quot;You go, winner&quot; -Ernest added, while nudging Gaist with his elbow.
Gaist:- &quot;It was that obvious?&quot;
Ernest:- &quot;You&#39;re like an open book, Gaist. I&#39;m pretty sure she realized your interest in her from the very first second&quot;
Gaist:- &quot;Ahh... really hope I didn&#39;t ruined it&quot;
Ernest:- &quot;Hahaha! Don&#39;t you worry, you did manage to get her to laugh a bit&quot;
Gaist:- &quot;That answer wasn&#39;t something I was expecting either, my friend... (Alitheia... I really want to see her again...)&quot;

&lt;center&gt;With hope in his heart, Gaist said farewell to Ernest and returned to his home thinking about all the people he met during his time on the island. 

[[Reunion]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Rhapala&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="8" name="Reunion" tags="" position="345,354" size="100,100">&lt;center&gt;At the entrance to Urkan Tapa, Gaw was waiting together with his brother, the blacksmith Halberd, and Father Ganer the arrival of the other warriors...&lt;/center&gt;
&lt;img src=&quot;images/10.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Gaw:- &quot;They always come late&quot;
Halberd:- &quot;You&#39;re way too strict with them, Gaw. Relax a bit&quot;
Gaw:- &quot;Heh, discipline is something fundamental to any warrior&quot;
Ganer:- &quot;Hoho, and so is taking some time to appreciate the important and beautiful things on life&quot;
Gaw:- &quot;Hmph...&quot;
Halberd:- &quot;Here arrives the first&quot;
Gaw:- &quot;Garland, welcome to Urkan Tapa&quot; -He greets and extends his hands to his friend and colleague.
Garland:- &quot;Thanks Gaw, I was already missing this place. Halberd, I see you&#39;re even older than what I remember&quot;
Halberd:- &quot;Hahhaha well you don&#39;t need to worry, this white hair is not going to prevent me from forging the best weapons I can for all of you&quot;
Garlad:- &quot;Good to hear! Father Ganer, thanks for your recommendation with master Wang Tang&quot; -Garland bowed down in gratitude.
Ganer:- &quot;I&#39;m glad to know he taught you well. Some times he may be a bit irritable, but no one can ever put his incredible skills into question&quot;
Garland:- &quot;I recall you did lose to him in the Contest of Champions, right?&quot;
Ganer:- &quot;Hmph, let&#39;s just say he got very lucky&quot; -mumbled the prideful father.
Garland:- &quot;Hahahahah!&quot;
Gaw:- &quot;I knew you&#39;d be the first to arrive, Garland. And she&#39;s also waiting for you&quot;
Garland:- &quot;Yeah? Where&#39;s she?&quot;
Gaw:- &quot;She said she&#39;d be upstairs, in that room&quot; - Gaw pointed high above, where a single door was visible.
Garland:- &quot;Thanks, I&#39;m going right away!&quot; -And so Garland left, excited for the meeting he has been waiting for.
Halberd:- &quot;... even a serious no-nosense guy like you likes to play pranks on others, eh?&quot;
Gaw:- &quot;Heh, sometimes you just can&#39;t help it&quot;

&lt;center&gt;In the upper area of town, a light was discernible inside one of the houses...&lt;/center&gt;
Garland:- &quot;Eliza! I&#39;m bac-... eh?&quot;
Eliza:- &quot;Kyaaaa!&quot;
&lt;img src=&quot;images/11.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Garland:- &quot;S-s-s-s-sorry!! I didn&#39;t know you were doing-! I&#39;m sorry!!... dammit Gaw, I&#39;m gonna kill him for this... playing this type of joke on me!&quot;
&lt;img src=&quot;images/12.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Eliza:- &quot;So you&#39;re back...&quot;
Garland:- &quot;Yes... and I&#39;m staying this time...&quot; -Feeling Eliza pressing against his back, Garland felt a rush of feelings in him, peace and tranquility he hasn&#39;t felt in a very long time.
Eliza:- &quot;You sure of that?&quot;
Garland:- &quot;Only my duty can ever keep me away from you, but I&#39;ll always return&quot;
Eliza:- &quot;Oh, sounds like you&#39;ve matured a bit&quot;
Garland:- &quot;Heh, I&#39;m still the same naive you&#39;ve known since&quot;
Eliza:- &quot;Oh, I certainly can see it, haha&quot;
Garland:- &quot;Uh... you do realize you are... eh, naked... right?&quot;
Eliza:- &quot;Ah! True! Don&#39;t you dare look! Don&#39;t look!&quot; -She shouted in shame as she tried to cover herself with her hands and ran inside her room. 
Garland:- &quot;But it&#39;s not like I&#39;m seeing anything new...&quot;

&lt;center&gt;A short time after, the other warriors arrived and everyone gathered to enjoy a welcoming banquet.&lt;/center&gt;
&lt;img src=&quot;images/13.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Garland:- &quot;That wasn&#39;t funny at all, Gaw&quot;
Gaw:- &quot;Hahahaha! Not even those markings you got under your eyes could mask the redness of your face!&quot;
Gaist:- &quot;Ah, it&#39;s such a shame I missed that, hahaha&quot;
Gatz:- &quot;We are still trying to understand what Eliza saw in a beast like Garland&quot;
Eliza:- &quot;Now you mention it... I don&#39;t get it either&quot;
Gaist:- &quot;HAHAHAHAH!&quot;
Gatz:- &quot;Okay, speaking for real, you two are very lucky!&quot;
Gaist:- &quot;True that, I do envy you two!&quot;
Gaw:- &quot;Women are just a weakness to us&quot; -Interrupted Gaw, crossing his hands and speaking in a terse and grave voice. 
Halberd:- &quot;So that&#39;s why four girls left you this year alone? To help you in your training?&quot;
Gaw:- &quot;B-brother!&quot;
Gaist:- &quot;Hahahah! Can&#39;t fool us, Gaw&quot;
Gaw:- &quot;Hmph. I simply have priorities&quot;
Garland:- &quot;What about you two? Any romantic stories to share with us?&quot;
Gatz:- &quot;Nope, none at all. In Highfort there was only this annoying bookworm Wyndian girl who treated me like an idiot&quot;
Garland:- &quot;A smart girl? Clearly not a good match for you&quot;
Gaw:- &quot;Stole the words right outta my mind&quot;
Eliza:- &quot;I second that&quot;
Gaist:- &quot;It&#39;s only logical&quot;
Gatz:- &quot;Very funny, guys. Just shut it&quot;
Gaist:- &quot;And in Crescent Island... let&#39;s just say Kamaitachi aren&#39;t my type at all... but on my trip back here I ran into this beautiful woman with violet hair and clear eyes! I invited her with my friend Ernest to eat and spent a good time together&quot;
Garland:- &quot;Where was she from?&quot;
Gaist:- &quot;I don&#39;t know, she said some faraway place and that we&#39;ll meet again if fate desires so&quot;
Eliza:- &quot;Sounds like what we say when we want to get a guy off our backs...&quot;
Gaist:- &quot;... r-really?&quot;
Eliza:- &quot;S-sorry Gaist! I wasn&#39;t trying to be mean... I&#39;m sure I got it wrong and she liked you!&quot;
Gaw:- &quot;Unlikely&quot;
Garland:- &quot;Hahaha you got yourself some luck, Gaist&quot;
Gaist:- &quot;Ahhh... even then, I&#39;m certain we&#39;ll meet again! -As he exclaimed this Gaist stood up and pointed at the sky.
Gatz:- &quot;He, let&#39;s make a toast for that!&quot; -Everyone raised their cups in support of Gaist.

&lt;center&gt;And so these peaceful days continued unaltered in this sacred ground.
Until that fateful day came, the moment which forced the wheels of destiny to spin for everyone...

[[The Attack]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Nina&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="9" name="The Attack" tags="" position="235,354" size="100,100">&lt;img src=&quot;images/14.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;The sky was tinted red that night. The town was under a violent attack, fire spreading quickly around the houses where the people of Urkan were until then sleeping peacefully.&lt;/center&gt;

Sudama:- &quot;An attack!? Quick, everyone evacuate!&quot; -Sudama left his chambers quickly and sought the assistance of Father Ganer and the warriors.
Ganer:- &quot;This is an unexpected situation. Who could carry out such an intense attack this quickly!? Who is our enemy!? From where it comes from!?&quot;
Garland:- &quot;Gatz, Gaw! Help the people escape! Gaist, let&#39;s go find our enemy!&quot;
Gaist:- &quot;I&#39;m with you!&quot;
Sudama:- &quot;This is a very mysterious attack, there was not even one sign of the enemy and its destructive power is beyond impressive. Be careful, everyone...&quot;

&lt;center&gt;The fireballs made of hot lava continued to fall over the town, and both warriors attempted to stop them while the inhabitants made a quick retreat.
In that moment, Gaw realized his brother was nowhere to be seen. He rushed toward his home to find it engulfed in fire. Moving both fire and debris away he finally reached his brother, unconscious and with one leg trapped beneath large pieces of rock and the metal he used to forge weapons. Gaw attempted to clear the debris but the fire was fast approaching, and so he saw no other choice. Raising his axe high above him, Gaw dropped it and in one clean strike cut his brother&#39;s leg covered in melted iron. The pain instantly woke Halberd up among screams and cries, but it was brief as he was soon once again knocked out. Gaw, however, was only worried about getting him away from there...&lt;/center&gt;

Gatz:- &quot;Can&#39;t be, Halberd...&quot; -Shook by the image in front of him, Gatz was left speechless.
Gaw:- &quot;I had to cut his leg... to save him...&quot;
Gatz:- &quot;You did what had to be done, Gaw&quot;
Gaw:- &quot;Only if he survives... and even then... whoever did this shall receive God&#39;s punishment!!&quot;
Gatz:- &quot;Gaw...&quot; -Feeling the anguish in his friend&#39;s scream, he reted his hand on Gaw&#39;s shoulder. The two then continued helping the other townspeople. 

&lt;center&gt;Meanwhile, in the town&#39;s entrance...&lt;/center&gt;

Garland:- &quot;This darkness is blinding! The enemy must not be too far...&quot;
Gaist:- &quot;The attacks came from the East, so I&#39;d say we check that side and stay vigilant for any follow-up attack so it&#39;d reveal their exact location&quot;
Garland:- &quot;Sounds like a plan. Ok, let&#39;s go!&quot;
Gaist:- &quot;Aren&#39;t you worried about Eliza?&quot;
Garland:- &quot;She was with me when the attack started, but she told me she&#39;s more than capable of handling herself. She was going to help the evacuation&quot;
Gaist:- &quot;Heh, no problem then. Let&#39;s move out!&quot;

&lt;center&gt;The warriors went running toward the direction with haste. In that moment, another attack was visible in the sky and the fire trail led them right into their enemy...

[[In the outskirts of Urkan]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Panic&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="10" name="In the outskirts of Urkan" tags="" position="119,356" size="100,100">Garland:- &quot;What&#39;s that? I&#39;ve never seen a monster like that...&quot;
Gaist:- &quot;I don&#39;t know, but we can&#39;t falter now. We must kill it!&quot;
&lt;img src=&quot;images/15.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;Garland swung his Spear and started spinning it in the air, having developed great strength to handle heavy weapon above his head during his training in Worent. Applying this to his spear, much lighter than other weapons, he manages to reach greater velocity and thus a greater impulse to generate more potent attacks. 
On the other hand Gaist took out his scythe, a weapon which requires great skill in order to make flowing chain attacks, since its a hard to move object that can leave openings in one&#39;s defense if one only attacks once. 
They attack the enemy together, at the same time, but miss...&lt;/center&gt;

Garland:- &quot;Dammit! It&#39;s like a ghost or something&quot;
Gaist:- &quot;Its speed, that must be it. We can&#39;t reach its core, only its sides which are like smoke...&quot;
Garland:- &quot;Watch out!&quot;
&lt;img src=&quot;images/15-2.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;The enemy couters with the same lava fireballs that seconds before rained over Urkan, the technique Lavaburst manages to gravely injure the warriors Garland and Gaist.&lt;/center&gt;

Garland:- &quot;Argh! It&#39;s powerful... we&#39;d need a distraction to hit it...&quot;
Gaist:- &quot;Garland... I&#39;m going to do something I learned at Crescent Island... I hope it will be enough to distract it... and when that moment comes, you must strike with all your might...&quot;
Garland:- &quot;Understood, let&#39;s try it...&quot;
Gaist:- &quot;&lt;strong&gt;SANCTUARY!&lt;/strong&gt;&quot;
&lt;img src=&quot;images/16.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;Gaist unleashes a light over all present. Seemingly affected by the technique the enemy&#39;s image distorts. &lt;/center&gt;
Garland:- &quot;(That&#39;s quite an useful skill, it appears to be affecting the enemy, it&#39;s starting to lose form. NOW!) NIUYOOO!&quot;

&lt;center&gt;Garland struck the mysterious shadow, and it instantly disappeared leaving no trace behind...
The battle was over...

[[Consequences]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Fight1&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="11" name="Consequences" tags="" position="8,356" size="100,100">Garland:- &quot;It ran away? Or was it just an illusion?&quot;
Gaist:- &quot;What&#39;s important is that we were able to stop the attack over Urkan...&quot; -Gaist let himself fall into the ground, defeated by exhaustion. 
Garland:- &quot;True. It seems your strategy worked out in the end&quot;
Gaist:- &quot;It seems. Sanctuary is a skill that allows one to null any magical effect over the affected, it appears that shadow had some kind of power over it...&quot;
Garland:- &quot;We&#39;ve got to go back and help, we can discuss the situation later&quot;

&lt;center&gt;In Urkan, the situation was desperate.
Death, injured, destruction and chaos at every corner. 
Patriarch Sudama called a meeting with Father Ganer and the warriors...&lt;/center&gt;
&lt;img src=&quot;images/17.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Sudama:- &quot;This is disastrous. This attack has left us vulnerable... did you were able to find out anything about the enemy?&quot;
Garland:- &quot;Not much, only it was way too powerful... one attack was enough to leave us in critical condition...&quot;
Gaist:- &quot;It didn&#39;t seem to possess a physical form, but its shape is something we&#39;ve never seen before...&quot;
Ganer:- &quot;How was it like?&quot;
Gaist:- &quot;It had sharp teeth, red eyes... it resembled the Lizardman somewhat, only way bigger...&quot;
Sudama:- &quot;Mmmm... it can&#39;t be... could that be... a Dragon!?&quot; -Sudama&#39;s face went pearl white.
Garland:- &quot;Dragon?&quot;
Ganer:- &quot;Maybe you&#39;ve never heard of them because that&#39;s very old history, but the Dragon Clan has taken an active role in the worst fights of humanity and they had enslaved untold towns in the past. It&#39;s said their clan is extremelly powerful...&quot;
Gaist:- &quot;Why we have never seen one of their members?&quot;
Sudama:- &quot;As time flew, those demons disappeared slowly, probably hiding away when faced with the world&#39;s distrust&quot;
Ganer:- &quot;It&#39;s a worrisome trouble if a single one caused this much damage to two of our best warriors and without even being present...&quot;
Gaw:- &quot;If one could destroy the town in the way it did, we&#39;d have no winning chance if more attack us in group&quot; 
Gatz:- &quot;True... our choices are limited...&quot;
Sudama:- &quot;We&#39;ll have to seek the guidance of our God in this dire situation. You&#39;ll go to Angel Tower as soon as we finish rebuilding our town. Meanwhile, take some rest and refill your energies&quot;

&lt;center&gt;[[Wyndia Castle]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Regrets&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="12" name="Wyndia Castle" tags="" position="8,472" size="100,100">&lt;center&gt;Some days after the attack, news reached the castle in Wyndia, the oldest of all kingdoms which managed to expand its territory all over the west, including small villages and farming areas. The kingdom hosts the direct descendants of the Wyndians, which in the distant past possessed the ability to fly across the skies. This ability has deteriorated over the course of time and in current times it has reached the point where very few Wyndians sport wings, and even then they lack the sufficient strength to make any use of them as their ancestors. 
Inside the castle were gathered in a meeting knight Ernest and Princess Shina. &lt;/center&gt;
&lt;img src=&quot;images/18.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Shina:- &quot;Urkan Tapa was attacked?&quot;
Ernest:- &quot;It appears that during one night they were hit by a powerful suprise attack from an unknown enemy, and it managed to destroy the entire town...&quot;
Shina:- &quot;One enemy? In a single night?&quot;
Ernest:- &quot;It appears so. The messenger from Urkan told us the enemy appears to be...&quot;
Shina:- &quot;... The Dragon Clan&quot; -Interrupted the princess, with a worried look on her face.
Ernest:- &quot;Eh... how did you know?&quot;
Shina:- &quot;It&#39;s the only clan in recorded history that I can think of with the capacity to carry out an attack of such magnitude. Although according to my research members of the Dragon Clan were mostly peaceful, there did exist in the past a schism between the warriors of light and darkness... if a member of the Dark Dragons somehow gained control of the entire clan, this could spell disaster and lead to another war...&quot;
Ernest:- &quot;No wonder you&#39;re the Princess... deduced that much with so little information&quot;
Shina:- &quot;This is a critical situation not only for the people of Urkan Tapa, but for all of us as well. We must offer our help and support to the Patriarch. Ernest, go bring in Amitai, we are traveling to Urkan immediately&quot;
Ernest:- &quot;Understood! I hope my friend Gaist is safe&quot;
Shina:- &quot;He was a strong warrior, I&#39;m sure he&#39;s alright&quot;
Ernest:- &quot;You must think the same of mister Gatz, right?&quot;
Shina:- &quot;Not really, but that idiot is way too much stubborn to allow himself to die&quot;
Ernest:- &quot;Haha, far as you have told me, that sounds accurate&quot;

&lt;center&gt;[[Wyndia rooftop]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Wyndia&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="13" name="Wyndia rooftop" tags="" position="119,472" size="100,100">&lt;center&gt;Answering the royal call, the sorcerer Amitai rushes quickly to the upper tiers of the Wyndia Castle to meet with his partners. &lt;/center&gt;
&lt;img src=&quot;images/19.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Shina:- &quot;It&#39;s been a long time, Amitai&quot;
Amitai:- &quot;Greetings, princess. It&#39;s an honor to join you on a mission once again, nevertheless one of such importance as this one&quot; -He said with confidence, but keeping his voice humble.
Shina:- &quot;And who are your companions?&quot;
Kanzei:- &quot;Allow me to present ourselves, Princess. My name is Kanzei McNeil and this here is my son, Keiyaku. We heard about what happened and we wish to offer our sincere cooperation. We aren&#39;t graced with combat skills but we can still provide warriors with the best weapons from our region, as well as the finest armors and items&quot;
Shina:- &quot;So, this is a bussiness trip then?&quot; -She added, a bit untrusty of these men.
Kanzei_- &quot;Eh-No, N-no... not precisely. Our only desire is to be of assistance, we aren&#39;t looking forward for any personal gain in this trip. Hehe&quot;
Shina:- &quot;Your help is greatly appreciated, Mr. McNeil&quot;
Amitai:- &quot;Ernest, why did you bring us to this part of the castle? It&#39;s going to take a while to go through the volcano on foot, we should be hurrying&quot;
Ernest:- &quot;I was hoping you could do your little teleportation trick from here...&quot; -He replied with a wide grin.
Amitai:- &quot;I&#39;d be glad to, but that trick would require quite a lot of energy to perform over a distance this far away&quot;
Ernest:- &quot;Heh, don&#39;t worry, I know. I was just joking. Traveling from here will be much faster, just leave it to me. Oooohhh!!&quot;
&lt;img src=&quot;images/19-2.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;Surrounded by wind blasts, Ernest&#39;s form starts to change into that of a large bird. &lt;/center&gt;

Amitai:- &quot;A-amazing. The Great Bird of legend, the lost ability from Wyndians. But, how? How can this be possible? In the past this transformation skill was common, but after centuries one could only trigger it by renouncing to their own mind, staying forever transformed. It is possible Ernest...?&quot;
Shina:- &quot;You kept that one to yourself, Ernest. Truthfully, the skills from the Kamaitachi are quite impressive&quot; 
Ernest:- &quot;Ha, you figured it out instantly, Princess. Indeed, this is one of the secret techniques I learned in Crescent Island, referred by their people as &#39;Henshin&#39; or &lt;strong&gt;&#39;Shapechanging&#39;&lt;/strong&gt;. It consists on attaining a deep connection with the aura in one&#39;s blood in order to access abilities long lost of our clan. Unfortunately, I can&#39;t maintain it for long, but it should be good enough to get us faster to Urkan Tapa&quot;
Amitai:- &quot;I was worried for a moment my friend, I was fearing we&#39;d have to feed you like a pet for the remainer of your life&quot;
Ernest:- &quot;Hahahaha, I wouldn&#39;t be so careless as to sacrifice my life over a simple travel, but this is a technique that requires a lot of training, of both the body and mind. If my bond isn&#39;t perfect I could end stuck in this form forever and lose my humanity, much as it happened in the past&quot;
Amitai:- &quot;He, talk about taking a risk...&quot;
Shina:- &quot;Very well, everyone. Let&#39;s go to Urkan Tapa!&quot;
Kanzei:- &quot;(I can&#39;t believe it. This is something that happens once in a lifetime. My ticket to a secure life for decades, nah even centuries! I will squeeze this crisis for all its worth! Hahaha!)&quot; -The merchant wondered in silence, immense greed shining through his eyes. 
Keiyaku:- &quot;(I think I&#39;m getting second thoughts about this whole deal...)&quot; -The merchant&#39;s son considered to himself, unable to hide his fear and anxiousness.

&lt;center&gt;Everyone hopped onto Ernest&#39;s back and they quickly took off in Urkan Tapa&#39;s direction. 

[[Angel Tower]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Overworld2&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="14" name="Angel Tower" tags="" position="234,474" size="100,100">&lt;center&gt;The days went by as the town of Urkan recovered. After securing the refugee for the survivors and rebuilding all the rooms required, the 4 warriors were sent to Angel Tower to speak with God. For the people of Urkan this tower is sacred, capable of sealing any evil as well as being the only mean through which God speaks with His people. 
The warriors walk up the long staircases until they reach the altar at the top of the construction...&lt;/center&gt;
&lt;img src=&quot;images/20.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Garland:- &quot;Oh, God Almighty! We, the warriors of Urkan Tapa, have come to this sacred place in search of your advice in the face of an aggravating situation. What must we do?&quot;
&lt;center&gt;The four young men lowered their heads, closed their eyes and started to pray. 
After a few minutes of absolute silence, a divine light bursted and posited over the altar.&lt;/center&gt;
God:- &quot;My faithful warriors. I know of your plight. The demons have returned from the depths to bring chaos and darkness upon the world once again. It is your duty to stop them&quot;
Gaist:- &quot;If I may, My God. These demons are extremely powerful, we are not capable enough to stand against them in any capacity. It&#39;s likely they are not only stronger than us, but also are superior in numbers... how can we stop them?&quot;
God:- &quot;Fear not, my warriors. It is certain this enemy surpasses the skills of any mortal men, even your own which stand out tall among them all. It is for this reason I offer you my Strength to combat them&quot;
Garland:- &quot;Does that mean...&quot;
God:- &quot;I offer you to make them my Guardian Angels in order to protect Urkan Tapa and the rest of the world from this approaching evil. To do so, you will have to renounce to your human life and accept this divine strength for the rest of your lives. Your skills will be bolstered beyond your limits, you will become insuperable. And once your mission is complete, you will be bestowed the greatest honor: to see me and be granted the Dream of Stone. This will be only when you believe the time has come&quot;
Garland:- &quot;...&quot;
God:- &quot;I understand this is a monumental weight that&#39;s placed onto your shoulders. Take some time and consider your choice. The future of the entire world rests in your hands, young warriors&quot; 

&lt;center&gt;The voice slowly echoed away as it vanished, leaving behind the whispering sound of the wind.

[[Decisions]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Historical&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="15" name="Decisions" tags="" position="347,475" size="100,100">&lt;center&gt;The warriors returned to their homes, each entranced in deep thoughts about the decision to take. Garland went to Eliza...&lt;/center&gt;
&lt;img src=&quot;images/21.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Eliza:- &quot;I can&#39;t believe such evil can exist on this world...&quot;
Garland:- &quot;It&#39;s unfortunate, but history tells us so. The strength of our God will grant us victory, but in exchange I have to renounce to my humanity... I will never be the same man you see now...&quot;
Eliza:- &quot;But that&#39;s not true&quot;
Garland:- &quot;Mh?&quot;
Eliza:- &quot;Even if your appearance changes, you will always be the same person. Nothing will ever change your heart&quot;
Garland:- &quot;So... you think I should do it?&quot;
Eliza:- &quot;I believe in what you want to do, and I&#39;m sure you took that decision from the very beginning. Your duty is to protect the world, and my duty is to stop you from making a stupid of yourself&quot; -Eliza told him while winking at Garland.
Garland:- &quot;He, to be truthful there were some doubts still in my heart. But now, they are gone. Thanks&quot;
Eliza:- &quot;Besides, it&#39;s going to be real easy for our God to get you a better appearance. Anything will be an upgrade&quot;
Garland:- &quot;Hey, this face hasn&#39;t had any problems thus far, after all it managed to win over a funny and beautiful woman&quot;
Eliza:- &quot;Oh, is that so? Perhaps you could introduce her to me some day&quot;
Garland:- &quot;Ha!&quot;

&lt;center&gt;Meanwhile, the warrior Gaw found himself on the town&#39;s infirmary awaiting for his brother to wake up after his brush-in with death. &lt;/center&gt;
&lt;img src=&quot;images/22.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Halberd:- &quot;...&quot; -Downtrodded and depressed, Halberd couldn&#39;t say a word.
Gaw:- &quot;I&#39;m sorry brother...&quot;
Halberd:- &quot;You don&#39;t need to apologize. It was the only choice&quot;
Gaw:- &quot;The one who did this will pay. I&#39;m completely certain, I will become a Guardian Angel&quot;
Halberd:- &quot;It&#39;s a huge honor... I believe you were born for it. And it&#39;s my responsability to forge a weapon worthy of such strength&quot;
Gaw:- &quot;Right now just think about fully recovering. I&#39;ll handle everything else&quot;
Ganer:- &quot;Our faith will guide us to victory, but hear me out: never allow the thoughts of getting revenge consume you, don&#39;t ever take this actions as taking vengueance. Gaw, this is for the wellbeing of humanity and the world, and it will be vital to maintain all your senses vigilant&quot;
Gaw:- &quot;I know, master&quot;

&lt;center&gt;In the town entrance, Patriarch Sudama called in Gaist to welcome a group of far-away visitors. &lt;/center&gt;
&lt;img src=&quot;images/23.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Sudama:- &quot;Welcome to our humble town, travelers from Wyndia&quot;
Shina:- &quot;It&#39;s a pleasure to meet you, Patriarch Sudama. We heard about the situation and came here to bring you our assistance in anything we can&quot;
Sudama:- &quot;It will be greatly appreciated, we are now facing an evil that has no equal in the world...&quot;
Gaist:- &quot;Finally we meet again, Ernest&quot;
Ernest:- &quot;It&#39;s been too long, friend. I&#39;m glad to see you are safe&quot; -Both exchanged a fraternal hug.
Gaist:- &quot;You arrived very quickly to this region, despite the volcano blocking the path&quot;
Ernest:- &quot;He, well... we came in flying&quot;
Gaist:- &quot;Ah, right! You managed to perfect the shapechanging skill&quot;
Ernest:- &quot;Exactly. It&#39;s a shame this technique is so complex not everyone can learn it, I&#39;d wish for all of Wyndia to feel the sensation of flying across the skies just like our ancestors did&quot;
Gaist:- &quot;Yes, I can understand that desire. So, who are your friends here?&quot;
Ernest:- &quot;Ah right sorry, let me introduce them. He is the sorcerer Amitai, the greatest one in all of Wyndia and, may I dare, perhaps the entire world even. He&#39;s the current champion at the Contest of Champions&quot;
Amitai:- &quot;Heh, you can see he really appreciates me by that grandiose introduction&quot; -Said the sorcerer modestly as he shook the hand of the warrior.
Ernest:- &quot;And they are Kanzei McNeil and his son Keiyaku&quot;
Kanzei:- &quot;It&#39;s a pleasure to meet you, we&#39;ve traveled from far away lands to bring the best weapons and armors for this battle. And everything free of charge, after all the future of this world depends on you&quot;
Sudama:- &quot;That&#39;s very kind of you, Mr. McNeil&quot;
Shina:- &quot;Yeah, perhaps a bit too much...&quot;
Kanzei:- &quot;Ehe... i-it&#39;s just a... small sacrifice for the greater good&quot;
Ernest:- &quot;And finally Amelia... let&#39;s just said we literally met her just before arriving here&quot;
Sudama:- &quot;I&#39;ve never seen you around these lands, you are not from Urkan&quot;
Amelia:- &quot;I&#39;m just traveling around&quot;
Gaist:- &quot;Mmm... are you from the Iron Ogre clan?&quot;
Amelia:- &quot;No, I come from the Algani&quot;
Sudama:- &quot;I&#39;ve never heard of that clan&quot;
Amelia:- &quot;I&#39;m the only one left&quot;
Gaist:- &quot;Ernest, I find it strange for you to allow someone so suspicious into your party... can we trust her?&quot;
Ernest:- &quot;She was of great help to us. We were attacked by some powerful monsters we&#39;ve never seen before and she amanged to drain them off their power in an instant. Then she requested to join us, telling us she&#39;s aware of the current situation&quot;
Amitai:- &quot;I can say with certainty that her magic is very powerful, based on my observations she&#39;s from a clan with a natural talent for magic&quot;
Shina:- &quot;But most importantly, she showed us a skill that&#39;s going to give us the victory in this war&quot;
Gaist:- &quot;Are you serious!?&quot;
Sudama:- &quot;Right now, please come in and take some rest, we can speak of strategies later&quot;
Shina:- &quot;Patriarch, first I&#39;d want to ask you something... is there a guy called Gatz? Or did he died during the attack?&quot;
Gaist:- &quot;Eh... no, he&#39;s upstairs taking a bath in the sacred waters...&quot;
Shina:- &quot;Thanks&quot;
Gaist:- &quot;A-a-re you going anyway!?&quot;
Ernest:- &quot;Heh, she can&#39;t really hide that she&#39;s really worried. So Gaist, did the lady of your dreams came to visit already?&quot;
Gaist:- &quot;Ah, don&#39;t remind me of that, I&#39;m sure after all that happened she&#39;s probably never coming here&quot; -He sighed in clear disappointment.
Ernest:- &quot;Haha, cheer up! I&#39;m pretty sure she&#39;s thinking about you right now&quot;
Gaist:- &quot;That&#39;s besides the point. I&#39;ve decided to become a Guardian Angel&quot;
Ernest:- &quot;Guardian?&quot;
Gaist:- &quot;Yes. I can&#39;t think of myself in this difficult times. It is the greatest honor that our God has offered us his strength, I can&#39;t turn it down. But because of this, my appearance will never be the same again. It&#39;s probable she&#39;ll hardly even recognize me again&quot;
Ernest:- &quot;Are you sure you want to go along with this?&quot;
Gaist:- &quot;My heart harbors no doubts&quot;
Ernest:- &quot;Then it is the right thing to do. Still, you shouldn&#39;t lose all hope. You only have to reintroduce yourself a second time to her&quot;
Gaist:- &quot;Heh, that doesn&#39;t sound that bad&quot;

&lt;center&gt;And in the sacred waters room...&lt;/center&gt;
&lt;img src=&quot;images/24.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Shina:- &quot;So, here you are you Stone Head&quot;
Gatz:- &quot;What in the!? Princess Broken-Wings!?&quot;
Shina:- &quot;I see I was right to think you were way too stubborn just to die&quot;
Gatz:- &quot;That&#39;s so cute, you worry about me Your Highness?&quot;
Shina:- &quot;Actually, I do. The enemy is probably the strongest clan in history. Your skill could never measure up to that&quot;
Gatz:- &quot;I hate to admit it, but I know... and that&#39;s why our God will grant us his strength...&quot;
Shina:- &quot;So you will become Guardian Angels&quot;
Gatz:- &quot;I&#39;m pretty sure I told you already, but no one likes a know-it-all. I was hoping I could explain you what it all entails&quot; -He said under murmurs.
Shina:- &quot;I thought that was just a myth. But that means you will never be a normal human again&quot;
Gatz:- &quot;No, that&#39;s the prize to pay to defend this world&quot;
Shina:- &quot;And now you sound so mature... are you really the same one I met in Highfort?&quot;
Gatz:- &quot;Heh, anyway... I appreciate you coming this far, Broken-Wings. I truly do&quot;
Shina:- &quot;Heh, it is my duty as well after all, Stone Head&quot;
Gatz:- &quot;Soooo, did you just came here to relax with me?&quot; -He pointed down at the waters where he was still half-submerged.
Shina:- &quot;Is that an invitation?&quot; -Challenged the princess, her firm and confident tone unchanged.
Gatz:- &quot;And what if it is?&quot;
Shina:- &quot;I may just have to accept it&quot;

&lt;center&gt;In this way, each warrior reached its resolve. The destiny of the world fell right over their shoulders and they could not turn their sight away from this situation.

[[Guardian Angels]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Urkan&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="16" name="Guardian Angels" tags="" position="345,588" size="100,100">&lt;center&gt;The next day, the four warriors went back to the long staircase and reached the altar at the top of Angel Tower ready to meet with their God.
The voice appeared instantly this time, stronger and not as distant as before.&lt;/center&gt;
God:- &quot;Valiant warriors, have you taken a decision?&quot;
Garland:- &quot;We did, my God. It will be an honor for us to receive the divine strength you offer us and eliminate the demons roaming this Earth. We four will take care of that&quot;
God - &quot;You have chosen the right path, young ones. It is time. Accept the divine energy that will transform thee in the strongest beings to walk this world. Become the Guardian Angels!!&quot;

&lt;center&gt;The place of the altar was suddenly iluminated in its entirety by a blinding and blinking flare of white light. The power started to flow within the four chosen&#39;s bodies, their physique started to adapt into completely new shapes to give rise to the birth of the Guardians.&lt;/center&gt;
&lt;img src=&quot;images/25.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Garland:- &quot;A-amazing... this is the strength of God...&quot;
Gaist:- &quot;I feel my power has multiplied a hundredfold...&quot;
Gaw:- &quot;This forms are strange...&quot;
Gatz:- &quot;We are now invincible, no one can beat us. I&#39;m sure of that&quot;
God:- &quot;Guardians, from now on you have the responsability of exterminating every single demon on the world, and to seal their souls in Angel Tower. With this new power you are invincible and will live eternally. Once your mission is completed, and if you desire so, you can come back to this altar and ask me for the eternal dream. Now go, and save my world and my children from the evil demons about to arise&quot;

&lt;center&gt;The booming voice disappeared as suddenly as it appeared, and his presence soon enough fades away from the whole place.&lt;/center&gt;

Garland:- &quot;I think I need a drink&quot;
Gaist:- &quot;Hey, I think we look just fine&quot;
Gatz:- &quot;My only regret is that I can&#39;t wear my bandana anymore&quot;
Gaw:- &quot;How we look is unimportant&quot;
Gatz:- &quot;You say that because you barely changed from. You are almost the same, just with more muscles. You don&#39;t even have horns, you&#39;re just as bald as ever&quot;
Gaist:- &quot;Hahaha!&quot;
Gaw:- &quot;Hmph&quot;
Garland:- &quot;Let&#39;s just go back to Urkan for now. We must begin planning a counterattack&quot;

&lt;center&gt;[[Strategy]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Historical&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="17" name="Strategy" tags="" position="232,588" size="100,100">&lt;center&gt;And in this way the Guardians returned to Urkan Tapa. 
They quickly head to the Patriarch&#39;s room where everyone gathered together to plan the attack against the demons threatening the world. &lt;/center&gt;

Sudama:- &quot;Now that we have the strength of our God and the Guardians, we now need to develop a strategy to defeat the demons&quot;
Ganer:- &quot;The most important thing is to know the enemy&#39;s location, but we don&#39;t have any way to know that...&quot;
Amitai:- &quot;And that&#39;s where we can provide assistance, Father. Specifically Amelia and the reason why she&#39;s so helpful to our cause. Please, Amelia, show them&quot; -Amitai spoke and moved away to leave the room&#39;s center free for the white-haired girl, who walked into and then extended her hand forward.
&lt;img src=&quot;images/26.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Sudama:- &quot;Hmmm!? That&#39;s...&quot;
Amelia:- &quot;The blue spot is our location. The red spots mark the location of the Dragons&quot;
Shina:- &quot;I thought they were in hiding&quot;
Amelia:- &quot;They&#39;ve come out into the surface decades ago and formed out villages, the brightest spots are the primary ones among them&quot;
Garland:- &quot;So they are found both west and north-east. I believe we should strike as fast as possible to the more crowded ones and then proceed into the smaller settlements&quot;
Gaist:- &quot;If they are this many and this strong, we must not give them time to strike back or gather together in a single spot&quot;
Gatz:- &quot;Going northeast saves us from having to go through the volcano&quot;
Sudama:- &quot;I agree. Guardians, go forth and free this world from their evil&quot;
Gaist:- &quot;Just a moment, if I may Patriarch&quot; -Interrupted Gaist suddenly, turning his gaze toward the mysterious young lady that has just show them their enemies&#39; location. - &quot;Amelia, I&#39;m grateful for this help you provided us, but we are still yet to hear anything about who you are. Why suddenly come to help us? How can you detect the demons? Who are you? Are you really our ally? Or... this is the enemy&#39;s trap?&quot; -Gaist questioned the woman, letting his distrustfulness slip through his words. 
Amelia:- &quot;If you wish to know so much, I&#39;ll tell you. Do you know of the Algani Clan?&quot;
Shina:- &quot;No. In fact, I don&#39;t think there&#39;s any book in Wyndia describing a clan with that name or description, and we have the greatest and most complete historical record in the known world&quot;
Amelia:- &quot;The reason for that is because, a long time ago, the Dragons exterminated my entire town and proclaimed our settlements as theirs&quot;
Ganer:- &quot;Mh!? They utterly exterminated an entire clan to the point there are no records of their existence anywhere!?&quot;
Amelia:- &quot;I&#39;m the only one left. We were a peaceful clan and we lived under the teachings of Namanda... but many of our members didn&#39;t knew any offensive spells, only support magic for battles, so we became an easy target. Since then I&#39;ve dedicated my entire being in pursuing the Dragons to claim vengueance for my people, and in doing so I&#39;ve been searching for powerful allies, which is what lead me to Urkan Tapa after I detected their attack&quot;
Garland:- &quot;Mmm... this is a very dangerous situation... I&#39;m sure they attempted to do here what they did with the villages of Namanda you speak of. They&#39;re trying to expand their influence raiding the religious towns first, thinking of them as more peaceful and weaker than other cities and kingdoms&quot;
Amelia:- &quot;That&#39;s why I&#39;m here to assist you in this situation. I must warn you the Dragons maintain a human visage identical to normal humans like you, which is why they can walk without being discovered inside other villages and towns. But you must not be deceived by them. Once killed, some of them revert back to their true form&quot; 
Shina:- &quot;Adult women can be recognized, however. Am I right?&quot;
Amelia:- &quot;Indeed. Their visible demon wings will always betray them&quot;
Gatz:- &quot;And the younger ones?&quot;
Amelia:- &quot;They are indistinguishable from normal children&quot; -She answered with an unchanging expression and a cold tone.
Gaist:- &quot;...&quot;
Ganer:- &quot;I know this will be an incredibly taxing and difficult work, Guardians. But you must always remember that our God gave us the mission to eliminate this demon off the Earth. Leaving them alive they could proceed with their expansion plans and unleash a terrible revenge over the world...&quot;
Garland:- &quot;... we know. We must cast aside any and all doubts off our minds&quot; -Garland answered with a particularly strong determination in his voice, unwavering in his belief about the mission given to them.

&lt;center&gt;In one of the corners of the room, the merchants stood and spoke to themselves...&lt;/center&gt;

Keiyaku:- &quot;Dad, this situation ain&#39;t a bit much over our heads? This is very serious...we should really leave this entire thing behind...&quot; -He stated, unable to shake off his fear. 
Kanzei:- &quot;Did I raise a fool for a son then? Don&#39;t you see this is our one chance in life. We are helping the kingdom of Wyndia in one of the most daring moments in history, and for no friggin&#39; cost to them. My guts tell me once this all blows over we&#39;ll be having a large reward equiparable to the bravery we show in facing this crisis&quot; -He whispered back to his son.
Keiyaku:- &quot;But, dad... what if we end up dying... that&#39;s a very real risk too. I don&#39;t want to die here&quot;
Kanzei:- &quot;Now I&#39;m sure of what I said. Did you learn nothing at all over all this years with me? Surviving is my best skill. Just think in all we&#39;re going to win by the end of this conflict, our family will be secure for life. Think of your son Kassen, he&#39;s about to be born right? The rewards and prestige we&#39;ll be attaining here will provide for his sons, and the sons of his sons, and so forth for centuries!&quot;
Keiyaku:- &quot;I know... but...&quot;
Kanzei:- &quot;They will be doing all the dirty work and we&#39;ll just stay here, nowhere near any danger, while bringing in weapons for all the warriors. Besides, luck has smiled upon us after the town&#39;s blacksmith got crippled, hehe&quot;
Keiyaku:- &quot;... Al-alright, dad. I suppose I have no choice...&quot;
Kanzei:- &quot;You better believe it!&quot;

&lt;center&gt;[[The duty]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Ogre&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="18" name="The duty" tags="" position="118,587" size="100,100">&lt;center&gt;That day the 4 Guardians left in route to the village located at the northeast of Urkan Tapa. 
The location was well hidden, surrounded by mountains making access difficult to any common traveler. A peaceful life as seen in any other city across the world could be observed here. There were women, old people and children, and none of them seemed to be a threat to anything.
But that&#39;s something the Guardians knew could not make them falter, they had a duty to fulfill...&lt;/center&gt;
&lt;img src=&quot;images/27.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Villager:- &quot;Mh? Stop right there! Identify yourself!&quot;
Garland:- &quot;We are emissaries from God, and we have come here to purify this world&quot; 

&lt;center&gt;Saying no further words, the Guardians started their violent attack on the villagers. A single strike was enough to decapitate any enemy standing in their way. They quickly rushed across the whole town and with unwavering resolve they murdered everyone they crossed paths with. Their arms did not falter, never shook a single time. They were firm as their weapons sliced across the demons standing in front of them, one after the other.
It was as Amelia has told them, once they died the demons took on their true, original forms. This did nothing but further strengthen their resolve, convincing the warriors that each strike they delievered was righteous and necessary, and cleaning away any lingering doubts that may have surged in their minds after witnessing the treacherous appearance their objectives initially displayed. &lt;/center&gt;
&lt;img src=&quot;images/28.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Garland:- &quot;There were over 250 targets here, in a single spot...&quot; -He said looking at the sea of death that was extended in front of his eyes.
Gatz:- &quot;This will be no easy task. We must now travel to each and every spot Amelia indicated to us, while the other warriors take care of gathering the corpses and taking them back to Angel Tower&quot;
Gaist:- &quot;We can start tomorrow, we split up and go overtake all those locations&quot; -Gaist commented to his comrades, with exhaustion that was noticeable in his voice. As he said so, he was giving shape to a little piece of wood.
Gaw:- &quot;I agree with Gatz. This is just the beginning of this war, we have a lot of work ahead of us&quot;
Garland:- &quot;Gaist, that&#39;s...&quot;
Gaist:- &quot;A tribute. They may be enemies of God, but I still pray their souls can be purified and they can find peace&quot;
Garland:- &quot;A tribute for demons...&quot;

&lt;center&gt;The Guardians took a rest until the next morning, and once awake took their separate ways. Divided in two groups they aimed at different directions in order to continue their mission.

[[Dragnier]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;DragonAngel&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="19" name="Dragnier" tags="" position="8,586" size="100,100">&lt;center&gt;Away from the first village attacked by the Guardians, hidden away in the dark depths of the Earth, there was Dragnier. A long time ago, roughly 500 years in the past, they decided to move their town underground in order to protect the world from the seed of evil. 
As time went on and enduring peace reigned over the world, most Dragons decided to come rise out of their confinement once again and populate the surface world. But a small group stayed behind protecting the seal for generations. 

In the Altar the figure of the Dragon God materialized in front of those in charge. &lt;/center&gt;
&lt;img src=&quot;images/29.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Dragon God:- &quot;Young Dragons that have decided to stay behind vigilant in this sacred ground, we are facing a critical situation. A massacre has begun against our kin!&quot;
Sophia:- &quot;How is that possible!? What happened!?&quot;
Dragon God:- &quot;One of our towns on the surface, Drogen, has been assaulted by four powerful warriors claiming to come in the name of God&quot;
Jono:- &quot;That&#39;s impossible! Has the church of Eva resurfaced once again!?&quot;
Dragon God:- &quot;It appears not to be the cause... I&#39;m afraid this evil is much bigger than any ever seen&quot;
Jono:- &quot;But, if this is not related to Deathevans, the evil we defeated long ago... who is our enemy, then?&quot;
Dragon God:- &quot;Right now it remains enshrouded in shadows, a mystery to us. I fear this is connected with events happening centuries in the past, when the world got separated in two sides... that power...&quot; -The Dragon God remembered with much fear. He has been a listener of countless stories, a witness to uncountable catastrophes, all about the world. And he feared what was about to come.
Sophia:- &quot;This is a real problem... we have no idea what we are facing now. What must we do then, Oh Dragon Lord!&quot;
Dragon God:- &quot;I know this will be difficult to ask of you, young Maiden... but the destiny of the world lies on the success of the duty I&#39;m about to bestow upon you. You must travel the surface world and search for the help of the legendary sorceress, Deis. She&#39;s always been an important guidance in our most difficult moments&quot;
Sophia:- &quot;I accept, my Lord. As Dragon Maiden, it is my duty to go&quot;
Jono:- &quot;It is said the sorceress can be found at the top floor of the Tower of Dark and Light. Need some support in case you&#39;re attacked?&quot;
Sophia:- &quot;No, I&#39;ll go alone. We may alert the enemy if we travel in numbers&quot;

&lt;center&gt;The Dragon Maiden traveled the long path leading into the surface world.

[[Sorceress]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Tribute&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="20" name="Sorceress" tags="" position="7,700" size="100,100">&lt;center&gt;Destination: the ancient Tower of Light and Darkness, a place where in the past was stored one of the keys which served as the seal to stop the Goddess Myria. 
This has been the resting place chosen by the legendary sorceress, Deis, one who has been of great assistance to both the Dragon Clan and the world at large eons ago. Her magical powers are unmatched by any other magic user in the world. In the surroundings of the tower not even the strongest mosters dare take a step forward, feeling the terror caused by the mere presence of the sorceress at the top of the tower.
Inside there were only two inhabitants: the sorceress herself and her Guardian. &lt;/center&gt;
&lt;img src=&quot;images/30.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Higemaru:- &quot;Stop! Who goes here?&quot; -A voice strongly resounded across all the tower&#39;s corridors.
Sophia:- &quot;I&#39;m Sophia McCarran, the Dragon Maiden from the Dragon Clan. I&#39;ve come here to ask the sorceress her assistance&quot;
Higemaru:- &quot;I&#39;m the Guardian of the great sorceress Deis, Higemaru. She&#39;s currently in deep meditation and requested not to be disturbed&quot;
Sophia:- &quot;But this is a grave emergency! Please, let me speak with her. I&#39;m sure she&#39;ll understand the situation we are facing&quot;
Higemaru:- &quot;That will be impossible, my orders are to not let anyone go through. If you insist on the contrary, I&#39;ll have no choice but to kill you&quot; -The Guardian stated, defiantly as his blue flames flared slightly.
Sophia:- &quot;If there&#39;s no other choice, Mr. Higemaru...&lt;strong&gt;Speed!&lt;/strong&gt;&quot;
Higemaru:- &quot;Ah!? W-wait! That&#39;s cheating! I wasn&#39;t ready to- ! WAIT!&quot;

&lt;center&gt;Sophia increased her movement speed leaving the Guardian behind. With increased hurry, she opened the door leading into a large room. &lt;/center&gt;

Sophia:- &quot;Sorceress Deis! I&#39;ve come to seek your...help?&quot;
&lt;img src=&quot;images/31.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Sophia:- &quot;... deep meditation?&quot;
Higemaru:- &quot;Ahem... yeah... sort of...&quot;
Sophia:- &quot;Please I beg of you, wake up!&quot;

&lt;center&gt;Deis moves around a little. Instantly the atmosphere transforms, it becomes much denser. The pressure of the Sorceress&#39; incredible power can be readily felt. It almost felt like the whole tower would crumble away. Then...&lt;/center&gt;
&lt;img src=&quot;images/32.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Sophia:- &quot;... she... she just turned around...&quot;
Higemaru:- &quot;It takes a lot of effort to wake her up when she&#39;s this drunk... leave it to me. &lt;strong&gt;Lightning!&lt;/strong&gt;&quot;
&lt;img src=&quot;images/33.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;The Guardian let a lightning beam fall over Deis. The attack&#39;s strength makes not even a dent on the sorceress, but it does manage to bring her back from her drunken slumber. &lt;/center&gt;
&lt;img src=&quot;images/33-2.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Deis:- &quot;Yaaaawn! What&#39;s happenin?&quot;
Sophia:- &quot;(A-amazing... that spell did nothing to her...)&quot;
Higemaru:- &quot;Forgive my intrusion, Sorceress, but here&#39;s someone who insists on seeing you&quot;
Sophia:- &quot;Sorceress Deis, I&#39;m Sophia McCarran, the Dragon Maiden. I&#39;ve come from Dragnier to request your assistance&quot;
Deis:- &quot;Ahh the Dragons eh? That&#39;s rich! But nah, I&#39;m not interested in helping your kin, little one&quot; -She said with the most disinterested look as she turned around and attempted to lie back on her bed.
Sophia:- &quot;Eh!?... B-but...&quot;
Dies:- &quot;I still remember very well. When they decided to leave the surface to go underground, and couldn&#39;t bother to tell me. I haven&#39;t forgiven that transgression, and to me of all people! One who was of so invaluable and incomparable help so many times in the past. Since you lot don&#39;t seem to need my assistance anymore, I&#39;m sure you can deal with whatever its happening, so now go. Shush! I want to go back to my rest&quot;
Sophia:- &quot;... A-alright... okay, let me... perhaps that was an error from our ancestors and how they treated you, and I ask forgiveness in their name...&quot;
Deis:- &quot;That&#39;s cute, but coming from a little whelp like you, it sounds meaningless...&quot; -Sophia stood there in silence, fearing she was about to lose the attention of the one who could help them. Thinking quickly, her mind went back to what she has been told about Deis in the legends. There was one thing that could work. She took a deep breath, and her eyes steeled forward...
Sophia:- &quot;... But for someone so gracious, the legendary Sorceress who has so many times took it upon herself to save the world, why holding up a pointless grudge? Surely, a person of your greatness would find the kindness in her heart to put the indiscretions and mistakes of our ancestors away and assist us in our time of need, as has happened so many times before. In these times of need, we could never go forth without your invaluable guidance and wisdom, Legendary Sorceress Deis&quot; 
Deis:- &quot;... Alright, I suppose it&#39;s not really your fault what your bone-headed ancestors did&quot; -Deis finally turned to face Sophia again. At first rather flattered at the little monologue, her gaze soon sombered up. - &quot;So what&#39;s happening that has you worried so much, little one?&quot;
Sophia:- &quot;It&#39;s an emergency&quot;
Deis:- &quot;An emergency? What kind of emergency can it be this time?&quot;
Sophia:- &quot;We don&#39;t know with certainty. Recently a group of warriors appeared claiming to be &#39;emissaries of God&#39;, and started a crusade against our clan&quot; 
Deis:- &quot;Sheesh, is that all? Why don&#39;t you just obliterate them? Did the Dragon Clan lost their edge after so many centuries?&quot;
Sophia:- &quot;We can&#39;t use our powers so recklessly... our Lord has spoke to us about this threat, and he thinks it may be related to the being who split the world long ago... This could be a trap and we fear the world may come at risk if we start to fight back...&quot; -She explained to the sorceress, with a serious and worried vibe in her voice, her steel gaze facing straight at the sorceress.
Deis:- &quot;Ugh, alright, alright... I&#39;ll help you. I&#39;ll first go see what these &#39;Emissairs of God&#39; idiots are actually about. If the Dragon God&#39;s suspicions are correct, this could be a really grave problem&quot;
Sophia:- &quot;R-really? Thanks a l--!&quot; -She stopped for a moment, then recovered composure. - &quot;Thanks for reconsidering, Great Sorceress. We&#39;ll be indebted for your continued support eternally&quot;
Deis:- &quot;Ha, that goes without saying! Besides, I was starting to get really bored of staying here with this bitter fool&quot;
Higemaru:- &quot;W-well... sorry for being responsible...&quot; -He muttered in lower voice to avoid the Sorceress wrath.
Sophia:- &quot;By the way, forgive my intrusion but something has been bothering me... what&#39;s that thing lying there?&quot; -She pointed at the armor sitting down in one of the room&#39;s corners, out of curiosity.
Deis:- &quot;Hm? That old thing? Just a dumb armor. Don&#39;t know why I keep that ugly thing around, I suppose nostalgia may play...&quot; -Deis stopped as she stared at Sophia, looking even more confused.
Deis:- &quot;Ok, ok, enough silly questions! My time is not to be wasted with these trivialities!&quot;
Sophia:- &quot;Y-yes, sorry for my indiscretion! -She quickly replied, coming back from her confusion.

&lt;center&gt;Deis hastily left toward the area the Guardians were found, while Sophia made her way back to Dragnier.

[[Fools]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Asleep&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="21" name="Fools" tags="" position="120,699" size="100,100">&lt;center&gt;In a desolate prairie, Garland and Gaist had just finished the dragons in the area and were about to take them back to Angel Tower. In that moment Deis showed up, much to the Guardians&#39; surprise as they were no strangers to the stories told about the sorceress. &lt;/center&gt;
Deis:- &quot;What have you done!!&quot;
&lt;img src=&quot;images/34.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Deis:- &quot;What do you think you&#39;re doing! You buffoon!! Idiot!!&quot;
Garr:- &quot;But... Our God has told us that they are wicked and evil...&quot;
Deis:- &quot;And you never thought she might be wrong, you imbicile!? I&#39;ll take you to meet your fool God!&quot;
Gaist:- &quot;Deis...! Show more respect for our God--or else...&quot;

&lt;center&gt;Deis approaches with a sad expression to the dragon corpses lying near the Guardians, and then to the baby dragon.&lt;/center&gt;

Deis:- &quot;Even children and babies. Are you really this stupid!! Idiots!!&quot;
Garland:- &quot;What are your intentions defending our enemies? Defending these demons? They are a danger to the world!&quot;
Deis:- &quot;My only intention is to make you stop doing stupid things! You big oaf!&quot;
Gaist:- &quot;Enough! We don&#39;t care about your reputation as the strongest spellcaster in the world, nor whather it is you think of our actions. We are fulfilling a very important mission and nobody will stop us, much less an old hag like you!&quot;
Deis:- &quot;Ah, so it&#39;s going to be that way? Old hag? You just did it. &lt;strong&gt;MYOLLNIR!!&lt;/strong&gt;&quot;
&lt;img src=&quot;images/34-2.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;The Guardians watch as a mighty powerful ray of light descends from the sky directly into them, unable to do anything to stop it. Against such an incredibly destructive power, they fell in a single strike. &lt;/center&gt;
&lt;img src=&quot;images/35.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Deis:- &quot;And consider yourself lucky. Next time you try something there will be no mercy, idiots. Now get out of my sight!&quot;
Garland:- &quot;Gh... that power...&quot;
Gaist:- &quot;Cough... damn it...&quot; -The Guardians could only observe from their place on the ground, incapable of fully recovering after such potent attack. 
Deis:- &quot;This is disastrous... poor little one...&quot;

&lt;center&gt;The sorceress picked up the baby dragon lying down next to the corpse of his mother and left toward the residence of the Dragon Clan. The Guardians, completely defeated, were taken back to Urkan Tapa. 

[[The enemy]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Termination&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="22" name="The enemy" tags="" position="232,700" size="100,100">&lt;center&gt;Deis moved hurriedly toward Dragnier to inform them about her meeting with the Guardians. 
The two strongest warriors of the clan joined the meeting: Iskios and Kyrios. &lt;/center&gt;
&lt;img src=&quot;images/36.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Dragon God:- &quot;Welcome to our home, Deis. It&#39;s been too long&quot;
Dies:- &quot;Oh, so you bone-head still remember me. After that trick you pulled out without warning me about anything, I figured you&#39;d long since forgotten me&quot;
Dragon God:- &quot;Actually I tried to reach you... but you are always sleeping!&quot;
Deis:- &quot;Are you blaming me? Worse, calling me LAZY!? That&#39;s some nerve to say that to me, you stupid geezer!&quot;
Dragon God:- &quot;As a matter of fact, yes I AM! A lot happens in the world but you can&#39;t think about that or anything else but sleeping or getting drunk! You expect the world to stop and wait for you to get bothered into helping! And who are you calling old!? You&#39;re much more older than I am!&quot;
Deis:- &quot;You dare to say that, how could you-!? You IDIOT!!&quot;
Sophia:- &quot;P-please, don&#39;t argue... right now, we don&#39;t need this...&quot; 
Deis:- &quot;The whelp here is right.&quot; -Deis took a few breaths to calm herself down. - &quot;But we are not done yet, geezer&quot;
Dragon God:- &quot;The Maiden is right, this is not the moment...&quot;
Jono:- &quot;So Great Sorceress, could you stop our enemies?&quot;
Deis:- &quot;Hmph, what do you think? They are no threat to me at all. And now, I confirmed the identity of the one behind this...&quot;
Dragon God:- &quot;Mh? So it is as I fear, Deis? This is the work of...?&quot;
Deis:- &quot;Yes. At first I was confused over this, but seeing these &#39;Guardians&#39; all my doubts vanished... this is the power of the Goddess&quot;
Iskios:- &quot;Myria!? That&#39;s impossible. Wasn&#39;t she eliminated over 1000 years ago?&quot;
Deis:- &quot;Oof, so it&#39;s been a thousand years already!? Well, yes she was... I was present at the time, but she somehow came back... although, something&#39;s not right... I feel there&#39;s something different...&quot;
Jono:- &quot;But there&#39;s nothing to be worried about, now that we have the Great Deis on our side&quot;
Kyrios:- &quot;Yes, but have you thought what&#39;d happen if she disappears?&quot;
Deis:- &quot;Hey hey, that&#39;s a cute thought little one, but you really think those useless buffoons can lay a finger on me?&quot;
Kyrios:- &quot;No doubt in my mind they can&#39;t... but what about the Goddess? Am I right?&quot;
Deis:- &quot;...&quot; -Deis spoke no word, the sudden darkening of her expression was a good enough answer.
Iskios:- &quot;In that case, we must fight back&quot;
Dragon God:- &quot;No, we must refrain from that Iskios. Unfortunately, we&#39;d be doomed if Myria decides to show herself. Right now we are on this alone and lack the support needed to defeat her. These are not the times when she was reviled almost universally across the world as the goddess of destruction, this is very much a different era. And besides, history has taught us the world runs a greater risk if we recklessly unleash our full power. As has happened many times over the course of our existence...&quot;
Deis:- &quot;Her plan is probably to force your kin to come out to the light and fight her back, so she&#39;d be able to exterminate your entire clan forever. In that case, there&#39;s only one course of action you must take: you must plan out an escape and wait&quot;
Iskios:- &quot;Wait!? Wait for what!? What is this nonsense!?&quot;
Sophia:- &quot;The legends are clear about this: we must wait for the arrival of the one member of our clan with the strength to gather up friends and confront the Goddess&quot;
Iskios:- &quot;That&#39;s completely ridiculous!!&quot; -He said with clear indignation over this proposition.
Dragon God:- &quot;It is unfortunate, but our options are very limited. We can only escape her grasp or fight back, risking not only the safety of the world and its inhabitants but that of our own people as well...&quot;
Deis:- &quot;You make preparations to move away. I&#39;ll try to stop this senseless war by myself. I&#39;ll do as much as possible to prevent your people from having to fight this enemy&quot;
Dragon God:- &quot;I am grateful for having you on our side, Deis&quot;
Deis:- &quot;I know, big doofus. I&#39;m not that forgetful&quot;

&lt;center&gt;Once the meeting was over, Iskios rushed toward the room where his son was resting. Sophia followed closely behind him...&lt;/center&gt;
&lt;img src=&quot;images/37.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Sophia:- &quot;How&#39;s Teepo doing?&quot;
Iskios:- &quot;He will live. He is not that weak&quot;
Sophia:- &quot;Iskios, I&#39;m really sorry. What happened to his mother is...&quot;
Iskios:- &quot;... She tried to protect Teepo instead of fighting back. I&#39;m sure of that. With her strength she could have annihilated those creatures in an instant...&quot; -Iskios&#39; calm facade soon cracked away, his voice started to reveal the anger inside him. - &quot;This peaceful attitude you all wish to take up over the fear of our own strength will lead the entire clan into ruin. I hope you&#39;re aware of that&quot;
Sophia:- &quot;Deis will help us avoid just that...&quot;
Iskios:- &quot;I&#39;m grateful to Deis for having saved my son&#39;s life, but her assistance is exposing us as coward weaklings. Understand that I&#39;m not going to stand idle, hidden underground like this, nor I&#39;m going to be defeated by nobody. I care little what you and the others plan to do, both me and Teepo will survive this, no matter what. We owe this world nothing to throw away our lives in this manner&quot; -Walking past Sophia with a face that expressed all the hatred burning within him, he left the room.
Sophia:- &quot;Iskios...&quot;

&lt;center&gt;The tense climate left the Dragon Maiden speechless. She sensed something terrible in Iskios&#39; way of acting. Meanwhile, those in the town of God were also in the middle of debating the future of this war. 

[[Seal]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Tribute&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="23" name="Seal" tags="" position="345,700" size="100,100">&lt;center&gt;In Urkan&#39;s infirmary, Garland and Gaist are resting while Eliza treated their wounds using &lt;strong&gt;Vigor&lt;/strong&gt;. 
Soon enough they are joined by Sudama, Amelia and Amitai. &lt;/center&gt;
&lt;img src=&quot;images/38.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Garland:- &quot;Thanks for treating our wounds, Eliza&quot;
Eliza:- &quot;Don&#39;t say it, although I&#39;m very surprised to know someone has the strength to injure you this much, given those bodies of your...&quot;
Gaist:- &quot;That damned witch... she&#39;s way too much powerful for us, I don&#39;t think we&#39;d have a chance to bring her down even if we all four of us fight her&quot;
Sudama:- &quot;This is an unexpected obstacle standing in our way...&quot;
Amitai:- &quot;Deis is well known across the lands as the most powerful spellcaster of all time. But she&#39;s so reclusive most people think of her as only a distant legend. I&#39;m quite perplexed to see her side to our enemies...&quot;
Amelia:- &quot;You don&#39;t necesarily need to defeat her, only seal her powers up&quot;
Amitai:- &quot;Is that even possible? Does such a powerful spell actually exist?&quot;
Amelia:- &quot;My magic can manage that. But in exchange I&#39;ll need the life force of one of your warriors&quot;
Sudama:- &quot;What!?&quot;
Amelia:- &quot;The seal must be tied to another living being&#39;s life force, in a way similar to a lock. As long as the anchor remains alive, the seal will be unbreakable. Only the death of said anchor would release her back&quot; -The young Algani explained to the others with a soothing voice.
Gaist:- &quot;I see, then I&#39;ll be the one to do this&quot;
Garland:- &quot;Gaist, are you sure of this?&quot;
Gaist:- &quot;More than ever, I&#39;m willing to give everything to achieve victory. After that witch disrespected our God, my resolve became even stronger&quot;
Sudama:- &quot;This could work. Gaist will not pass away from age or disease thanks to the strength of God dwelling in his body&quot;
Amelia:- &quot;In order to activate this seal Guardian Gaist&#39;s magical strength will not suffice, to make this spell effective Guardian Garland will be needed to complement his own magical strength to the spell, due to their shared nature. Once the two of you start this process, Guardian Gaist can&#39;t lose focus until the spell is completed&quot;
Amitai:- &quot;I&#39;ll lend my strength to you as well, I have the skill to increase your magical abilities&quot;
Sudama:- &quot;It is settled, then. We&#39;ll wait and see what will be the witch&#39;s next move while you restore yourselves. Otherwise, we&#39;ll continue our sacred mission but now we&#39;ll be prepared for when she decides to show up&quot;

&lt;center&gt;[[Trap]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Ogre&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="24" name="Trap" tags="" position="346,809" size="100,100">&lt;center&gt;Three days after her meeting with the Guardians, Deis decided to travel with Higemaru into Urkan Tapa, seeking to put an end to this war before its too late. 
Arriving at the entrance to the small town, she was greeted only by Ganer accompanied with Amitai and two guards.&lt;/center&gt;
&lt;img src=&quot;images/39.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Ganer:- &quot;Welcome to Urkan Tapa, sorceress. I am Father Ganer, it&#39;s a pleasure to meet a person of your reputation, even though circumstances aren&#39;t as idillic as I&#39;d have hoped&quot;
Deis:- &quot;Yeah yeah, stop the pleasantries, priest. This stupid war you decided to set off must end, right now&quot; -Deis stood there in front of everyone, arms crossed, speaking with an authoritative tone.
Ganer:- &quot;You&#39;ll have to forgive me, but what you are asking is impossible. We were awaiting your visit before our sacred mission could continue, and that&#39;s the only reason these latest days we heed your warning and stopped our attacks. But I&#39;d wish for you to hear our motives for doing what we did as well, sorceress&quot;
Deis:- &quot;Your motives or reasoning is completely meaningless, you&#39;re just plain and simple, being manipulated and lied&quot;
Amitai:- &quot;Legendary Sorceress, allow me to introduce myself. I am Amitai, a sorcerer just like yourself...&quot;
Deis:- &quot;(Sure. I hardly believe you can measure up to my pinky finger, little boy)&quot;
Amitai: &quot;... admire you my entire life. I&#39;ve come to this place together with the princess of Wyndia because I really believe the people of Urkan had been the victims in this situation. Please, allow me to show you to Angel Tower. I&#39;m sure all your doubts will clear away there&quot;
Higemaru:- &quot;Heh, you lot are really insulting us now. That is evidently a trap&quot;
Deis:- &quot;... Hm, ok. Lead the way&quot;
Higemaru:- &quot;W-w-w-w-what!? You can&#39;t be serious!?&quot;
Amitai:- &quot;I&#39;m very grateful for your understanding&quot;

&lt;center&gt;The sorcerer led both visitors to Angel Tower, the most sacred place for the people of Urkan.
Once they arrived to the mythical site, they were directed to a staircase leading underground, into an unknown area.&lt;/center&gt;
&lt;img src=&quot;images/40.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Higemaru:- &quot;Now that&#39;s not only insulting, it&#39;s embarassingly idiotic. This is a trap, clear as daylight&quot;
Deis:- &quot;Not that I ever believed any of those nice words you spoke earlier, little magician. But he&#39;s right&quot;
Amitai:- &quot;But Great Sorceress, a caster of your caliber with untold years of wisdom and power, surely has no reason to fear. If this is indeed a trap as you presume, we&#39;ll be as good as dead when faced with your wrath&quot; -Amitai eloquently explained, observing the reaction in Deis&#39; face.
Deis:- &quot;... he&#39;s got a good point&quot;
Higemaru:- &quot;Are you seriously thinking on going along their stupid games!?&quot;
Deis:- &quot;Sure. If those Guardians are the best they have to offer, I may as well humor their stupidity. Besides, the Dragons are no longer in danger&quot;
Higemaru:- &quot;... sigh. Alright then, I&#39;ll wait for you here. I don&#39;t trust this guy at all&quot;

&lt;center&gt;Deis turns around and starts walking down the stairs, disappearing in the darkness below.&lt;/center&gt;

Amitai:- &quot;She&#39;s really confident in herself&quot;
Higemaru:- &quot;Why should she not be? You lot are just trash, ephemeral bubbles next to her powers. She wouldn&#39;t even register your feeble attempts at magic&quot;
Amitai:- &quot;Regardless, you were completely right. We need to get her out of our way&quot;
Higemaru:- &quot;Heh, predictable. You all aren&#39;t very smart, and you are about to find out. But that aside, don&#39;t think I&#39;ll just stand by the side. I&#39;m not about to let that arrogant insolence of yours go unpunished&quot; -The blue flames surrounding the Guardian flared up intensely in response to his fury.
Amitai:- &quot;I was prepared for a fight&quot;

&lt;center&gt;[[Amitai vs Higemaru]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Angry&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="25" name="Amitai vs Higemaru" tags="" position="234,812" size="100,100">&lt;img src=&quot;images/VS01.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Amitai:- &quot;(He&#39;s one of Deis&#39; Guardians... so this is not going to be an easy battle. If things go for too long I will likely be defeated... and I&#39;ve already drained most of my energy using &lt;strong&gt;Enlighten&lt;/strong&gt; to increase the magical power of Gaist and Garland... so, I have to-)&quot;
Higemaru:- &quot;Heh, what&#39;s the matter Mr. Magician? Where&#39;s all that bark from before? You&#39;re overthinking this way too much! &lt;strong&gt;Lighting!&lt;/strong&gt;&quot;
&lt;img src=&quot;images/41.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Amitai:- &quot;Agh... just as I expected, the potency of his magical skills is enviable... it took him a single spell to bring me down like this...&quot;
Higemaru:- &quot;Overthinking this much... I figured you&#39;d be expecting this outcome? You lot have no chance against us. You may as well give up now, perhaps I can ignore all your may transgressions and insults and spare your life&quot;
&lt;img src=&quot;images/41-2.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Amitai:- &quot;That&#39;s overly generous coming from you, but I&#39;ll pass... besides, you don&#39;t really get it. They trusted me to distract you and so you can&#39;t interfere with the process to seal Deis&quot;
Higemaru:- &quot;Seal Deis? Pfft, that&#39;s something none of you have the ability to conjure, let alone cast!&quot;
Amitai:- &quot;You&#39;ll see about that... the Guardians gained a secret skill, one that&#39;ll bind the seal to one of their souls. Such a seal will be so powerful not even Deis herself will be able to break free&quot;
Higemaru:- &quot;Nonsense! There&#39;s nothing you or your friends back there can do to Deis that she can&#39;t do back to you a thousandfolds! (Although if the enemy is indeed the one we suspect... what this idiot is saying may... not be entirely false). Anyway, I shall take her side in this regardless, so  get off my sight already!&quot; -Higemaru turns around, showing clearly his concern for Deis.
Amitai:- &quot;Turning your back to the enemy... this battle is not over yet! &lt;strong&gt;Barrier!!&lt;/strong&gt;&quot;
Higemaru:- &quot;What!?&quot;
&lt;img src=&quot;images/42.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Amitai:- &quot;This skill enhances my magical defense, it shall be enough to withstand your attacks&quot;
Higemaru:- &quot;Ggh... you little piece of- you&#39;re so confident in your little tricks. Let&#39;s test whether those big words have any weight behind them. &lt;strong&gt;Lighting!!&lt;/strong&gt;&quot;
&lt;img src=&quot;images/43.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Higemaru:- &quot;Can&#39;t be!?&quot;
Amitai:- &quot;Now it&#39;s my turn to show you why I&#39;m recognized as the best magician in the world. Witness the legacy of my ancestors! &lt;strong&gt;Mind Sword!!&lt;/strong&gt;&quot;
&lt;img src=&quot;images/44.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Higemaru:- &quot;G-guh... what&#39;s this... this magical power... is incredible...&quot;
Amitai:- &quot;That sword sharply focus the entirety of my magical and mental power. Not even a being of your level can resist it!&quot;
Higemaru:- &quot;... You mortals, you can&#39;t even fanthom the consecuences you&#39;re about to bring... what you&#39;re doing... you&#39;re so mistaken, so clueless... aaah! Forgive me, Miss Deis!&quot;

&lt;center&gt;The magical strength giving shape to the Guardian started to vanish into nothing as the Mind Sword made contact with its being, and Higemaru&#39;s entire self soon enough dispersed into the winds. &lt;/center&gt;

Amitai:- &quot;Ah... ah... what... there&#39;s a strange feeling... it feels as if that Guardian&#39;s essence is flowing inside of me... could it be... could his magic  mixed up with mine when the Mind Sword made contact?... Whatever happened, that was too close... for comfort...&quot; -losing his remaining strength, the sorcerer let his body fall down into the ground. - &quot;It&#39;s your turn now, warriors from Urkan&quot;

&lt;center&gt;As these events unfolded above ground, Deis continued descending the long staircase. She felt all that transpired at the entrance behind her, but feeling no sadness, she never turned around and simply continued her path further into the deep darkness ahead of her. Soon she reached the entrance to the underground chamber at the end of the descent, and was faced by the Guardians Gaist and Garland, ready to fight her. 

[[Garland and Gaist vs Deis]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Fight1&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="26" name="Garland and Gaist vs Deis" tags="" position="124,813" size="100,100">&lt;img src=&quot;images/VS02.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;img src=&quot;images/45.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Deis:- &quot;Ah... you&#39;re really stupid, you know? You didn&#39;t understood anything the first time?&quot;
Garland:- &quot;Deis, there&#39;s no need to argue semantics. We were given a sacred mission to achieve and it was necessary to remove you from our path to fulfill it. It&#39;s as simple as that&quot;
Deis:- &quot;Oh, is that so? So what are you gonna do? To me? Give me one reason to not fry your sorry asses right here, right now&quot;
Gaist:- &quot;This time it&#39;s not going to happen, witch. We were given a power to defeat you!&quot;
&lt;img src=&quot;images/46.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Deis:- &quot;What the hell...? What the fuckin&#39; hell is this shit!?&quot;
Gaist:- &quot;A seal. A special seal, created for the sole purpose of defeating you&quot;
Garland:- &quot;We gathered the entirety of the magical power flowing in our bodies to achieve this. We are staking everything in this one spell, so we&#39;ll surely die if it doesn&#39;t succeed&quot;
Deis:- &quot;(This is just as I suspected... this power I sense in these two is unmistakenly that of the goddess... I can&#39;t let this to continue, I have to put a stop to these idiots. Right now). Alright, let&#39;s try this one for size, you insolent fools!&quot; -Deis gathered her entire being in the tip of her staff, the Snake&#39;s Eye, and determined shoot forward against her attackers.
&lt;img src=&quot;images/47.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Deis:- &quot;Impossible! How can this be!? That attack should&#39;ve been enough to kill you both...&quot;
Garland:- &quot;Agh... all thanks to that seal, Deis...&quot;
Gaist:- &quot;All your power is being nullified. You will be slowly losing all your strength. And for as long as I draw breath, you will never escape. For centuries, milennias... you&#39;ll not be able to interfere again&quot;
Deis:- &quot;... This... can&#39;t be...&quot;
&lt;img src=&quot;images/48.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Gaist:- &quot;Mh!? Her appearance changed, this is working!&quot;
Garland:- &quot;Ugh... even this weak, her attack was strong enough I barely resisted it... I can&#39;t raise my defense a second time...&quot;
Gaist:- &quot;Just a bit more... hang in there, Garland!&quot;
Deis:- &quot;Ah... no... you stupid bufoons... you&#39;re only t... tools... being used... open those damn eyes... before it&#39;s too late...&quot; -Deis body started to feel heavier and her mind started to fade away. But with one last bit of strength, she raised up and stared right back at the two guardians. - &quot;Heed my warning, you idiots... you are going to regret... your actions... if you-re-no...&quot; -Finally losing her remaining strength, Deis fell down into an eternal slumber.
&lt;img src=&quot;images/49.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Garland:- &quot;...&quot;
Gaist:- &quot;Finally... that witch has been sealed off...&quot; -Gaist let himself plummet right next to his partner.
Garland:- &quot;How are you doing?&quot;
Gaist:- &quot;Almost... drained... this has consumed my entire strength... but... it was worth it. We have to worry for interferences like this no more&quot; -Gaist said so as he raised his fist.
Garland:- &quot;Heh... I&#39;d love a freakin&#39; drink right now&quot; -Garland meets his friend&#39;s fist with his own.
Gaist:- &quot;Ha... that&#39;s not a bad idea...&quot;
Amitai:- &quot;Great job, warriors. I knew you&#39;ll suceed in this&quot;
Gaist:- &quot;Yeah, but right now our biggest problem is... getting our bodies to react...&quot;
Amitai:- &quot;Need me to get you back?&quot;
Garland:- &quot;Well, if you can carry roughly 400kg... then sure...&quot;
Amitai:- &quot;He, don&#39;t worry. Luckily I&#39;ve got enough energy for a quick Shift spell...&quot;

&lt;center&gt;Amitai raises both his arms and teleports himself and the two Guardians back to Urkan Tapa.

[[Barrier]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Fight2&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="27" name="Barrier" tags="" position="14,813" size="100,100">&lt;center&gt;News about the fall of Deis quickly reached Dragnier. 
Three travelers leaving Mt. Zublo westward went to the settlement to report what happened to the sorceress.&lt;/center&gt;
&lt;img src=&quot;images/50.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Dragon God:- &quot;So Deis has fallen, she couldn&#39;t stop them...&quot;
Rufus:- &quot;I&#39;m afraid so, Dragon God&quot;
Iskios:- &quot;And how do you know this?&quot;
Arby:- &quot;When she left to Urkan Tapa, she made a quick stop at our cave within Mt. Zublo. She told us that if something was to happen to her, a great barrier would materialize in that place. She also instructed us to come her to Dragnier immediately if this happened and inform you of everything&quot;
Rufus:- &quot;That barrier is strong enough nothing the enemy throws at it will shatter it. It will buy your group time to escape&quot;
Iskios:- &quot;Again with that joke! Escape!? This is absurd, we could put an end to these bastards with one swift strike and instead we are scurrying away like rats on a sinking boat!&quot;
Sophia:- &quot;Iskios, this is not about that. This is confirmation of what Deis told us, our real enemy standing behind them is Myria. Fighting another war against her would only result in the complete annihilation of our clan and even the world... as it almost happened before&quot;
Iskios:- &quot;So what are we supposed to do then? Just wait until she gets bored of killing us!? Perhaps she&#39;ll just forget we exist right? -A mocking smile was drawn in his face as Iskios ranted about their situation, while his stiff brow and fiery red eyes didn&#39;t try to hide away his frustration and rage.
Jono:- &quot;Legends say that a warrior will rise from among us to carry on this struggle alongside his allies... against the recurring evil that sometimes appears as a mortal, sometimes as a devil- the evil that is named Myria...&quot;
Dragon God:- &quot;As it is written, it shall be. Right now, our priority is to gather the surviving dragons as fast as possible&quot;
Rufus:- &quot;We&#39;ll go now. We must watch over the barrier&quot;
Sophia:- &quot;But...&quot;
Arby:- &quot;We are ready for what may happen to us, Maiden. It is also our destiny to bear&quot;
Gisshan:- &quot;Don&#39;t worry, I&#39;ll do my best to make sure nothing happens to them&quot; -Intercepted the mysterious human with them, who until then spoke no words.
Iskios:- &quot;And this strange individual coming along with you... who is he?&quot;
Gisshan:- &quot;Oh, allow me to present myself: I am Gisshan. I was saved by Rufus and Arby a long time ago, and since that moment I swore to dedicate my life to help them in anything I can. I owe everything to them and your kin, so I&#39;ll not allow any god to hurt you&quot; -He explained, finishing his speech with a reverence to the group.
Sophia:- &quot;We are grateful for you assistance in these troubled times, Mr. Gisshan. But we wish no one to get hurt, we only require time to leave this place&quot;

&lt;center&gt;The meeting reached its end. Rufus, Arby and Gisshan went back to Mt. Zublo while Iskios went upstairs to the surface, his face still clearly displaying his discontent with the events unfolding. Kyrios proceeded into a small room, followed by Sophia. &lt;/center&gt;
&lt;img src=&quot;images/51.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Sophia:- &quot;Kirin! You&#39;re back&quot; Sophia rushed to hug her old friend Kirin, who has just returned after various years living in Crescent Island.
Kirin:- &quot;Miss Sophia, I&#39;m also glad to see you again. Even if the circunstances are far from the best&quot;
Sophia:- &quot;So, you&#39;ve heard...&quot;
Kirin:- &quot;Yes, Kyrios told me everything. I&#39;m at your service for anything you may need, as always&quot;
Kyrios:- &quot;Thanks, any help we can get will be of great use to us&quot;
Sophia:- &quot;Kyrios, you... what is troubling your mind?&quot;
Kyrios:- &quot;If they somehow break through Deis&#39; barrier, the last defense keeping them from this place... I&#39;ll have no other choice. I&#39;ll fight them&quot;
Sophia:- &quot;You can&#39;t do that! We must escape together, I don&#39;t want anyone else to get hurt!&quot; -Tears flowing down her cheeks, Sophia left her head rest on Kyrios&#39; back.
Kyrios:- &quot;The enemy can locate us easily, even if we go out to the surface we&#39;ll accomplish nothing. We will be hunted down effortlessly. Sophia, we need to consider alternatives. Even if this means giving up my life, let my actions serve to prevent the end of everyone else&quot;
Sophia:- &quot;Kyrios...&quot;

&lt;center&gt;The Dragons were on the verge of a critical moment in which even the smallest error could spell the end of their lineage forever.

[[Mt. Zublo]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Tribute&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="28" name="Mt. Zublo" tags="" position="15,925" size="100,100">&lt;center&gt;Meanwhile in Urkan, Gaw was looking desperately for his brother. He left the infirmary on his own, standing up with great effort to realize his work as a blacksmith.
Weakened and depressed, losing his leg was a hit too strong for him.&lt;/center&gt;
&lt;img src=&quot;images/52.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Gaw:- &quot;Halberd, you should be resting&quot;
Halberd:- &quot;No, I need to work. It&#39;s the only way I can bear this pain&quot;
Gaw:- &quot;Brother...&quot;
Halberd:- &quot;Stop worrying about me, Gaw. I was once a warrior as well, I need no pity from you or anyone. Right now, my duty is to forge the weapons you all need to defend Urkan. Those low-quality weapons that greedy merchant gave us are pathetic. Your duty is to fight wielding that axe I made specially for your newfound strength&quot;
Gaw:- &quot;You even gave it your name, huh&quot;
Halberd:- &quot;This way, I feel I&#39;m also present in the battlefield. Right by your side&quot;
Gatz:- &quot;Ehm... sorry to interrupt this moment, guys. But we have an emergency Gaw...&quot;
Gaw:- &quot;What&#39;s the matter?&quot;
Gatz:- &quot;Garland and Gaist are still recovering from their fight against Deis and it appears the witch still managed a failsafe measure against us. A barrier has been raised and now blocks our way...&quot;
Gaw:- &quot;A barrier!?&quot;
Gatz:- &quot;Yes, it stands in Mt. Zublo and prevents us from reaching the other side where the remaining Demons are found&quot;
Gaw:- &quot;Then we must shatter it&quot;
Gatz:- &quot;Obviously. We are already prepared for that. Shina, Ernest and Amitai will join us&quot;

&lt;center&gt;The party left and soon enough entered the volcan, reaching the barrier blocking the path in no time. Their enemies awaited them at the other side.&lt;/center&gt;
&lt;img src=&quot;images/53.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Gatz:- &quot;Who are you?&quot;
Amitai:- &quot;Is that... Gisshan!?&quot;
Gaw:- &quot;You know him?&quot;
Amitai:- &quot;By reputation. He was a well-respected hypnotist in the world, but vanished suddenly a few years ago and rumors spread that he passed away&quot;
Gisshan:- &quot;Happy to see you know me, sorcerer Amitai. Indeed, a long time ago I got involved with the wrong people at Syn City and I had to ran away. I was pretty much on my death bed when I reached this sanctuary hidden deep within the volcano, and I was saved by the people at my side: members of the Dragon Clan. They were many, living here in peace... but thanks to your indiscriminated slaughter they were forced to flee. Only Rufus and Arby here remain, the ones I swore to protect until the day I die&quot;
Gatz:- &quot;That&#39;s a nice tale, but I&#39;m sure if I inquire around Syn City I&#39;ll get a very different tune about you. You aren&#39;t as nice as you paint yourself to be, am I right?&quot;
Gisshan:- &quot;I have nothing to hide. I made mistakes, but I was saved by those you seek to eliminate. It&#39;s quite clear you are not going to hear reason or stop in your wrongdoings, so this little talk is over. This barrier... You shall not pass!&quot;

&lt;center&gt;[[Gisshan the Hypnotist]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Dangerous&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="29" name="Gisshan the Hypnotist" tags="" position="126,925" size="100,100">&lt;img src=&quot;images/VS03.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;Gatz and Gaw start attacking the barrier, but their attacks had no effect on it. &lt;/center&gt;

Gatz:- &quot;Broken Wings, perhaps some magical attack will make an impact on this thing?&quot;
Shina:- &quot;Don&#39;t think so. This barrier is very powerful, Deis wouldn&#39;t be so careless as to not make it resistant to any kind of attack&quot;
Gisshan:- &quot;Exactly. But let me tell you a little secret: this barrier may be indestructible, but it will not last forever. Deis intended this action explicity as a trick to buy us more time. You wanna know why I&#39;m telling you this?... Because I fully intend on killing you all&quot;
&lt;img src=&quot;images/54.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Gatz:- &quot;W-what is this!?&quot;
Gaw:- &quot;I&#39;m suddenly... feeling very tired...&quot;
Amitai:- &quot;&lt;strong&gt;Sleep!&lt;/strong&gt; He&#39;s trying to put us to sleep so we can&#39;t defend ourselves!&quot;
Shina:- &quot;Worse... he stated clearly his desire to eliminate us, he&#39;s not just letting us sleep peacefully. In such narrow passages it&#39;d be very easy for him to simply push us into the lava...&quot;
Gisshan:- &quot;Right once again, you&#39;re quite the smart one. That&#39;s a good reason to leave no survivors&quot;
Rufus:- &quot;Gisshan! Aren&#39;t you forgetting what we discussed? We wish to neither harm nor kill any of them!&quot; -Rufus quickly pointed out as he grabbed the magician&#39;s arm.
Arby:- &quot;We only need to make time here&quot;
Gisshan:- &quot;I heard, but I have also swore to do everything in my power to avoid your death. If that means I have to stain my hands with the blood of your enemies to avoid them to spill yours, I will do it. My mind is made up, don&#39;t try to stop me&quot;
Rufus:- &quot;Gh...&quot;
Ernest:- &quot;What can we do? We can&#39;t reach our enemies without breaking through this barrier...&quot;
Amitai:- &quot;I figure we might need a mixture of great magical and physical power striking at the exact same time...&quot;
Shina:- &quot;And such strike must be extensive enough for the barrier to lose the flow of magic keeping it active&quot;
Gisshan:- &quot;I&#39;ll not let you think of a way out of this!!&quot;
&lt;img src=&quot;images/55.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Shina:- &quot;Amitai!&quot;
Amitai:- &quot;Ugh, this spell... &lt;strong&gt;Confuse&lt;/strong&gt;...&quot;
Ernest:- &quot;Amitai, get out of there!&quot;

&lt;center&gt;Amitai uses &lt;strong&gt;Shift&lt;/strong&gt; to transport away, but can&#39;t manage to go too far and ends up dangerously close to the lava. Ernest decides to take the frontlines in this battle.&lt;/center&gt;
&lt;img src=&quot;images/56.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Amitai:- &quot;Agh... my spell didn&#39;t worked out completely... I&#39;m still dizzy... and the extreme heat from the lava is seriously affecting me... I may lose consciousness soon...&quot;
Gisshan:- &quot;HAHAHAHA! It&#39;s inevitable now! You all will end up consumed by the lava around us! It&#39;s just a matter of time now&quot;
Ernest:- &quot;Princess, anything in mind?&quot;
Shina:- &quot;...&quot;
Gatz:- &quot;Broken Wings... my body feels heavy... I&#39;m about to fall into deep sleep... we all depend on you now...&quot;
Shina:- &quot;Hmph, it appears that&#39;s been always the case, stone-head. Alright, Amitai how are you doing? I&#39;ll need you to shoot your most powerful spell to the barrier. Think you can manage that?&quot;
Amitai:- &quot;I&#39;ve been in better shape for sure... but I&#39;ll do my best... even as my sight fails me...&quot; -Amitai quickly stood up, shaking and maintaing the poor balance he mustered on top of the rocky cliff. 
Shina:- &quot;Ernest, I need for you to concentrate your entire strength in a vertical slash. On my mark, start running at the Guardians&quot;
Ernest:- &quot;I&#39;ll put all my trust on your strategy, Princess. I&#39;d do it with my eyes closed&quot;
Gisshan:- &quot;I say it before, I&#39;ll not let you get away from this!! &lt;strong&gt;Confuse!&lt;/strong&gt;&quot;
Shina:- &quot;NOW!!&quot;
Amitai:- &quot;My family&#39;s legendary secret technique!&quot;
Ernest:- &quot;The strength of the sword inherited from by master! &lt;strong&gt;Shintetsu no ken!!&lt;/strong&gt;&quot;
Shina:- &quot;&lt;strong&gt;Typhoon!!&lt;/strong&gt;&quot;
&lt;img src=&quot;images/57.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Gatz:- &quot;Wooh! (She just pulled us away from Ernest&#39;s path with &lt;strong&gt;Typhoon&lt;/strong&gt; while simultaneously assisting him into jumping sky high!)&quot;
Gisshan:- &quot;What are those blue flames!? A-are those the same mythical flames created by Higemaru!?&quot;
Amitai:- &quot;(Agh... damn it, can&#39;t aim... my vision is completely lost... one mistake and I could injure the Princess or Ernest...)&quot;
Shina:- &quot;Hang in there, Amitai! &lt;strong&gt;Remedy!&lt;/strong&gt;&quot;
Amitai:- &quot;My vision has been cleared! This is it! &lt;strong&gt;Tenbauko!!&lt;/strong&gt;&quot;
Ernest:- &quot;&lt;strong&gt;Messatsu!!&lt;/strong&gt;&quot;
Gisshan:- &quot;This is impossible!! AAAAHHH!!&quot;
&lt;img src=&quot;images/58.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;At the exact moment the flaming arrow impacted the barrier&#39;s center, Ernest came down with his attack managing a perfect combination. The barrier finally collapses and the subsequent explosion defeats the magician Gisshan. 

[[Destinies]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Fight3&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="30" name="Destinies" tags="" position="237,926" size="100,100">&lt;center&gt;In front of the team only the two dragons remain, the two who have made no move during the entire battle. &lt;/center&gt;

Gatz:- &quot;Thanks Princess. I&#39;m quite impressed&quot;
Shina:- &quot;It seems so, for you to forget to call me &quot;Broken Wings&quot; it must be so&quot;
Ernest:- &quot;Uff... this was hard. Amitai, are you alright?&quot; -Ernest extends his hand to help the sorcerer stand back up.
Amitai:- &quot;Y-yes... I think so... although my whole magical power has been drained after using a technique of that caliber...&quot;
Ernest:- &quot;We must bring you back to Urkan Tapa, then. Guardians, you must continue ahead with your mission&quot;
Gaw:- &quot;That we intend to. Starting with these two here&quot;

&lt;center&gt;Defenseless after the explosion, incapable of standing up, the two dragons observed as Guardian Gaw approached them with his weapon held high above his head, fully intending on becoming their cold-hearted executioner. In the background Gatz and the warriors from Wyndia observed their enemies&#39; resignation to the inevitable.&lt;/center&gt;
&lt;img src=&quot;images/58-2.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Gatz:- &quot;You have nothing to say?&quot;
Rufus:- &quot;... you all are being deceived...&quot;
Arby:- &quot;We were prepared and ready to face our death. We will not fight back, even if our resentment is boundless after the massacre you are carrying out against our clan...&quot;
Gaw:- &quot;Ridiculous... you are the ones who are threatening our world! Don&#39;t just pretend you&#39;re victims of this, free of guilt! You have no one but yourselves to blame!&quot;
Rufus:- &quot;It&#39;s probable that our powers are too big a threat to your god... but if we abstain from fighting against you, is because we desire to protect humanity... because we understand the risks of taking actions...&quot;
Arby:- &quot;You are only puppets, manipulated by an evil being... one that&#39;s taking advantage of your faith so you&#39;ll exterminate the only obstacle she has to reach her goals. I sincerely hope you can see the error in your ways one day, and repent...&quot;
Gatz:- &quot;...&quot;
Rufus:- &quot;It is time, my dear Arby&quot;
Arby:- &quot;I&#39;ll love you forevermore, even after we pass away, Rufus&quot; -The two dragons held hands tighly as Arby let her head rest over her partner&#39;s shoulder. The two close their eyes while retaining an expression of pure peace.
Gaw:- &quot;Gggg... AAAAAH!!&quot;

&lt;center&gt;In one swift stroke of his axe, Gaw beheads Rufus and Arby. He stands there, motionless. Speechless.&lt;/center&gt;

Gatz:- &quot;Gaw...&quot;
Gaw:- &quot;This is all nonsense. Lies, pure lies. They are deceiving us. They only spew lies to save themselves... they are demons. Lies... they have no feelings, only deceit and evil... only lies. They brought this upon themselves, wicked beings. We must move forward, there are many more left&quot; -Guardian Gaw turns around and, keeping his eyesight low and not looking at anyone, exits the volcan.
Gatz:- &quot;... Broken Wings, you go back to Urkan. Inform them the barrier has fallen and we must finish this war as fast as possible&quot;
Shina:- &quot;Understood. Don&#39;t you dare to die now, idiot&quot;

&lt;center&gt;The three Wyndian travelers went back while the Guardians proceeded in different directions. A few hours later, Urkan warriors carried away the headless remains to Angel Tower, leaving the heads behind. Soon enough, inside Mt. Zublo reappeared the one who fell down in the explosion...&lt;/center&gt;
&lt;img src=&quot;images/59.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Gisshan:- &quot;... N-no... where... where am I?... did I... did I fail?... Arby... Rufus... the ones I owe everything... they... the ones sleeping in the tower... I can&#39;t... I must not let everything to end like this... I can hear them... the furious voices of those who departed... they are calling... they call to me... I&#39;ll not let them get me... I will... I will avenge them... hee... hee hee... Rufus... Arby... Rufus... Arby...&quot;

&lt;center&gt;Losing his sanity, the sorcerer took the heads of the two dragons still together and started to wander inside the volcan. With no direction, with no destination, he will continue wandering this hostile place for many years to come...

[[Confusion]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Decision&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="31" name="Confusion" tags="" position="349,924" size="100,100">&lt;center&gt;Once the Wyndian travelers reached Urkan Tapa, they moved the sorcerer Amitai straight to the infirmary to treat him. In there they met with Garland and Gaist, their strength fully restored. &lt;/center&gt;
&lt;img src=&quot;images/60.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Gaist:- &quot;So the &lt;strong&gt;Shintetsu no Ken&lt;/strong&gt; from Master Tenkai, eh?&quot;
Ernest:- &quot;Yes. It was his parting gift. Don&#39;t get jealous of that, none of you were really adept at using a sword&quot;
Gaist:- &quot;Huh, yeah I know...&quot;
Ernest:- &quot;You seem distracted, something wrong?&quot;
Gaist:- &quot;E-eh... no... nothing... just... with everything&#39;s been happening recently...&quot;
Ernest:- &quot;Are you worried that, with all these dragons in the world, she could be in danger?&quot;
Gaist:- &quot;...&quot; -Gaist&#39; face took a reddish tone. It&#39;d appear with a stone-like face that&#39;d be hard, but it happened.
Ernest:- &quot;You&#39;re really an open book, buddy&quot;
Gaist:- &quot;Even though she traveled on her own, I could feel she was far from a weakling. Besides she&#39;s likely in the company of him... Iremia... but even still, these demons are very dangerous!&quot;
Ernest:- &quot;She&#39;s surely fine, you must focus on the mission at hand&quot;
Ganer:- &quot;So the barrier has been shattered&quot;
Shina:- &quot;Yes. There was this hypnotist who complicated matters to us, thought&quot;
Amitai:- &quot;But thanks to the Princess&#39; quick-thinking, we managed to succeed&quot;
Shina:- &quot;That&#39;s not all. If Ernest&#39;s sword was a common weapon, it&#39;d have shattered at the first attack. And the spell you casted, Tenbauko, was the key component to bring the barrier down&quot;
Amitai:- &quot;I must say, I think I&#39;ve also absorbed some of the power of Deis&#39; Guardian, and that was also a vital assistance... the barrier had the same kind of energy he used. But I&#39;m afraid I&#39;ll be unable to cast any of my magical spells for a long time... the aura from someone like the legendary sorceress is not something one can control easily, much less in the unexpected circunstance like having the Guardian&#39;s essence mix up with my magic... so, I feel right now my magic is nullified...&quot;
Garland:- &quot;You have nothing to worry about. We are grateful for all the effort you put into helping our cause, but now it is our turn to act&quot;
Gaist:- &quot;Let&#39;s go, Garland. We can&#39;t let Gatz and Gaw get ahead of us&quot;

&lt;center&gt;The two Guardians lose no more time and went on, taking their separate routes to continue their mission. Gaist traveled straight west, crossing over the bridge joining the Rhapala region with the Wyndian region. In that bridge, he found someone he wasn&#39;t expecting.&lt;/center&gt;
&lt;img src=&quot;images/61.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Gaist:- &quot;A-Alitheia!?&quot;
Alitheia:- &quot;Hello, Urkan warrior&quot;
Gaist:- &quot;Y-you still recognize me in this form?&quot;
Alitheia:- &quot;Yes. Sort of&quot;
Gaist:- &quot;I thought I&#39;d scare you like this...&quot;
Alitheia:- &quot;You are still the same man I met before&quot;
Gaist:- &quot;I&#39;m glad to have found you. I mean, I feared I&#39;d never see you again, although this is not the best moment...&quot;
Alitheia:- &quot;And why you say that?&quot;
Gaist:- &quot;Because I&#39;m on a very important mission. I was worried something could have happened to you&quot;
Alitheia:- &quot;A mission?&quot;
Gaist:- &quot;... I know this may sound bad, but it&#39;s an extermination mission... to save the world from the threat brought by demons&quot;
Alitheia:- &quot;Demons... they are the Dragons, right?&quot;
Gaist:- &quot;Eh... how do you know that?&quot;
Alithelia:- &quot;I&#39;m sorry, but it appears destiny is laughing at us right now...&quot; -Alitheia&#39;s cape comes off and flies away into the seas, revealing what she was hiding beneath it the whole time.
&lt;img src=&quot;images/62.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Gaist:- &quot;... W-what&#39;s this?... those wings... you aren&#39;t...&quot;
Alitheia:- &quot;Indeed I am. I am from the Dragon Clan, Gaist&quot;
Gaist:- &quot;This... this can&#39;t be...&quot;
Alitheia:- &quot;So, aren&#39;t you going to take out your weapon? Aren&#39;t you going to kill me?&quot;
Gaist:- &quot;...&quot;
Alitheia:- &quot;Why are you hesitating? It is your mission to do so, and I&#39;m your enemy. A demon&quot;
Gaist:- &quot;... no... I... I can&#39;t...&quot;  -Gaist could not steer his sight away, confused. He was searching for an answer in his mind, trying to convince himself this was just a nightmare.
Alitheia:- &quot;It is our fate, you know it. Next time we see each other again, one will have to die&quot;
Gaist:- &quot;Ggh...&quot;
Alitheia:- &quot;And when that day arrives you will not hesitate anymore, Gaist&quot;

&lt;center&gt;Alitheia walked away as Gaist remained still, incapable of processing the revelation.
The sad expression from Alitheia filled the Guardian of a deep sense of confusion, and pain. 

[[The End of the Holy War]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Regrets&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="32" name="The End of the Holy War" tags="" position="348,1035" size="100,100">&lt;center&gt;Several days went by since the fall of the barrier. The Guardians traveled all over the world exterminating any dragon standing in their path. The number of casualties ascended to more than 700, with only the largest concentration of members in the last town remaining. These place, they called it Dologany...
The opposition was bleeding. The monsters attempt to escape, or close their eyes as they simply accepted the sacred weapons the Guardians swung down on them. &lt;/center&gt;

Garland:- &quot;This is child&#39;s play&quot; -His chest jutting outwards proudly, Garland walked forward with his spear in hand. - &quot;(Almost over. This one should be the last village of demons. Once this ends, we can receive the honor of seeing God)&quot;

&lt;center&gt;The Holy War was finally about to reach its end. The Dragon clans hiding in the lands of remote areas had been cleansed by the actions of the Guardians. The evil clan who desired to conquer the world has been driven out by the power of the God who observed all movements in advance.
In the center of the village, there was a big, old dragon. He had no presence, having closed his eyes to indulge in deep meditation. Even as Garland approached him, that old dragon didn&#39;t even react. However, the moment he drew his spear and attempted to swing it forward, that dragon opened his mouth.&lt;/center&gt;
&lt;img src=&quot;images/63.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Skandali:- &quot;... Beware, pathetic Guardians...&quot;

&lt;center&gt;It was something impossible. His body couldn&#39;t move, as if it was paralyzed. He is a Guardian, and yet this pressure overwhelmed him.&lt;/center&gt;

Garland:-&quot;What&#39;s this!?&quot; -Sweat born of dread pours from all his body...

&lt;center&gt;At that moment Garland learned of the abysmal power of the Dragons. They weren&#39;t strong enough. That thought rushed to his mind. This dragon alone can crush him effortlessly, and he can eliminate the other Guardians off the earth as well. The dragon slowly opened his eyes, and then spoke.&lt;/center&gt;
&lt;img src=&quot;images/63-2.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Skandali:- &quot;You all have committed no sin. But you all are weak of mind. Your fates will be carved by your own hands. You who entrust everything to God. That person... is truly cunning&quot;

&lt;center&gt;Withstanding the crushing pressure, Garland yelled.&lt;/center&gt;

Garland:- &quot;Your words! I&#39;ll not hear them!!&quot;

&lt;center&gt;Using the power of his whole body he pulled out a deadly attack, and to his surprise, the spear sliced cleanly through the neck of the old dragon. The old monster was killed without any resistance.&lt;/center&gt;
&lt;img src=&quot;images/64.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Garland:- &quot;Why!? Did you do that deliberately? Everyone? Did everyone just choose death willingly...?&quot; -He stood alone in front of the old dragon, and felt doubts about the Holy War. - &quot;Is God not all-knowing? The enemies who allowed themselves to be defeated, were they really demons then...&quot;

&lt;center&gt;Unfortunately, the one who could have answered that question was already lying on the ground. The beheaded head of the last dragon was raised high above, and this day marked the end of the Holy War. 

Right at that moment, Gaist arrived at the center of the town where Garland was standing still, gazing upon the corpse of the dragon.&lt;/center&gt;

Gaist:- &quot;This was the last one... right?&quot;
Garland:- &quot;It appears so...&quot;
Gaist:- &quot;Finally, we can rest...&quot;
Garland:- &quot;Yes... this has been a long war...&quot;
Gaist:- &quot;Do you need a drink?&quot;
Garland:- &quot;No... not now...&quot;
Gaist:- &quot;I agree...&quot;

&lt;center&gt;Without turning back, the two left the now desolate town in abject silence...

[[Escape]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;DontSay&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="33" name="Escape" tags="" position="235,1038" size="100,100">&lt;center&gt;In Dragnier the strongest members of the clan were gathered together with the Dragon God. While the few survivors rested in another room, they discussed the next step to take in this desperate situation.&lt;/center&gt;
&lt;img src=&quot;images/65.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Dragon God:- &quot;The last town, Dologany, has fallen... and the last dragon, Skandali, has passed away. There&#39;s no longer members of our clan to be found on the surface world&quot; -Lamented the Dragon God, who started to truly feel for the first time the real possibility that his clan would cease to exist. 
Sophia:- &quot;Jono, are you alright?&quot;
Jono:- &quot;Yes... that was my father&#39;s wishes. He was very old, and when I told him to come to this place he replied that he had been spending too many years living in this dark place and that if he must die, it would be breathing the clean air of the surface&quot;
Miseo:- &quot;Your father was a wise man and a great friend to me, Jono. But with his final breath, he showed us the path we must follow&quot;
Iskios:- &quot;The path of resignation and death? I&#39;m hearing this right?&quot;
Doxa:- &quot;Watch your mouth, Iskios. It&#39;d be a shame if I&#39;m forced to kill you with my own hands&quot;
Iskios:- &quot;Bah, and you are happy with all this nonsense too, Doxa? Are you content with living forever in darkness, hidden away? Or maybe in a perpetual run, fleeing like scared rats instead of putting up a fight?&quot;
Sophia:- &quot;Iskios, please. You&#39;re underestimated the Goddess. Fighting her is pointless, these Guardians are nothing but bait, a trap she has setup in order to get rid of all of us. For that, we must escape to a place her influence can&#39;t reach, where she could never find us&quot;
Dragon God:- &quot;That&#39;s already been taken care of. But first and foremost, I must request something of you. Something that&#39;s of vital importance to our survival... you must all surrender your essence&quot;
Iskios:- &quot;What!?&quot;
Sophia:- &quot;To deceive the Goddess, we must focus our entire clan&#39;s strength into a single being so we can then nullify his presence with these magical wards I created. This should be enough to prevent anyone from tracking our position&quot;
Kyrios:- &quot;And who will be chosen to contain our essence?&quot;
Dragon God:- &quot;Jono, son of Skandali... you&#39;re the one chosen for this mission&quot;
Jono:- &quot;W-wait, me!?&quot;
Sophia:- &quot;You&#39;re the youngest among our warriors, as well as the previous leader&#39;s descendant. We know this is a huge burden we are entrusting you to bear... but we are confident you will be able to shoulder it and finally, when the time comes, make the correct use of this strength&quot;
Jono:- &quot;A-alright... I accept this duty, with honor. In the name of my father and of our fallen comrades&quot;
Iskios:- &quot;For what&#39;s worth, I don&#39;t like this plan a bit. At all. This is not what I desire for me or my son&quot;
Jono:- &quot;What!? What are you trying to say, Iskios?&quot;
Iskios:- &quot;If they attack me, I&#39;ll fight back. Simple as that. You are weak and pathetic, lacking the strength to protect others so you just left them to die, or are cowards who plan to escape out of an irrational fear of our strength. I&#39;m tired of playing your stupid games, I&#39;m leaving with Teepo. I will not give up anything to anyone, I have no need to&quot;
Alitheia:- &quot;Brother...&quot;
Doxa:- &quot;Go away and do as you please, Iskios. There&#39;s no point in arguing with you anymore. But you will remember this exact moment when the Goddess corners you and murders you alongside your cub. That&#39;s the last you&#39;ll hear from me on this&quot;
Iskios:- &quot;Heh, you know in exchange of my life and my son&#39;s safety, I could hand you all over to them&quot; -Iskios spoke with a threatening and arrogant tone.
Doxa:- &quot;What did you just said!? You damn-&quot;
Miseo:- &quot;Let him go, it&#39;s no use&quot;

&lt;center&gt;Iskios retreats from the chamber, sketching a smile born out of his sense of superiority against his colleagues.&lt;/center&gt;

Doxa:- &quot;That imbecile... I swear if he does something stupid...&quot;
Miseo:- &quot;He&#39;s not going to. We can&#39;t force him to comply to our strategy, but now that he&#39;s leaving for the surface world our time to act has been dramatically shortened, as soon as he brings the Goddess attention to him... I understand the need of focusing our entire presence into one person and temporarily nullify it, but... where are we going next? Any place we can reach walking is going to be inhabited by other people, or the zone could be discovered by anyone sooner or later, revealing our presence to the world and to the Goddess&quot;
Iremia:- &quot;And considering the Wyndians are sided with the Guardians, the entire world will consider us a threat. No one in the world will ever be willing to keep our presence in secret for long, if at all&quot;
Sophia:- &quot;Those are all valid concerns, and that&#39;s why the only place we can flee to is... those lands. The lands no one in the world know exist. The Lost Shore&quot;
Kyrios:- &quot;The lost continent...&quot;
Dragon God:- &quot;It&#39;s just a matter of time until they manage to find this place as well, we will never be allowed to hide for long on this side of the world. I&#39;ve been witness of the time the Goddess split the lands in two halves, many eons ago. The Lost Shore is a desolated place, far away from any known civilization. In that place you could avoid being pursued by any enemy or discovered by any human&quot;
Alitheia:- &quot;But I&#39;ve heard that reaching those lands in any kind of boat is impossible due to the ocean&#39;s turbulence and the long distance&quot;
Miseo:- &quot;Besides, the enemy can certainly detect our presence if we remain outside for enough time. The wards have a limited time before their effectiveness fades away, so taking the sea route is not an advisable option&quot;
Jono:- &quot;There&#39;s a solution for that, as well&quot;
Sophia:- &quot;Long time ago, the inhabitants of this world managed to reach a high level of advanced technology. To facilitate transportation and exchange between cities across distant lands, artifacts were created that allowed instant transportation between points. Nowadays these strange platforms are abandoned and no one on this side of the world knows what they were used for, but they are still here and it&#39;s likely they are still functional&quot;
Dragon God:- &quot;The last will of Deis if she was unable to put a stop to this war was to reveal a route to reach one of this artefacts and how to activate it so it can bring us to the lost continent. This machine can be found in Steel Beach&quot;
Doxa:- &quot;That&#39;s dangerously close to Urkan Tapa. If the wards don&#39;t hold up as long as we believe we would be putting ourselves in risk and to the Goddess&#39; mercy&quot;
Kyrios:- &quot;And for that reason I don&#39;t plan on running away. Even though I don&#39;t fully agree with Iskios&#39; sentiments, I will not hide&quot;
Jono:- &quot;But that&#39;s very dangerous! Even if you can defeat them, the Goddess will never allow you to survive...&quot;
Kyrios:- &quot;As Miseo said, we will follow the path laid out by Skandali&quot;
Jono:- &quot;What do you mean?&quot;
Kyrios:- &quot;I feel it is my fate to face them. That our future depends on that. The whole clan&#39;s future. You must escape and leave for the Lost Shore while I face them, even if I have to do it alone&quot;
Alitheia:- &quot;I wish to fight as well, so let me go first&quot;
Iremia:- &quot;Are you willingly making yourself a bait?&quot;
Alitheia:- &quot;They believe their war is now over because our presence can no longer be felt in the world. I have personal bussiness to clear up with one of those Guardians, that shall be enough to alert them. Kirin, there&#39;s a favor I need to ask of you&quot;
Kirin:- &quot;Anything you need, miss Alitheia&quot;
Doxa:- &quot;I understand what you&#39;re saying. I&#39;ll follow your lead, Kyrios. I&#39;ll make my mission to take care of one of them&quot;
Miseo:- &quot;I have no doubt in my mind that the path shown to us by Skandali, Rufus and Arby is the right one to take. They shall then see what we are made of&quot;
Kirin:- &quot;You are also leaving for the battlefield, Iremia?&quot;
Irema:- &quot;Heh, sure&quot;
Kirin:- &quot;What are your intentions?&quot;
Iremia:- &quot;I got what I wanted from Crescent Island and I intend on using it against any rival standing in my way. I didn&#39;t go through all that in life just to so easily renounce to it and hide&quot;
Kirin:- &quot;...&quot;
Dragon God:- &quot;If you are determined, we can&#39;t stop you... the destiny of the entire world now lies in your hands&quot;
Kyrios:- &quot;Follow me, let&#39;s discuss the finer points of this strategy. The rest go with Sophia and prepare everything to escape as soon as Alitheia makes her move&quot;
Sophia:- &quot;Are you sure of this?&quot;
Kyrios:- &quot;I&#39;ve never been so sure of something before. You know better than anyone, I never do something unless I&#39;m convinced fully it is the right thing to do&quot;
Sophia:- &quot;True&quot; -She said as a tear escaped her eye and slid across her face. Even though she knew the answer in her heart, she could not accept it. She didn&#39;t want to let him go. 
Kyrios:- &quot;Farewell, my fair Maiden. When this is all over, we&#39;ll meet again. It&#39;s a promise&quot;
Sophia:- &quot;There&#39;s nothing I wish more, Kyrios...&quot;

&lt;center&gt;The five dragons were ready to stage their final battl against the Goddess&#39; Guardians.

[[Ceremony]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Tribute&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="34" name="Ceremony" tags="" position="124,1036" size="100,100">&lt;center&gt;A few days went by since the Guardian Angels finished with the lives of all the demons. 
There was a climate of celebration all over Urkan Tapa as everyone gloated over the end of the Holy War that was forced upon them. 
The engraving of the stone tablets in honor of Urkan&#39;s heroes the Guardians took place immediately.&lt;/center&gt;
&lt;img src=&quot;images/66.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Sudama:- &quot;After a long ardous time, after many tireless battles and after walking all over the world, we can finally call the end of this Holy War. In honor of our valiant warriors, our Guardians Angels, we have immortalized their names together with their heroic actions, engraving the amount of evil demons they each were able to erradicate off the face of this peaceful world. Here, in this sacred place where those foul demonic souls will forever be sealed, so this tragedy will never repeat again. In the name of our God, we and the entire population of Urkan Tapa, are inmensely grateful&quot;
Ganer:- &quot;Guardian Garr: 299. Guardian Gaist: 234. Guardian Gatz: 201. Guardian Gaw: 198&quot;
Eliza:- &quot;That&#39;s over 900 demons... incredible.&quot;
Garland:- &quot;...&quot;
Eliza:- &quot;Are you alright? I see you&#39;re lost in thoughts...&quot;
Garland:- &quot;Yes... I&#39;m sorry. It was a long and exhausting war... I&#39;m just tired&quot;
Eliza:- &quot;But you&#39;re free now. We can go back to our normal lives&quot; -She said as she grabbed the Guardian&#39;s arm, her eyes locked straight into his.
Garland:- &quot;... that I wish for...&quot;

Ernest:- Gaist, you&#39;re looking a bit down. Something&#39;s wrong?&quot;
Gaist:- &quot;You can see it? Indeed, I am... can I tell you a secret?&quot;
Ernest:- &quot;You know you can trust me with anything, always&quot;
Gaist:- &quot;I met Alitheia a few days ago...&quot;
Ernest:- &quot;Really? That&#39;s amaz-&quot;
Gaist:- &quot;She was a demon...&quot; -He cut his friend&#39;s response, with a grave and deep tone.
Ernest:- &quot;Wh...!?&quot; -The knight took a few steps back as he tried to process what he has just heard. A chilling shock and a strong sense of sadness invaded Ernest&#39;s body instantly. - &quot;I... I&#39;m sorry... did you have to...&quot;
Gaist:- &quot;I couldn&#39;t. I let her leave&quot;
Ernest:- &quot;So that means... another Guardian eventually killed her&quot;
Gaist:- &quot;Most likely... since there are no presences left in the world...&quot;
Ernest:- &quot;And are you fine with that?&quot;
Gaist:- &quot;Of course. She was a demon... I was deceived by her looks, from the very beginning...&quot;
Ernest:- I&#39;m sorry I have to say this, but the heart can never be deceived like that, Gaist&quot;
Gaist:- &quot;...&quot;

Halbred:- &quot;I&#39;m proud of you, brother. You managed to beat the demons&quot;
Gaw:- &quot;It was all thanks to your weapon. My skills couldn&#39;t get any more better&quot;
Halberd:- &quot;Aaah... finally, I can rest. I think it&#39;s high time for me to retire...&quot;
Gaw:- &quot;You should teach others, pass down your work skills to a new generation. I mean, if you weren&#39;t my brother I&#39;d be easily thinking you descend from Iron Ogres&quot;
Halberd:- &quot;Heh, ironic you now look closer to one actually&quot; -He commented among laughter, finally drawing a smile after a long time.
Gaw:- &quot;Fortunately this whole nightmare is over...&quot;
Halberd:- &quot;Ever since you went to Mt. Zublo you haven&#39;t came back home, not even to rest. You can relax now, right?&quot;
Gaw:- &quot;Yes, I just didn&#39;t noticed now that you bring it up. That place...&quot;

Shina:- &quot;Quite the achivement to see you survive a war, stone head&quot;
Gatz:- &quot;So, surprised? There was no chance we&#39;d lose, just look at these solid muscles&quot; -He stretched and proudly showed his muscular arms.
Shina:- &quot;Don&#39;t get too cocky&quot;
Gatz:- &quot;Ha, anyway I&#39;m saying this because we had you all on our side. It was thanks to your assistance we were able to overcome that hypnotist and even the witch Deis&quot;
Shina:- &quot;Yeah... now you bring that up, that Deis decided to take their side still makes me wonder. I&#39;ve read all known legends about her, and it&#39;s always been said her powers were used for the greater good...&quot;
Gatz:- &quot;People change, I guess&quot;
Shina:- &quot;Sounds too easy an answer... but perhaps it&#39;s like the old man Gerdenheim said, there are no heroes or villains... only people that defend what they hold just in their hearts. Still, I wish I could understand what motivated her to do that...&quot;
Gatz:- &quot;...&quot;

Amitai:- &quot;You can really feel the anguish and fury of the souls inhabiting this sacred place now...&quot;
Ganer:- &quot;If it wasn&#39;t for Angel Tower, those demons would return to the world as spirits wishing to get revenge on all of us&quot;
Amitai:- &quot;The power they display even in death, it&#39;s incredible...&quot;
Ganer:- &quot;But the important thing is that they are completely nullified, they can do nothing anymore. You saved the world, and I must thank you as well for that, sorcerer Amitai&quot;
Amitai:- &quot;Don&#39;t thank me, our interference was a necessity and I&#39;d gladly give up my life for my kingdom and family&quot;
Ganer:- &quot;Did your magic been restored yet?&quot;
Amitai:- &quot;I&#39;m afraid not. I pushed my magic to a dangerous limit by casting that spell. But still I have no regrets, it was a necessary sacrifice&quot;

&lt;center&gt;The ceremony finally ended and each one returned to their chambers, except for Gaist. He decided to leave outside Angel Tower and sit to its side, sculpting little wooden statues one after another. These statues were not simple shapes anymore, now they always came out with a specific appearance and what was in Gaist&#39;s heart.&lt;/center&gt;
&lt;img src=&quot;images/67.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Kirin:- &quot;I like these statues you&#39;re making now than the ones you made back then at the island&quot;
Gaist:- &quot;Kirin!? I haven&#39;t seen you since our training... what brings you here?&quot;
Kirin:- &quot;Perhaps you should consider adding the wings to those wooden figures. After all, they are an important part of Alitheia&quot;
Gaist:- &quot;What!? You knew her!? How could you!?&quot;
Kirin:- &quot;I&#39;ve been an ally of those you call &#39;demons&#39; for a long time, Gaist. They sheltered me when I needed it the most and they became my friends. She&#39;s also alive&quot;
Gaist:- &quot;Impossible!... why, why are you telling me this, then? You know well what I must do now... my duty... are you planning to stop me here?&quot;
Kirin:- &quot;Not at all. I don&#39;t wish to face you, and I don&#39;t think I&#39;d ever have a chance of winning anyway. Alitheia herself asked me to tell you her location, so you can meet her alone and resolve this at once&quot;
Gaist:- &quot;...&quot;
Kirin:- &quot;You can find her in Maekyss Gorge, in the Wyndia region. This is our last meeting so... farewell, Gaist. Good luck carrying out your &#39;mission&#39;&quot;

&lt;center&gt;The mysterious ninja disappeared as suddenly as he made himself present, leaving no trace behind. Not doubting his actions a moment, the Guardian embarked himself to the revealed location, telling no one about it. 

[[Alitheia]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Walking&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="35" name="Alitheia" tags="" position="12,1040" size="100,100">&lt;img src=&quot;images/VS04.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;At the other side of the bridge located above Maekyss Gorge, Alitheia was waiting. She kept her stoic expression as usual, but there was this sense of determination in her presence. She was determined to put an end to all this. 
Gaist, feeling a deep resentment aimed at her, walked across the wooden path to face her. He was ready to execute her. &lt;/center&gt;
&lt;img src=&quot;images/68.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Alitheia:- &quot;There you are. Hi, Gaist&quot;
Gaist:- &quot;...&quot;
Alitheia:- &quot;Got a problem? Do you hate me?&quot;
Gaist:- &quot;It&#39;s nothing personal... I&#39;m here simply to fulfill my duty&quot;
Alitheia:- &quot;And yet, you are still doubting&quot;
Gaist:- &quot;Tsk... just why?... why did you have to be a demon!?&quot; -A cold, brazen cold dominated the atmosphere for a brief moment.
Alitheia:- &quot;You are mistaken. The right question would be... why did you, Guardian, had to transform into a demon?&quot;
Gaist:- &quot;Wha-!? Grh... just shut up!&quot;
&lt;img src=&quot;images/69.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Alitheia:- &quot;Your heart&#39;s true colors change quite a lot... you can&#39;t seem to find your true feelings&quot;
Gaist:- &quot;I said STOP!!&quot;
&lt;img src=&quot;images/70.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;Gaist goes through with his attacks, flowing one after another, and still none manage to find its target.&lt;/center&gt;
Gaist:- &quot;Argh, she&#39;s so fast... none of my attacks came even close&quot;
Alitheia:- &quot;Perhaps a cold splash would be able to put some sense inside that head of yours. &lt;strong&gt;Iceblast!&lt;/strong&gt;&quot;
&lt;img src=&quot;images/71.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Gaist:- &quot;Mmh... this attack is way too strong for a demon...&quot;
Alitheia:- &quot;Your heart stays confused. I can clearly see&quot;
Gaist:- &quot;That nonsensical blabblering you&#39;re spouting right now is gibberish I can&#39;t understand... but right now, I couldn&#39;t care any less!!&quot;

&lt;center&gt;As soon as the ice pillar shatters Alitheia goes ahead with an aerial attack, but Gaist easily manages to defend it.&lt;/center&gt;
&lt;img src=&quot;images/72.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Gaist:- &quot;This game is getting ridiculous. You know damn well those weak attacks can&#39;t even scratch me, my physical strength surpass yours by far&quot;
Alitheia:- &quot;Gh...&quot;
Gaist:- &quot;So I&#39;m ending this stupid game right NOW!!&quot;
&lt;img src=&quot;images/73.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;img src=&quot;images/74.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Gaist:- &quot;It&#39;s over. Stop resisting your fate&quot;
Alitheia:- &quot;Heh, so it&#39;s true... you really hate me...&quot;
Gaist:- &quot;As I said before, this is merely the fulfillment of my duty to my people and this world. In the name of our God... I don&#39;t want you to suffer&quot;
Alitheia:- &quot;Agh... still, you can&#39;t understand anything... you can&#39;t even see the one hurting right now... is no one but you...&quot;
Gaist:- &quot;Stop talking, nothing you can say will do a difference. I&#39;ll show you mercy and end this quickly&quot;
Alitheia:- &quot;I don&#39;t think so... before that, let me show you first... what we are capable of... let me show you the real force of the demons you despise so greatly...&quot;
Gaist:- &quot;Mh!?&quot;
&lt;img src=&quot;images/75.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;Right when Gaist was about to perform the last strike, Alitheia surrounds herself with a potent light and the Guardian is pushed back violently. 
The Dragon lady&#39;s body starts to assume a new form as the air around the two of them starts to turn icy cold and dark, the waters below them start to freeze over. The whole area felt like it was being taken over by a frozen hell.
Once Gaist manage to open his eyes, he gazes upon him the true form of Alitheia. A powerful and huge pressure presses against entire body. &lt;/center&gt;
&lt;img src=&quot;images/76.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Gaist:- &quot;What is this? I-I can&#39;t move... this cold is freezing me to the very bones...&quot;
Alitheia:- &quot;&lt;strong&gt;Ice Dragon&lt;/strong&gt;. I descend from a legendary and forgotten clan within our species. My powers over ice are so intense they freeze all the atmosphere around us in a matter of seconds&quot;
Gaist:- &quot;Incredible... how did she pulled out this much power? The other demons weren&#39;t this strong...&quot;
Alitheia:- &quot;They weren&#39;t? So you believe that?&quot;
Gaist:- &quot;Tsk...!?&quot;
Alitheia:- &quot;So you still don&#39;t get it. It pains me so much having to kill you, but sadly there is no other choice. This is the hand fate has given us in this play. &lt;strong&gt;Blizzard!&lt;/strong&gt;&quot;
&lt;img src=&quot;images/77.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Gaist:- &quot;Uuurgh! T-this attack... my body... can&#39;t move it... if I don&#39;t do... she&#39;s going to kill me... must do something... I&#39;m losing it...&quot;
Alitheia:- &quot;Perhaps now you will understand? Or you&#39;d rather end up becoming an ice statue forever? You are already losing consciousness, it will not take long before you fall into a deep sleep from which you will never wake up. Take a stand or embrace the cold abyss of the eternal sleep, Gaist!&quot;
Gaist:- &quot;Ca-... can&#39;t... die... here... Ahhhh! &lt;strong&gt;Shapechange!!&lt;/strong&gt;&quot;
Alitheia:- &quot;What!?&quot;
&lt;img src=&quot;images/78.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;Gaist finds himself surrounded by his own power of fire. In a desperate act, he activates the technique he learnt back at Crescent Island. 
The resulting monster quickly melts the Blizzard spell away, merely by making direct contact with its skin.&lt;/center&gt;

Gaist:- &quot;Eh!? What is this? This form... what&#39;s this? I&#39;ve never been able to transform before, even though I dominated this technique... why now? What&#39;s happening!?&quot;
Alitheia:- &quot;That&#39;s... Ifrit...&quot;
Gaist:- &quot;You... you know what this is!? Tell me!&quot;
Alitheia:- &quot;Don&#39;t pretend you haven&#39;t realized already. This is your true essence... no, the true essence of you Guardians. The true essence behind your so-called God&quot;
Gaist:- &quot;No... this cannot be...&quot;
Alitheia:- &quot;It is finally revealed to us, it seems you were the true demons, in the end...&quot;

&lt;center&gt;Gaist lets out a hollowed scream filled with confusion as his monstrous form recedes and he turns back normal. Devastated and in utter shock, the Guardian remains still, stunned in placed standing in the wooden bridge as Alitheia approaches him. &lt;/center&gt;
&lt;img src=&quot;images/79.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Gaist:- &quot;Ahh... ahh... ahh...&quot;
Alitheia:- &quot;So did you finally get it? Your strength, the appearance of your Guardian form, the essence within this power, it has been always this. This has been a senseless genocide. This has been all a deceitful dream. Or rather, a nightmare you&#39;re now trapped forever&quot;
Gaist:- &quot;No... can&#39;t be... a nightmare?... this was all... a lie?... we were just puppets then?... then... then everything I&#39;ve ever believed in... was everything... false too...? No, I can&#39;t... accept that... if true then... then everything we&#39;ve done... every step we&#39;ve taken forward... our entire lives... THIS CAN&#39;T BE!!!!!!!!!!&quot; -Blinded by sheer desperation, by the rage burning within, the sadness flowing into him, the confusion... Gaist pulls forward. Unconsciouslly, his body goes through the motions without thought. As if trying to scare everything away he performs a final attack.
&lt;img src=&quot;images/80.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Gaist:- &quot;... N-no... what just... what did I do!? Alitheia!?&quot;
Alitheia:- &quot;Gh... Gaist... finally, I can see it... your heart is clear of doubt...&quot;

&lt;center&gt;Alitheia&#39;s body returns to normal as she falls down. Desperate, the Guardian rushes to her side.

[[Heart]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;DragonAngel&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="36" name="Heart" tags="" position="15,1154" size="100,100">&lt;img src=&quot;images/81.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Gaist:- &quot;Why?... why you didn&#39;t dodge that? You are stronger and faster... why you didn&#39;t kill me before?...&quot;
Alitheia:- &quot;This is how... it&#39;s suppose to e... end... Gaist...&quot;
Gaist:- &quot;But I can&#39;t understand this... why? why are you doing all this?&quot;
Alitheia:- &quot;The demon who granted you this power... she must have already sensed my presence... righ-... right now, she must know there are other dragons alive... and I wanted to die in your hands, Gaist... in this way... in this way you will continue ahead with your destiny... carrying out our feelings... until the day comes you have to... ah...&quot;
Gaist:- &quot;Alitheia...&quot;
Alitheia:- &quot;I&#39;m glad... right in the end I... I saw it... your heart, it was no longer deceived... you see? this... this gem, it&#39;s... called a Dragon Tear... ever since we... first met... it has showed me your true feelings... what lied beneath your soul...&quot;
Gaist:- &quot;This gem... it&#39;s shining like a rainbow...&quot;
Alitheia:- &quot;Exactly... now that you hold it, it&#39;s reflecting my own feelings... they are the same... the same as yours now... Gaist... please live on... help save... my clan...&quot;
Gaist:- &quot;Alitheia!!&quot;
&lt;img src=&quot;images/82.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;The Guardian remained still right next to Alitheia&#39;s body. That moment the Dragon Tear lost its shine, displaying a hollow white.
Gaist took the body and carried it to a nearby zone, a quiet place where she could rest in peace. Leaving behind a small wooden statue, he left the place.
A whirlwind of thoughts, emotions and feelings flooded his mind. But deep within the chaos unleashed within his very being, only one certainty remained: he has been wrong the entire time. 

What must he do now?

[[Resolve]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;SadTribute&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="37" name="Resolve" tags="" position="125,1151" size="100,100">&lt;center&gt;Far away from Urkan Tapa, to the north, stood in total solitude Guardian Gaist. Sitting over a stone in the middle of the sea, he silently pondered over all that&#39;s happened while sculpting another wooden figure. As time went by his mind started to clear itself and he started to see it how it was, to understand it all. At every moment in his life, each part of his existence was being questioned. His loyalty, his conviction, his kindness, his faith. But the only feelings he felt were truly real were only two: pain and sadness. 
It was right then when Guardian Gaw arrived. &lt;/center&gt;
&lt;img src=&quot;images/83.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Gaw:- &quot;Gaist, we&#39;ve been looking for you&quot;
Gaist:- &quot;Gaw... why for?&quot;
Gaw:- &quot;The war we thought was over is apparently not finished just yet. It appears there are a few demons left. According to Amelia, they are very few and remain spread all over&quot;
Gaist:- &quot;... I see&quot;
Gaw:- &quot;Something&#39;s bothering you? I see you&#39;re distracted&quot;
Gaist:- &quot;Gaw, have you ever... considered the possibility the ones mistaken could be us?&quot;
Gaw:- &quot;What!? What are you saying!?&quot;
Gaist:- &quot;It&#39;s the notion so impossible to you? It is, after all, we the ones who annihilated an entire clan who did nothing but escape when confronted, they barely opposed us or resisted. We&#39;ve been told &#39;they did it&#39; but never stop for a moment to think if there was another answer. Another side to this drama. We just blindly believed in our God because that&#39;s how we were raised... but, what if our God is truly a demon? Aren&#39;t we just puppets strung together by His hands, used as tools for His own interests? What if, after all this time and everything we did, we ended up becoming... ruthless genocidal monsters?&quot;
Gaw:- &quot;STOP SAYING THIS BULLSHIT, GAIST!!!&quot;
&lt;img src=&quot;images/84.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Gaist:- &quot;Gaw...&quot; -The strong yell from his partner and the Dragon Tear&#39;s reaction shocked Gaist as if lightning struck him right then and there. 
Gaw:- &quot;What&#39;s gotten into you, you are starting to sound like the demons and their confusion tactics... I can&#39;t believe what I&#39;ve hearing, is your faith in God so feeble? So easy you put his guide in doubt... and over what!? Nothing! Our actions were for the safety and safeguard of humanity!! What&#39;s there to doubt Gaist!? Or have you forgotten what they did to US!? They SHOT FIRST!! You saw first-hand their power when they besieged our town! When they left my brother a cripple!! And now you want me to believe those savages... those beasts, are not guilty of all our suffering!? That they have feelings!? You think we are just IDIOTS!?&quot;
Gaist:- &quot;...&quot; -Gaist remained silent as his friend spoke out his mind, and once he finished awaited as he caught his breath.
Gaw:- &quot;No, to answer your question... I don&#39;t believe for a second we did anything wrong. And let me advice you, as I still see you as a friend, to drop those inane diatribes of yours. I don&#39;t know from where does that shit comes from, but I figured you were stronger than that. I&#39;m surprised to see this weakness, after all that&#39;s happened...&quot;
Gaist:- &quot;...&quot;
Gaw:- &quot;Agh... just don&#39;t mention that nonsense again, Gaist. Just... it just never happened, ok? So, come. Let&#39;s go back to Urkan, we are still not finished yet&quot;
Gaist:- &quot;... I&#39;ll catch you later.&quot;

&lt;center&gt;Gaw observed as Gaist made no movement, still keeping his back to him. Holding back a new resurgence of anger, he just turned around and left the place. Gaw tried to understand what just happened, but there was no logic to Gaist&#39;s words. It was a design from God, there can&#39;t be a mistake. &#39;They tried to destroy us, there can&#39;t be a mistake&#39;. That phrase came up every time Gaist&#39;s words flashed back in his mind. What he witnessed in Mt. Zublo... no, that was nothing. Nothing of worth happened there. There can&#39;t be a mistake. There can&#39;t be a single doubt in his mind about that. About anything. 
Gaist remained in his spot, speechless for a moment, but Gaw&#39;s reaction helped him understand everything in full.&lt;/center&gt;

Gaist:- &quot;Alitheia... thanks. I can now see clearly the path I must undertake. Trying to reason with my friends will lead nowhere, the Dragon Tear showed me clearly that. Questioning our faith or actions is only going to get me to be as hated as you were... no, probably even more. Probably to the point of wishing me death. There&#39;s nothing I can do then... that&#39;s how it will be, I shall become a traitor in the eyes of those I still now call friends, and leave this cursed lands. I shall wait... until that day, the day when I can redeem myself from all the sins I&#39;ve committed against your kin, although my hands are already tainted by the blood of innocents. Until then... I can only hope... you...&quot;
&lt;img src=&quot;images/85.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;Gaist took out the Dragon Tear as it started for the last time to reflect the feelings in his bleeding heart. The Guardian gazed upon the precious jewel long, then threw it far away into the sea. Standing up at last, he took direction to Urkan Tapa knowing it&#39;d be the last time in his life he&#39;d see the place he gave up everything to protect. 

[[Coward]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Regrets&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="38" name="Coward" tags="" position="236,1152" size="100,100">&lt;center&gt;Once back on Urkan Tapa, Gaist requested to meet with Patriarch Sudama, alone. 
The old leader awaited for him as he has always done, sitting in his chambers, in deep thought. &lt;/center&gt;

Sudama:- &quot;Guardian Gaist, to what do I owe the honor of your presence here?&quot;
Gaist:- &quot;Patriarch, I&#39;ve made up my mind. I decided to leave Urkan at once, forever. I&#39;m not going to continue fighting this useless war&quot;
Sudama:- &quot;Are my ears deceiving me!? What did you just said, Gaist!? You plan on running away, leaving us? You can&#39;t do that! Your duty as a warrior of Urkan is only to God! That&#39;s not something you take lightly!&quot;
&lt;img src=&quot;images/86.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Gaist:- &quot;Warriors of God... warriors of God!!?? No, we are the emissairs of a bloodthirsty demon!! That&#39;s what we are, I have seen it. And I don&#39;t plan on being part of this deceit any longer! I don&#39;t care if you are also blinded by our faith or if you knew something we didn&#39;t and kept it from us, but for me this is it! It&#39;s over!!&quot;
Sudama:- &quot;Gaist, you are speaking ill words. If your heart is so clouded by doubt and fear, perhaps you should go and talk to God. His soothing voice and guidance will certainly reveal the truth to you, as it has done before&quot;
Gaist:- &quot;That was nothing but a sweet lie too... what he did was just use us as his tools of war.... just stop talking&quot;
Sudama:- &quot;No, you must return to your senses, Guard-&quot;
Gaist:- &quot;I said shut up!! I&#39;ve got enough of all this nonsense&quot; -Sudama&#39;s template turned somber at this retort.
Sudama:- &quot;Be aware, warrior, of the consequences of what you are speaking. If you leave this sacred endeavor at this point, you will be branded a coward. The history of our people will remember you not as one of our great saviors, but as a traitor who put his own self over the world&#39;s wellbeing. If you plan on continuing with this... then you are not worthy of the strength that He has bestowed upon you! You will become the disgrace of Urkan!!&quot;
Gaist:- &quot;Heh, as if I could care less how you call me. Our people, our traditions, our faith... those are real disgraces built upon lies. His strength!? Want to see the strength of the God you praise so much!? Do you want to see the true nature of what He gifted us?&quot;
Sudama:- &quot;Mh!? Gaist, you&#39;ve lost your mind...&quot;
Gaist:- &quot;Just watch this and tell me... tell me if I&#39;m wrong!&quot;

&lt;center&gt;Turning his back to Sudama, Gaist starts to surround himself with the torches&#39; flames, activating once again the transformation into the large, monstrous figure he assumed during his battle with Alitheia. &lt;/center&gt;
&lt;img src=&quot;images/87.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Gaist:- &quot;Look upon this, the power that &#39;God&#39; gifted to his beloved children. This is what we have become. Far from angels, we are nothing more than horrible monsters, murderers... the demons we faced ended up being our own selves in the end&quot;
Sudama:- &quot;T-that can&#39;t be... that&#39;s not right, Gaist. You&#39;ve been possessed, poisoned by their evil tricks! That&#39;s why you can&#39;t see clearly anymore... you can&#39;t see the truth. One of those demons must have poisoned your energy somehow. That appearance can&#39;t be the strength of our God...&quot;
Gaist:- &quot;Keep denying what lies bare in front of you, Patriarch. I don&#39;t care anymore. Farewell, my parting wish is for my friends to be able to realize the truth before its too late, so they can make ammends for their mistakes. Just as I did...&quot;

&lt;center&gt;Gaist resumes his normal form and leaves the Patriarch&#39;s chambers. 
Not looking back again, he leaves Urkan Tapa to parts unknown, leaving no traces behind. 

[[Four destinies]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Encounter&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="39" name="Four destinies" tags="" position="349,1150" size="100,100">&lt;center&gt;It didn&#39;t take long for all warriors to gather in Sudama&#39;s chambers. &lt;/center&gt;
&lt;img src=&quot;images/88.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Sudama:- &quot;As you already know, we&#39;ve detected new demonic presences in the world...&quot;
Gatz:- &quot;So they were hiding, eh?&quot;
Ganer:- &quot;It appears so. But now we must endure an unexpected blow... Guardian Gaist decided to run away&quot;
Gaw:- &quot;What!?&quot;
Sudama:- &quot;He decided to abandon the War. His heart was weak and fragile... fear and cowardice took a hold of it. He ignored my advice and decided to turn his back to all of us. He&#39;s nothing but a traitor&quot;
Garland:- &quot;... Mmmm...&quot;
Gaw:- &quot;The bastard...! I now understand why he was so distant and aloof. And all that nonsensical shit he spoke... bah! we don&#39;t need him, we can handle everything&quot;
Ernest:- &quot;This is not right. I know him, and Gaist is no coward. He probably has his reasons...&quot;
Gaw:- &quot;Don&#39;t defend him, Wyndian. Reasons? He was only looking for an excuse to abandon us. That&#39;s it&quot;
Ernest:- &quot;Mr. Gaw, I don&#39;t desire to fight you, but if you continue speaking ill of my friend, you&#39;ll leave me no choice&quot; -He said as his hand slowly reached the tip of his sword.
Gaw:- &quot;And who do you think you are!? Do you want to die so badly!?&quot; -Gaw turned to the direction Ernest was standing.
Shina:- &quot;Enough, you too!!&quot; -Screamed the princess with an authoritative tone, trying to avoid a pointless fight between allies.
Gatz:- &quot;I understand this is a hard blow to process, but we must calm down&quot;
Sudama:- &quot;Indeed. We can&#39;t continue losing time analyzing the motives behind the deserter. Everyone, please hear what Amelia has to tell us. Amelia, if you will&quot;
Amelia:- &quot;I&#39;ve detected presences turning up in 4 different locations: inside the volcano in Mt. Zublo, in an area close to an abandoned tower in Eastern Wyndia, in the lighthouse used by the people of the Rhapala region and within the mountainous area in Mt. Myrneg, in Wyndia.&quot;
Gaw:- &quot;Tsk... I&#39;ll take the volcano&quot;
Ernest:- &quot;If we are allowed, me and the Princess would like to take Gaist&#39;s place and face the enemy in Eastern Wyndia. The area is close to our castle in Wyndia, so we feel it is our duty to protect it&quot;
Ganer:- &quot;The sorcerer Amitai has not recovered yet&quot;
Shina:- &quot;We are aware, unfortunately his magical skills remain blocked. We will try to take care of the enemy by ourselves, and if our strength is lacking then we&#39;ll retreat&quot;
Ganer:- &quot;Very well, I will only ask you to be the last one to depart. If one of the Guardians manages to return quickly from his mission, he can lend you a hand&quot;
Shina:- &quot;I see no problems with that&quot;
Garland:- &quot;Perfect. I&#39;ll take Mt. Myrneg then, that place is not that far away from the last city we exterminated&quot;
Gatz:- &quot;So it&#39;s settled, then. That means I&#39;ll be going to the lighthouse&quot;
Sudama:- &quot;You have all chosen your next battle. Very well, let this be your final struggle in this conflict, Guardian Angels. Let God guide your hands&quot;
Garland:- &quot;(If I&#39;m lucky, I will be able to clear away those doubts that have bothered me since that last encounter)&quot;

&lt;center&gt;In this way, all the warriors steeled themselves and moved forward, ready for one last battle against the enemy.

[[Strength]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Decision&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="40" name="Strength" tags="" position="600,353" size="100,100">&lt;img src=&quot;images/VS05.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;Gaw was the first to depart to his destination. As soon as he faced the active volcano, he entered it without hesitation. The atmosphere inside brought him back to that moment when he murdered those two demons. It was no coincidence he decided to return to the same place. 
Gaw desired to face whoever stood in the middle of this infernal place, guided by the possibility he could clear away those feelings of doubt bothering him ever since then and finally close off the circule tormenting him. To see with his own eyes there was no mistake or lie: these demon are nothing more than the enemies of the world. 
Proceeding through the passages filled with magma, he finally reached his rival waiting in one spacious cavern. A tall and muscular man with a powerful presence that demanded respect. His eyes were completely crimson and gave him the appearance of being forever angry and dangerous.&lt;/center&gt;
&lt;img src=&quot;images/89.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Miseo:- &quot;Welcome, Guardian. My name is Miseo&quot; -He said calmly as he extended his hand toward his enemy. Gaw, however, merely took a fighting stance.
Gaw:- &quot;You can save those fake pleasantries, demon&quot;
Miseo:- &quot;That&#39;s very rude of you. Were you Urkans always like this? So violent and battle-prone?&quot;
Gaw:- &quot;Only when facing demons&quot;
Miseo:- &quot;I can see why you were the chosen ones. So easy to control and manipulate through anger and resentment&quot;
Gaw:- &quot;More of that nonsense, I&#39;ll not be swayed by your sly words. This ends right here! Nothing can save you now!&quot;
&lt;img src=&quot;images/90.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;Gaw begins his attack, placing all his rage behind each strike. In spite of his size, Miseo easily avoids the attacks while keeping his guard up, until he simply decides to block the Guardian&#39;s swinging axe.&lt;/center&gt;

Miseo:- &quot;I think of myself as a pacifist, Guardian. I would prefer not to have to trade blows with you&quot;
Gaw:- &quot;Heh, what&#39;s this charade of camaredie now? You are so confident you can match me... what makes you think you have any chance? Not one of you accursed demons could even stand up to us&quot;
Miseo:- &quot;You made a good point. But you seem to be a bit tense, Guardian. I can sense something in the way you move, how you observe this place. I can conclude this is not your first visit, right? You were the one who carried out the assassination of Rufus and Arby, the ones defending the barrier placed in this volcano, and that&#39;s the reason you decided to return here. Am I correct... Guardian?&quot;
Gaw:- &quot;Tsk... shut up! Burn in sacred flames! &lt;strong&gt;Wall of Fire!&lt;/strong&gt;&quot;
&lt;img src=&quot;images/91.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Gaw:- &quot;That should be enough...&quot;
Miseo:- &quot;Hmm... Are you sure of that?&quot;
Gaw:- &quot;What in-!? How!?&quot;
&lt;img src=&quot;images/92.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;The Dragon easily extinguished the fires surrounding him, showing no visible sign of receiving any damage from the attack. Gaw prepares himself to continue his attack, but his movement indicated a more cautious approach to his enemy.&lt;/center&gt;

Miseo:- &quot;Your magic power is lacking, Guardian. And you haven&#39;t managed to reach me with your physical strength... so, what will be your next move now?&quot;
Gaw:- &quot;T-this is... this has never happened before...&quot;
Miseo:- &quot;What? Have you never faced an actual, real enemy before then?&quot;
Gaw:- &quot;No demon could ever hope to beat me before...&quot;
Miseo:- &quot;But did any of them tried to fight back, I wonder?... Or maybe you thought Rufus and Arby didn&#39;t put up any resistance because they were weaker than you? Is that so...? You thought you were invincible?&quot; 
Gaw:- &quot;Arrgh! You talk too much... but your attempts at tricking me won&#39;t work! That&#39;s you demons&#39; true nature... with His guide, we have never lost a fight! This will be no different, no matter how many tricks you pull up!&quot;
Miseo:- &quot;So it is that, so simple to see... perhaps I should demonstrate a bit of my true capabilities then? Maybe that way, you will open those eyes&quot;
Gaw:- &quot;Do your worst, demon&quot; -Gaw tightens his hold on his weapon, ready to respond to what&#39;s to come.
&lt;img src=&quot;images/93.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;Miseo jumps high up in the air and brings himself down with a powerful strike with both arms upon the Guardian. Gaw barely manages to block the assault by spinning his axe.&lt;/center&gt;

Gaw:- &quot;Gh... that was strong... it almost managed to break through my defense... almost...&quot; 
Miseio:- I can see you&#39;re unconvinced still, Guardian. Would you prefer if I just let you hit me, like the others before me? Go ahead, give me your best shot. Maybe this will be enough to make you understand&quot; -The Dragon spreads his arms away, opening his guard and inviting the Guardian to perform his attack. 
Gaw:- &quot;Grr... are you mocking me!? You will regret this! Ahhh!!&quot;
&lt;img src=&quot;images/94.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Miseo:- &quot;Ugh. A fine strike, indeed. But hardly enough to faze me. Were you holding back? Or that&#39;s the full extent of your strength?&quot;
Gaw:- &quot;Stop the theatrics, demon! You&#39;re twisting words trying to confuse me! But I&#39;m not weak-willed, it will never work...&quot;
Miseo:- &quot;Open your mind, Guardian. This is no act nor a play, there&#39;s no attempt at confusion. This is me trying to show you the reality you struggle so much to deny&quot;
Gaw:- &quot;More twisted words. This is what you told him? This is how you broke his faith!? This is all it took to plant seeds of doubt in your mind?&quot;
Miseo:- &quot;What are you talking about?&quot;
Gaw:- &quot;... you&#39;re even weaker than I thought, Gaist.&quot; -Gaw cracked his neck and raised his weapon once again. - &quot;You&#39;re very strong, I will admit that much. But it means nothing. Our God... it&#39;s impossible He lied to us. There can&#39;t be no mistake, none. It may take more than the others, but you will die in the end the same&quot;
Miseo:- &quot;So stubborn. You claim I try to confuse you, but it seems you&#39;re doing a good job all on your own. It&#39;s hard to keep it all straight when confronted with the truth, right?&quot;
Gaw:- &quot;... No. Our God... will never deceive us. YOU are the deceivers. There&#39;s nothing else to think about. We are not mistaken in our duty&quot;
Miseo:- &quot;Very well, then. It appears I&#39;ll need to take this a step further to show you the errors of your way. I&#39;ll warn you I&#39;m a bit old to do these things, but watch carefully the extent of my true strength&quot;
&lt;img src=&quot;images/95.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;Suddenly, the whole volcano started to shake. Slowly Gaw felt a terrible pressure invade his entire body as he observed his enemy surround himself in a green shine. Stones and rocks started to levitate around him. Soon enough, his enemy adopted an entirely different appearance...&lt;/center&gt;
&lt;img src=&quot;images/96.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Miseo:- &quot;&lt;strong&gt;Vert=Ena&lt;/strong&gt;, this is my true strength, Guardian. The power of the Earth element&quot;
Gaw:- &quot;N-no, what&#39;s this... this sensation!? My body... it doesn&#39;t respond! I&#39;m paralyzed...&quot; -The fear took hold of Gaw&#39;s body, who stood motionless in place at the sensation of the magnitude of the demon&#39;s power. - &quot;I&#39;ve never felt this before... what are you...!?&quot;
Miseo:- &quot;I&#39;m just an old man, Guardian. What you&#39;re seeing is the power our clan suppresses. So you finally see it? You have seen we are not as weak as you presumed, and yet we never desired your demise. Can you recolect the faces of those you have killed? Are they still the visage of demons, as you so desperately claim?&quot;
Gaw:- &quot;... shut up... this can&#39;t...&quot;
Miseo:- &quot;You&#39;ve also witnessed the love we feel for each other, no? I can surely imagine the last moments of Rufus and Arby before your cold steel ended their lives. Did they cursed you? Did they swore revenge upon their deaths? Guardian... did they?&quot;
Gaw:- &quot;... that...&quot;
Miseo:- &quot;And then, there&#39;s me. You are seeing the peace and tranquility I&#39;m mustering even in the face of the one who murdered my friends and fellows in cold blood. I&#39;d be justified in crushing you right now for what you did to us, and yet here we are. So please tell me, Guardian... do we still look like demons to you? Do you still believe these demons you&#39;ve been fighting can&#39;t feel any emotion? Did you even feel anything? Or have you just ignored them this whole time?&quot;
Gaw:- &quot;... Ahhh... n-no... I don&#39;t...&quot;
Miseo:- &quot;This shall finally convince you fully. &lt;strong&gt;Vrief=Giganda!&lt;/strong&gt;&quot;
&lt;img src=&quot;images/97.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;With a mighty powerful blow, Miseo shook the whole area around them. Earth rose up in front of the Guardian and struck him squarely, causing him severe damage. It took a single attack to leave Gaw kneeling in front of his rival. A sensation he has never felt before during this whole conflict...

[[Sins]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Fight4&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="41" name="Sins" tags="" position="717,351" size="100,100">&lt;center&gt;The combat was over. The Guardian witnessed the incredible powers of his rival, and did nothing as he approached the fallen Gaw with a serene expression. &lt;/center&gt;

Miseo:- &quot;This is all I could do so you finally understand the situation&quot; -He extends his hand once again toward the fallen warrior. Gaw looks up, still with a scrambled expression.
Gaw:- &quot;Ah... Gaw... my name is Gaw...&quot;
Miseo:- &quot;Very well, Gaw. So are you finally open to reason?&quot;
Gaw:- &quot;... Yes, I will hear you... my friend... one of the guardians... said things I can now understand. His doubts... the source of my hesitations... everything that I went through inside this volcano back then...&quot;
Miseo:- &quot;That&#39;s good to hear. It&#39;s never too late to make ammends for your mistakes, Guardian Gaw&quot;
Gaw:- &quot;So... this incredible strength... this is the true strength you hide... is everyone this powerful?&quot;
Miseo:- &quot;Every Dragon that fights with his full potential is a force to be reckoned, this power is as much a blessing as it is a curse upon this world. And that&#39;s exactly what your God fears the most. She has faced and lost against this strength from our kin in the past, many times. It is due to this she wishes for our destruction, because we are her biggest obstacle...&quot;
???:- &quot;Don&#39;t be fooled, Guardian. His words are those of deceit&quot; -A voice interrupts from the shadows.
Gaw:- &quot;Mh!?&quot;
&lt;img src=&quot;images/98.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Miseo:- &quot;Who are you?&quot;
Gaw:- &quot;Amelia... what are you doing here?&quot;
Amelia:- &quot;I came to assist you&quot;
Miseo:- &quot;Mh, strange. I&#39;ve never seen someone like you before&quot;
Gaw:- &quot;She&#39;s an Algani... a clan your own exterminated off the face of this world...&quot;
Miseo:- &quot;... I see. So it was she the one guiding you to our locations, right?&quot;
Gaw:- &quot;Well, yes. How do you know that?&quot;
Miseo:- &quot;That explains everything. Very clever of you, I must say. Guardian Gaw, have you never wondered how was she able to detect us so perfectly? What kind of power could she be using to detect our presences in this vast world?&quot;
Gaw:- &quot;... She told us she came from a very powerful magical clan, so I never...&quot;
Amelia:- &quot;Guardian Gaw, what are you doing? Your enemy is standing right in front of you&quot;
Miseo:- &quot;... I can explain the exact nature of the connection she shares with us&quot;
Amelia:- &quot;Don&#39;t let this demon speak another ill word, Guardian. Stand up at once&quot; -Her voice turned into a commanding order all of a sudden, something no one has ever heard from Amelia. Gaw, however, remained still on the ground.
Gaw:- &quot;... I want to hear what he has to say. Rather, I need to hear this. So stay back, Amelia&quot;
Amelia:- &quot;...&quot;
Miseo:- &quot;This goes back to many years in the past. The Dragon Clan was forced to move underground for a long time, in order to keep vigilance over a great evil that threatened to unleashes itself upon the surface. This evil was a seed, a scar left behind by an evil ancient deity following her death: this evil was known as Deathevans. It was inevitable that the proximity of our clan to this evil being was going to affect us, and our clan&#39;s females suffered the most noticeable change in her physical appearance. A manifestation of this power happened upon them in the shape of wings, which grew on their backs and were impossible to hide. This power, born from the same divine nature that gave rise to this evil, still resides in our bloodstream after generations&quot;
Gaw:- &quot;Impossible... if what you&#39;re saying is true, then that means...&quot;
Miseo:- &quot;Exactly. It wouldn&#39;t be difficult for that deity to detect her very own essence... and neither would be difficult for her to manipulate the warriors moved by unbreakable faith toward her since birth through lies and deception. Am I right... &#39;Amelia&#39;?&quot;
Gaw:- &quot;... this woman who has been guiding us... leading us since the beginning... she is...!&quot;
Amelia:- &quot;Heh, you&#39;re smart, Dragon. Too bad... it&#39;s too late now&quot;
Miseo:- &quot;What!?&quot;
&lt;img src=&quot;images/99.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;A powerful dark spell is thrown from afar, striking Miseo wholly. He falls to his knee, his dragon form forcibly reverted upon the damage received.&lt;/center&gt;
&lt;img src=&quot;images/100.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Miseo:- &quot;Tsk... Iskios!?&quot;
Iskios:- &quot;Miseo. You seem surprised&quot;
Miseo:- &quot;Agh... traitor... how you could...?&quot;
Iskios:- &quot;Brand me whatever you want. As far as I&#39;m concerned, you all were the ones who betrayed our clan. You and those who allowed the situation to reach this point&quot;
Miseo:- &quot;A-are you stupid... do you think... being a lackey of the Goddess is going to...!?&quot;
Iskios:- &quot;Lackey? It&#39;s more a mutual pact, Miseo. But enough of that, it&#39;s not like it matters to you given the situation&quot;
Gaw:- &quot;... even one of them... it&#39;s the same... whoever you have to use...&quot;
Amelia:- &quot;You don&#39;t understand, Guardian Gaw. Everything you Guardians did was for the protection of life. You were not used, you needed guidance and motivation to carry out this overwhelming fate. The people of Urkan understands it, as you once did. But I shall not let this stain your soul. Rest assured you will remain a hero in the memories of the people of Urkan. A saint who gave up his life for the sake of the world&quot;
Gaw:- &quot;You... you used us like puppets... like tools... and you claim to CARE ABOUT MY PEOPLE!?&quot; -Gaw made a motion to stand up, but Iskios merely flicked his arm and struck him down with a blast, draining him of any strength he was gathering.
Iskios:- &quot;Shut up already&quot;
Gaw:- &quot;T-this is... a nightmare... Gaist, you were right... we were just idiots... tools, all this time... used for her whims...&quot; -Gaw attempted to stand up one last time, but his body felt lifeless. His entire life shattered, Gaw closed his eyes. The realization finally struck him, about how wrong they&#39;ve been this whole time. 
Amelia:- &quot;I care, my dear Gaw. I care for everyone. It is why you must give up your life here, for the sake of those who can&#39;t defend themselves. You will not believe me, but it truly grieves me&quot; -Amelia turned around to Iskios. - &quot;Finish them&quot;
Iskios:- &quot;Enough regrets, time for you two to die. Let the dark fire consume your pathetic existences... &lt;strong&gt;Ebonfire!&lt;/strong&gt;&quot;
&lt;img src=&quot;images/101.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;The two warriors are engulfed in dark flames, slowly gnawing away at their flesh. Gaw remains still, not daring to open his eyes.&lt;/center&gt;
Miseo:- &quot;Guardian Gaw... hear me out. Don&#39;t lament what happened... as this was our fate... you committed no sin on your own...&quot;
Gaw:- &quot;No, Miseo... I can&#39;t ignore it... all the atrocities I carried out against... against your clan... I ask forgiveness to you... to Arby... Rufus... everyone...&quot; -Tears came out of Gaw&#39;s shut eyes. Filled with regret, Gaw&#39;s body started to turn into ash.
Miseo:- &quot;T-thanks... I&#39;m content knowing... in the end, you saw the truth... with your own...&quot;
Gaw:- &quot;(It was right. All you said was right... I was blinded by rage and resentment... I was a fool... I can only hope my death can purify all the sins I committed... and pray for your souls to find peace...)&quot; -Gaw&#39;s mind starts to lose consciousness. Instinctively, he turned to the axe laying next to him, reflecting the bright of the dark flames. - &quot;(Brother... you will live on... unaware of what truly happened... but in your name... I wish our God... the god who betrayed us... pays dearly for all the evil he... forced upon us... goo--bye... Halb--er--...)&quot;

&lt;center&gt;The flames from the dark fire invoked by Iskios finally consumed the two warriors&#39; bodies, leaving behind nothing but ashes.&lt;/center&gt;
&lt;img src=&quot;images/102.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Iskios:- &quot;I expect you will fulfill your end of the deal&quot;
Amelia:- &quot;You have nothing to fear, I have no choice but&quot;
Iskios:- &quot;Hmph&quot;

&lt;center&gt;Noble and pure souls, they wash away their sins through eternal pain and regret.

[[Objective]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Termination&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="42" name="Objective" tags="" position="828,353" size="100,100">&lt;img src=&quot;images/VS06.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;North of the Rhapala region, there stood an ancient building used by sailors as a guide to reach their destination. 
The Lighthouse was a lonely, cold and haunted place that has been witness of thousands of traveler tales. In this moment, however, it will become the scenario of a cruel battle. &lt;/center&gt;
&lt;img src=&quot;images/103.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Gatz:- &quot;I see you&#39;ve decided to hide no more, demon. This will make everything easier&quot;
Doxa:- &quot;So that&#39;s how you call us? &#39;Demons&#39;? That&#39;s a strong word that&#39;d fit those who carry out certain actions... like genocide&quot;
Gatz:- &quot;Nice try, but that&#39;s just what you truly are. A danger and a menace for the peace of this world&quot;
Doxa:- &quot;I will not deny that our power when misused can become a real danger to everyone else. It has been proved many times in the past, unfortunately. This armor I wear is a symbolic of that&quot; -He spreads his arms to display the dark violet armor he was wearing. - &quot;But we&#39;ve existed for many centures, Guardian. Do you really think we didn&#39;t took over the world because we didn&#39;t want to? When no one would be able to oppose us?&quot;
Gatz:- &quot;Don&#39;t take me for a fool. You are very much aware of the existence of our God, who protects this world and all life on it. That&#39;s why you targeted our town first, you wanted to get rid of any warrior in God&#39;s grace and prevent Him from stopping your advance over all other clans. What you did to Namanda will not repeat again, demon. With God at my side, I&#39;ll make sure of that&quot;
Doxa:- &quot;I can see your belief is strong, but misguided. You&#39;ve been fed quite a tangled web of lies and deception, Guardian&quot;
Gatz:- &quot;Just stop. I&#39;ll not be fooled by those high tales your lot preach about, and if you continue spewing that trite you may not see death coming&quot;
Doxa:- &quot;Ah... so, you really believe your power is greater than ours?&quot;
Gatz:- &quot;Thus far, indeed... there&#39;s a graveyard of bones as proof&quot;
Doxa:- &quot;We are not that different, I can see that. I believe you&#39;re the type of man who can only get through a good beating. So, perhaps you&#39;ll understand things clearer once this battle is over&quot;

&lt;center&gt;Both warriors adopt their fighting stances, but no one dares to strike first. 
Gatz readies his heavy weapon over his head, while Doxa just awaits in place, taking no defensive stance.&lt;/center&gt;
&lt;img src=&quot;images/104.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Gatz:- &quot;(So, he doesn&#39;t plan on dodging? Is he so conceited he believes my movements will be slow and he&#39;ll be avoiding them handily? Or is he planning a counterattack?)&quot;
Doxa:- &quot;Come on, Guardian. Since you can only understand actions, don&#39;t be afraid and take a swing at me. You have my promise, I&#39;ll only block it using my arms&quot; -Doxa said in a sarcastic tone of superiority. 
Gatz:- &quot;Tsk, so you take me as an idiot! I&#39;ll show you then, you conceited, wretched demon!&quot;
&lt;img src=&quot;images/105.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;Enraged, Gatz throws a powerful blow, but it ends up being blocked in the way his enemy assured him.&lt;/center&gt;

Gatz:- &quot;What in the... is that armor casting some powerful magical barrier!?&quot;
Doxa:- &quot;Not at all, Guardian. It&#39;s just a run-of-the-mill armor. And now, have a taste of my power... the combined force of the freezing winds and the ardent fire, &lt;strong&gt;Sirocco!!&lt;/strong&gt;&quot;
&lt;img src=&quot;images/106.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Gatz:- &quot;Argh! I&#39;ve never... felt this before! This spell is like nothing I&#39;ve faced!&quot;
&lt;img src=&quot;images/107.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Doxa:- &quot;So? Still convinced we are just weaklings? Or perhaps you need a bit more rugging up?&quot;
Gatz:- &quot;Gh... you bastard. This means nothing at all, demon. Just because you are a bit stronger than expected doesn&#39;t really changes anything. The result will not change, no matter how much you struggle&quot;
Doxa:- &quot;Oh hahaha, you are really so naive. You can&#39;t help it but... if you can still stand up, then I&#39;ll give you two options: either take this chance and flee this place now, or face the full extent of my powers. Whatever choice you make, I will wait inside the lighthouse&quot; -Doxa turned around and walked away, entering the indicated place. 
Gatz:- &quot;W-wait right now! Damn... really, does he really hide even more power? I can see it now... the reason our God is so fearful of them. But this will not be enough, our God&#39;s strength will not fail us... I will never give up... he must be killed, power or no power... my mission is all there is... for the future of everyone... for Shina... I will be victorious, demon!&quot;

&lt;center&gt;The Guardian observed deep inside the lighthouse&#39;s darkness, and dared inside. Each step he took forward, he felt the pressure in the air increase even more. He was approaching his enemy, no doubt in his mind. 
Eventually he reached a set of large stairs, and above awaited his rival focusing and channeling a monstrous aura.&lt;/center&gt;
&lt;img src=&quot;images/108.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Doxa:- &quot;You choose... unwisely, Guardian&quot;
Gatz:- &quot;I&#39;m used to. I&#39;m not the type to run away from a battle, I thought you realized that. Even if it means my death, I will take you down with me&quot;
Doxa:- &quot;Fine, fine! I respect that attitude. I told you before, we think alike&quot;
Gatz:- &quot;(This pressure I sense from him... it&#39;s something out of this world... perhaps he was not bluffing, this time I may not make it out alive... but regardless, I will face him. I&#39;ll make sure he&#39;s not leaving this place alive!)&quot;
Doxa:- &quot;Ready? Time for you to gaze upon me and tremble... Wooooaaahhh!!&quot;

&lt;center&gt;At the roaring of the dragon, the ground and walls start to shook uncontrollably. 
The shape rising from behind his back started to take a much more terrorific and imponent form. 
Feeling the crushing pressure, Gatz could move no muscle as he witnessed the full transformation.&lt;/center&gt;
&lt;img src=&quot;images/109.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Doxa:- &quot;Shocked? First time seeing a Dragon&#39;s Ascension? This is one of many forms we Dragons take in battle. This one in particular is known as &lt;strong&gt;Tyrant&lt;/strong&gt;, the legacy from my Black Dragon lineage, our absolute form. In the distant past, this was the form assumed by an evil conqueror that committed the greatest sin to satiate his ambitions, to awake the worst evil this world has ever seen&quot;
Gatz:- &quot;Ha... a fitting appearance for a demon... Tyrant you say? Even the name inspires dread...&quot;
Doxa:- &quot;So I assumed correctly... you have never confronted a Dragon who was using their power...&quot;
Gatz:- &quot;No demon was strong enough to last long enough&quot;
Doxa:- &quot;You still don&#39;t get it? At all? You are dead-set on continuing playing your part in this&quot;
Gatz:- &quot;I have a duty to complete. Powerful or not, that changes nothing. I will not stop&quot; -Gatz once again takes his combat stance.
Doxa:- &quot;I can respect that. In honor of those words, I shall not hold back... perish in the name of your mission, Urkan warrior!!&quot;
&lt;img src=&quot;images/110.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Gatz:- &quot;Woooh! (This... this spell is even more potent than the other one... unbeliavable, at this rate... I will be death in a matter of seconds... no! I can&#39;t let this continue! But what can I do?... I&#39;m losing strength... Shina, should I risk it all into... one last lucky strike? I&#39;m pretty sure she&#39;d be against it, but I can&#39;t think of anything else. I&#39;m not that smart, princess... I don&#39;t think there&#39;s any other way...)&quot;
Doxa:- &quot;It&#39;s over, Dragon Slayer! Die by my flames of anger, let them consume that demonic shape! And seek forgiveness in Hell!!&quot; -The attacks&#39; intensity started to raise even more.
Gatz:- &quot;I will not let you get away with this... I may be consumed, but you will die with me! My entire being will be placed into this, my last attack. It&#39;s all or nothing! &lt;strong&gt;GAMBIT!!&lt;/strong&gt;&quot;

&lt;center&gt;Breaking through the flames, the Guardian manages to leave the area of the dark explosion released by his opponent. Avoiding them with great agility, Gatz throws himself quickly with a final strike focusing his entire strength. It was an instant, but something was odd.&lt;/center&gt;

Doxa:- &quot;A surprising performance, warrior&quot;
Gatz:- &quot;(Did he just... stop his attack!?)&quot;
&lt;img src=&quot;images/111.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;The strike hits squarely into his target, right into his enemy&#39;s heart. 
The critical hit from the heavy Beast Spear is enough to cause a fatal wound in his rival. 
Gatz, having wasted all his strength, falls to his knees in front of the wounded Dragon.

[[Mission accomplished]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Fight5&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="43" name="Mission accomplished" tags="" position="824,460" size="100,100">&lt;center&gt;The two warriors remained still, in silence together for several minutes.&lt;/center&gt;
&lt;img src=&quot;images/112.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Doxa:- &quot;Your... your mission is fulfilled, Guardian. Does that satisfies you?&quot;
Gatz:- &quot;Why?... why you stopped your attack? I saw it clearly... after I dodged the first explosions...&quot;
Doxa:- &quot;Much like you, I&#39;m also on a mission... but mine wasn&#39;t for me to win... or to kill you...&quot;
Gatz:- &quot;What do you mean?&quot;
Doxa:- &quot;We all... are merely a distraction... as well as a revelation... meant for you&quot;
Gatz:- &quot;I can&#39;t understand...&quot;
Doxa:- &quot;Don&#39;t think for a second... that killing you didn&#39;t cross my mind... killing you all for what you did... at times, those feelings were fueled by intense anger... but I understood the situation was repeating itself. It happened a long time ago, when light and darkness fought... you were only following your own ideals, even if they were misguided...&quot;
Gatz:- &quot;Those things you claim... I can&#39;t believe them...&quot;
Doxa:- &quot;Remember the evil conqueror I mentioned earlier? He comitted a lot of crimes and caused many tragedies, but in the beginning he only veiled for our people&#39;s future. He wanted our people, fragmented and split by those previous conflicts, to be united and flourish again. At some point, that desire got corrupted... by ambition... by power...&quot;
Gatz:- &quot;... what are you trying to say?&quot;
Doxa:- &quot;The only difference between my ancestors and you Guardians... they were motivated by the ambition of power... and you by...the ambition of peace. They were... just like you, used... as tools by the same evil. Even the best intentions can be twisted, deformed into something unrecognizable... the ambitions... of power of my ancestors corrupted their original intent... and... while your desires were pure... they were corrupted... by the lies and manipulations... of the one you call &#39;God&#39;...&quot;
Gatz:- &quot;...&quot;
Doxa:- &quot;In the end... each side fought for what they believed was right... you committed no sin on your own...&quot;
Gatz:- &quot;... I never asked your name&quot;
Doxa:- &quot;Doxa&quot;
Gatz:- &quot;Doxa... I just can&#39;t fully understand all you&#39;re saying... I may be in denial, but... I can&#39;t fully accept it either. Perhaps I am wrong... perhaps I just don&#39;t want to. But there&#39;s one thing I will say... it will be a disrespect to your ideals and your ancestors if I ask forgiveness for what I did... so I will not do that&quot;
Doxa:- &quot;I know it&#39;s very difficult... but I&#39;m glad you reached that conclusion, Guardian. I couldn&#39;t ask for anything more. Can I ask you for one last request?&quot;
Gatz:- &quot;Please&quot;
Doxa:- &quot;Take me to the... rooftop of this lighthouse... I desire to die while watching the greatness of this world...&quot;
Gatz:- &quot;That I can do... in a moment, I&#39;m still unable to move...&quot;
Doxa:- &quot;Heh... alright, but be mindful... I don&#39;t have much time left...&quot;

&lt;center&gt;The Dragon resumes his human form, soon enough Gatz helps him put his armor back and assists him into reaching the Lighthouse&#39;s top.&lt;/center&gt;
&lt;img src=&quot;images/113.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Doxa:- &quot;Ah... this dawn... this is a good view... a good note to end my life with...&quot;
Gatz:- &quot;...&quot;
Doxa:- &quot;Something&#39;s bothering you?&quot;
Gatz:- &quot;I keep going through everything in my head... about this war, about everything... I can&#39;t understand anything... not anymore...&quot;
Doxa:- &quot;This is just the beginning for us, Guardian... your part in this, such as it was, is now over...&quot;
Gatz:- &quot;That I can&#39;t care less. I don&#39;t want to think about this anymore. I can&#39;t believe what you&#39;ve told me, and yet... it&#39;s become impossible for me to turn a blind eye to what you&#39;ve shown me... this is too much, I just... I don&#39;t want to care anymore, I only wish to rest...&quot;
Doxa:- &quot;Me too, this has been... ah, I&#39;m dizzy...&quot;
Gatz:- &quot;... Are you satisfied with this result?&quot;
Doxa:- &quot;There&#39;s always going to be doubts... but only the future will tell whether what we did was right or not... if our actions in life and how we influenced the destiny of others... will bear fruit&quot;
Gatz:- &quot;Fate? Destiny...? I don&#39;t want to be involved in any of that anymore... not ever. Now everything seems so blurry to me... I&#39;d rather just...&quot;
Doxa:- &quot;... just look ahead... watch the inmensity of the world... although in different ways, we all fought to protect that... that you can believe...&quot;
Gatz:- &quot;...&quot;
Doxa:- &quot;I think, in the end... we came to respect each other... I&#39;m glad for that. Farewell, Guardian...&quot;

&lt;center&gt;The Dragon slowly dropped his arm and closed his eyes, letting out a final exhale as he passed away. The exhausted Guardian stood there, and could think of nothing but pray for his soul. Gatz observed the setting sun in the distance, intently. As if looking for something. An answer? a clue? what to think?... it no longer mattered. Soon enough, his body gave in and he lost consciousness, falling into the ground. 
Moments later, two figures approached them.&lt;/center&gt;
&lt;img src=&quot;images/113-2.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Amelia:- &quot;It appears we will not need to intervene in this situation&quot;
Iskios:- &quot;Tsk, I thought you were smarter than this, Doxa. That you&#39;d come to understand the stupidity of all this. I&#39;m disappointed...&quot; -He turned to face his companion. - &quot;Should I execute this Guardian too?&quot;
Amelia:- &quot;Leave him&quot; -Amelia approached the fallen Guardian and spoke softly to the unconscious warrior. - &quot;My dear child, I can see you&#39;ve suffered greatly in this place. But rest easy, your duty has been fulfilled. You can now choose your own path...&quot;
Iskios:- &quot;I&#39;d rather kill this one just like the other... two already started to doubt you&quot;
Amelia:- &quot;I wish nothing but the best for all life in this planet, even those who can&#39;t be saved. I&#39;d rather not resort to unneeded violence if it can be avoided&quot;
Iskios:- &quot;Resort to unneeded violence?... then you&#39;ve got quite a strange way of doing things&quot;
Amelia:- &quot;Your clan is a sacrifice I&#39;m forced to accept for the sake of my other children, those who can&#39;t protect themselves. Your clan&#39;s power is a danger to this world, but they refuse to see that. Many times before, I&#39;ve witnessed the horrors they have subjected this world. I had no choice to protect what&#39;s left of this, my fragile world. But you understand the weight of taking this choice, the immense sacrifice needed to save what you hold most dear&quot;
Iskios:- &quot;... Hmph, whatever you say. I&#39;m wondering about their plans. They were going to hand over their entire strength, but as it turned out both Miseo and Doxa kept theirs. And besides that, they came out to the surface ready to face the Guardians. It&#39;s clear they are trying to create a diversion to let the others escape&quot;
Amelia:- &quot;And where would they go?&quot;
Iskios:- &quot;I don&#39;t know...&quot;
Amelia:- &quot;Then, our time is running out. I must go to Urkan, you and your son just wait for me&quot;
Iskios:- &quot;Gh... make it quick, if you wish to have them all killed before they vanish&quot;

&lt;center&gt;[[The last group]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Regrets&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="44" name="The last group" tags="" position="713,462" size="100,100">&lt;center&gt;In Urkan Tapa, the Wyndians who have proposed to travel in Gaist&#39; place were in a meeting with Sudama. As requested by Father Ganer they were awaiting for some of the Guardians to return, in case they required of the strength of God to face their enemy.&lt;/center&gt;
&lt;img src=&quot;images/114.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Sudama:- &quot;Mmm... they are taking more than expected...&quot;
Ernest:- &quot;Patriarch, we can&#39;t stay here waiting anymore. The enemy could be changing their location and we can&#39;t find Amelia either to help us locate them. We must leave now, and try to stop them while we can&quot;
Ganer:- &quot;But Amitai hasn&#39;t recovered yet and no Guardian has returned...&quot;
Shina:- &quot;We know the risks we are taking, but this is an emergency. If the enemy is too much for us, we will do our best to restrain them as long as we could, until reinforcements arrive&quot;
Eliza:- &quot;I&#39;ve decided to join you, as well&quot; -Eliza suddenly offered her help, determined.
Sudama:- &quot;Are you sure? You don&#39;t have any combat experience, nor any sort of offensive spells, Eliza&quot;
Eliza:- &quot;It&#39;s not important. As long as I can assist them and they can still stand up and fight, we&#39;ll be fine&quot;
Shina:- &quot;Your assistance is very much appreciated, I thank you for that&quot;
Sudama:- &quot;Then it is decided. No one here can fanthom what awaits you out there, but you have my blessing to go. Let God guide you to your fates, warriors&quot;

&lt;center&gt;Once outside the Patriarch&#39;s chamber, Shina took Eliza apart from the team for a moment.&lt;/center&gt;

Shina:- &quot;I said that, but I fell obligated to ask you as well. Are you certain of this? There&#39;s no guarantee we are coming back alive. We all understand that&#39;s a very real possibility and accept it, but you don&#39;t have to. There&#39;s no need to risk yourself in a battle that&#39;s not yours&quot;
Eliza:- &quot;But it is, princess. This war is against us all, not only for the warriors. And now that there&#39;s none with us, I&#39;ve made up my mind. I&#39;ll risk everything for my people&quot;
Shina:- &quot;Risk everything? Are you doing this for Garland? Or perhaps...?&quot; -Shina turned down and looked at the young woman&#39;s stomach. She did nothing to hide her surprise.
Eliza:- &quot;Heh, so you noticed it. Indeed...&quot;
Shina:- &quot;Are you really willing to risk that life breathing inside you too...?&quot;
Eliza:- &quot;I don&#39;t want to, but this is something I must see with my own eyes. I could sense it, Garland is struggling with self-doubt. There&#39;s something in this war that&#39;s not apparent to us, and I too want to know what it is. I only want the best future for everyone...&quot;
Shina:- &quot;... I can understand that. There are truths hidden away in every conflict, it is a reality that repeats itself over and over in the course of this world&#39;s history. I&#39;ve read about so many wars, I know it is never a simple matter. Very well, I will not try to dissuade you anymore... and I swear, I&#39;ll make sure nothing comes to put your life at risk&quot;
Eliza:- &quot;Thanks, princess...&quot;
Ernest:- &quot;You have my word as well, lady Eliza&quot; -Ernest irrupted as the two women were talking.
Shina:- &quot;So, you were peeping on us then?&quot;
Ernest.- &quot;... No, no. I just thought you two needed...&quot;
Shina:- &quot;Very rude of you, Ernest. I thought you better than that&quot;
Ernest:- &quot;... Well, excuuuuse me princess for worrying&quot;
Eliza:- &quot;Huhu... let&#39;s go, everyone&quot;

&lt;center&gt;The three started their journey back to the Wyndian area, close to the abandoned tower where the enemy was last known to be.

[[The Wheel of Fate]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Decision&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="45" name="The Wheel of Fate" tags="" position="606,464" size="100,100">&lt;img src=&quot;images/VS07.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;To Ernest&#39;s susprise, the enemy in front of them was one he has met before. Although he knew little of him, it took a few seconds to realize his presence in that place shouldn&#39;t have been unexpected.&lt;/center&gt;
&lt;img src=&quot;images/115.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Ernest:- &quot;Iremia...I had a hunch you&#39;d show up eventually&quot;
Shina:- &quot;You know him?&quot;
Ernest:- &quot;We were training partners back at Crescent Island. He wasn&#39;t very talkative or spoke about his past, but right now I can understand why&quot;
Irema:- &quot;You&#39;re a smart guy, Ernest. So how did you figured out I was a Dragon?&quot;
Ernest:- &quot;Before leaving this War, Gaist revealed to me that Alitheia, the young woman we met shortly after finishing our training, was a member of the Dragon Clan&quot;
Iremia:- &quot;Ah, I see. And she told you about me&quot;
Ernest:- &quot;I had my suspicious since you two were close friends, but I wasn&#39;t entirely convinced until now. But it all makes sense now, specially what she told us about you, about the curse that restrains your true power and how you went to see the Kamaitachi to help you get rid of it. Right now, seeing you standing here against me, I can easily deduct that power is the power of the Dragon Clan&quot;
Iremia:- &quot;Right, Ernest. A long time ago, I tried to break the curse many times through many methods, even putting my life at risk... but nothing ever bore fruit. In that situation Alitheia recommended that island where she herself trained during her youth&quot;
Ernest:- &quot;So... did you found what you were seeking there, in the island?&quot;
Iremia:- &quot;You&#39;ll have to find out here. I know you&#39;re not here to hear my life story... you intend to cut it short&quot;
Shina:- &quot;Wait a moment. What are your intentions with this? What&#39;s the end plan? What benefits are you looking to achieve doing this?&quot;
Iremia:- &quot;From the beginning, we never sought anything related to all this, Princess. You and your allies were the ones who put the Wheel of Fate into motion, starting this whole debacle for all of us. You blindly followed what you were told without ever considering anything else. As far as I&#39;m concerned, you willingly became puppets of an evil and egotist being and allowed this whole situation to reach this point. And you are now trying to understand what&#39;s happening? That&#39;s insulting. There&#39;s no point of return now for you all, don&#39;t even entertain the thought&quot; -For a moment, it seemed Iremia&#39;s voice broke up from its usual calmness into a more threatening tone, but he remained composed the whole time.

&lt;center&gt;Iremia braces himself and starts a quick attack against Ernest. His arms sharp as swords and his speed many magnitudes above the Wyndian knight&#39;s.&lt;/center&gt;

Ernest:- &quot;(Tsk... his quick barrage of attacks doesn&#39;t allow me any chance to counterattack... his defense is perfect, he never lowers it for a second...)&quot;
Shina:- &quot;(I can&#39;t do anything to help with my magic, there are no openings in his movements to strike a decisive blow)&quot;
Iremia:- &quot;What happens now? I figured you came here ready to kill me. If you keep holding back, you may be the ones easily murdered&quot;
Ernest:- &quot;Don&#39;t need to remind me! Waah!&quot; -Ernest attempts a quick horizontal slash, but Iremia dodges it and performs a direct counter hit.
&lt;img src=&quot;images/116.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Ernest:- &quot;Ghg... he went through my armor...&quot; -The strength of Iremia&#39;s arms managed to pull past the knight&#39;s defense without resistance.
Iremia:- &quot;You have impresisve skills, but Wyndians not only lost their wings but also the native agility which characterized them in the past. Your chances of winning this fight are close to zero, my friend&quot;
Shina:- &quot;Ernest! &lt;strong&gt;Typhoon!!&lt;/strong&gt;&quot;
Eliza:- &quot;&lt;strong&gt;Restore!&lt;/strong&gt;&quot;
&lt;img src=&quot;images/117.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Iremia:- &quot;That&#39;s your plan now? I don&#39;t believe you will hold up too long merely pushing and healing each other. And I&#39;m not even fighting seriously&quot; -Iremia changed his peaceful tone into a much more menacing and serious one. It resembled what his voice almost broke into the first time.
Shina:- &quot;Ernest, are you alright?&quot;
Ernest:- &quot;Y-yes... although this is a deep wound...&quot;
Eliza:- &quot;We must think of something...&quot;
Shina:- &quot;I have an idea... it&#39;s very risky, but it may be our best shot now...&quot;
Iremia:- &quot;Interesting, show me what you can do. Let&#39;s see if you can survive the next attack... &lt;strong&gt;Saiha!&lt;/strong&gt;&quot;
Shina:- &quot;Now Eliza!&quot;
Eliza:- &quot;&lt;strong&gt;Speed!!&lt;/strong&gt;&quot;
&lt;img src=&quot;images/118.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Ernest:- &quot;Princess, watch out!&quot;

&lt;center&gt;Shina quickly moves to one of Iremia&#39;s sides, but she can&#39;t manage to fully avoid the cutting attack from the enemy and it nicks one of her wings.&lt;/center&gt;

Iremia:- &quot;Not even with that speed boost you were able to avoid my attack. Are you suicidal?&quot;
Shina:- &quot;Not at all, I just needed to get close enough... for this! &lt;strong&gt;Wind Strike!&lt;/strong&gt;&quot;
Iremia:- &quot;What!? My entire body is being restricted... I can&#39;t move!&quot; -Iremia struggled but he couldn&#39;t move freely due to the strong winds generated by Shina&#39;s spell.
Shina:- &quot;Rather than try that, you should maybe look behind you&quot;
Iremia:- &quot;What!?&quot;
&lt;img src=&quot;images/119.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Ernest:- &quot;You couldn&#39;t predict our strategy. You thought the Speed spell was for the Princess, but in truth she was only a distraction so I could get in close enough with the speed boost miss Eliza provided me. And all this to use my best technique&quot;
Iremia:- &quot;Your sword put inside the scabbard... that can only mean one thing... Master Tenkai&#39;s technique...&quot;
Ernest:- &quot;Right, Iremia. The technique with the power to annihilate any demon. &lt;strong&gt;Demonsbane!!&lt;/strong&gt;&quot;
&lt;img src=&quot;images/120.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;With one swift movement, Ernest took his sword out and Iremia found himself surrounded by a powerful energy.
&lt;img src=&quot;images/121.png&quot; style=&quot;max-width: 100%;&quot;&gt;
With incredible speed that escapes human sight, Ernest performs a precise diagonal cut over his enemy, who flies back off the battlefield.&lt;/center&gt;
&lt;img src=&quot;images/122.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Iremia:- &quot;Gha... impressive... for a bunch of normal humans... to be able to put someone like me in this situation...&quot;
Ernest:- &quot;How&#39;s your wing, Princess?&quot;
Shina:- &quot;I&#39;ll live... the shoulder is hurting more than the wing, actually... I wasn&#39;t expecting his attacks to be that wide&quot;
Ernest:- &quot;Everything turned out exactly as you planned. Give up already Iremia, this is over&quot;
Iremia:- &quot;Sorry, but I&#39;m not the kind to give up so easily&quot;
Shina:- &quot;(There&#39;s something strange here... is he-)&quot;
Eliza:- &quot;... Are you really demons!?&quot;
Shina:- &quot;Eliza...&quot;
Iremia:- &quot;Oh, what&#39;s that now? Why are you asking that?&quot;
Eliza:- &quot;This whole time, we&#39;ve been fighting against you after what you did to our people, after destroying our town. Your powers threaten the entire world... but what I&#39;m seeing here... feels different. This doesn&#39;t feel like that time. There&#39;s no bloodlust, your fighting is not the same... you are feeling hurt, you&#39;re suffering. This whole Holy War, there&#39;s something hidden behind it all... please, tell me!&quot;
Ernest:- &quot;...&quot;
Iremia:- &quot;Hidden? There&#39;s no such thing, lady. You believe your precious God, aren&#39;t you? There&#39;s no reason you should doubt what you&#39;ve been told, right? We attacked first... we hold the power to destroy the world... we are demons threatening all life...&quot;
Shina:- &quot;But, haven&#39;t you put the world into danger in the past? You&#39;ve been the cause of untold tragedies in the past... why should we believe you are victims here?&quot;
Iremia:- &quot;You shouldn&#39;t, isn&#39;t that the answer? I said there&#39;s no point in speaking now, so... want to see what is that your &#39;God&#39; fears about us so much? Want to experience the true power she so desperately wants gone? I will humor you&quot;

&lt;center&gt;[[Spirit]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Fight9&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="46" name="Spirit" tags="" position="608,574" size="100,100">&lt;img src=&quot;images/123.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Ernest:- &quot;What is this... air I&#39;m feeling around him... it&#39;s threatening... but somehow calm?&quot;
Iremia:- &quot;The result of my training. I did manage to obtain what I&#39;ve sought for so many years. My true power has been released, the curse defeated. And that only means one thing: death is inminent&quot;
Shina:- &quot;No... it can&#39;t be...&quot;
Iremia:- &quot;Take a good look, observe the legendary power held by the Dragon Clan. Haaaa!!!&quot;
&lt;img src=&quot;images/124.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;Iremia is surrounded by a violet light, as his body starts adopting a different shape. 
The whole place rumbles as the power is unleashed. The monsters and animals in the vicinity felt this terrorific power and ran away in fear. 
A few seconds after, his form is finally revealed. &lt;/center&gt;
&lt;img src=&quot;images/125.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Shina:- &quot;What... kind of creature is that? Not even in the history books I&#39;ve read does a dragon with that appearance ever been described...&quot;
Iremia:- &quot;This is the pure essence of us, Dragons, a power that trascends time, space and even dimensions. A divine power that surpass even your god. This is the true reflection of our souls... &lt;strong&gt;Astral&lt;/strong&gt;&quot;
Shina:- &quot;...&quot;
Ernest:- &quot;It&#39;s imponent... we can&#39;t beat him. We must hold him off until one of the Guardians arrives... so we can together fight a power of that magnitude&quot;
Iremia:- &quot;Too late, my friend. You now can only choose to defeat me or die trying, there&#39;s no help coming. Your friends will not arrive&quot;
Ernest:- &quot;Ahh... do you have some plan, Princess?&quot;
Shina:- &quot;I&#39;m afraid to say... but none&quot;
Ernest:- &quot;That&#39;s truly worrying to hear...&quot; -Drawing a nervous smile but never letting his guard down, Ernest thought to himself that if not even the Princess could think out a way out of this situation, they were truly lost. - &quot;...regardless, I&#39;ll do my best to fight him. Take the chance to esca-&quot;
Iremia:- &quot;Enough chatter, your time is up. If you&#39;re not going to take the first turn, then I&#39;ll do it. Time to die, Ernest. &lt;strong&gt;Eraser!&lt;/strong&gt;&quot;
&lt;img src=&quot;images/126.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;Astral took off the ground and in the blink of an eye, shoot a powerful energy beam at Ernest. &lt;/center&gt;
Ernest:- &quot;AHHHH!!!&quot;
Eliza:- &quot;Kyaaa!&quot;
Shina:- &quot;Ernest! Eliza!&quot;
&lt;img src=&quot;images/127.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Ernest:- &quot;Da-damn you... your strength... is truly without equal...&quot; -Barely holding his stance upright and with one eye closed shut, Ernest did his best to hold his guard as he observed the dreaded Dragon return to his position.
Shina:- &quot;Eliza, are you alright?&quot;
Eliza:- &quot;I-I&#39;m... I can&#39;t see... that attack did something to my eyes...&quot;
Shina:- &quot;Ghh... (We are running out of time. Ernest is probably close to dying... his armor is the only thing that protected him, but I can see his body is barely holding up, he&#39;s going to collapse soon enough... and Eliza has been blinded now... now what can I do? Think, our survival depends on it! Come on!...)&quot;
Iremia:- &quot;Not for nothing you are one of Wyndia&#39;s finest, Ernest. You&#39;d better enjoy your final moments here...&quot; -As the white dragon reared back, the winds around him started to feel the pressure of his aura. Once again, a dreadful yet calm feeling inundated the battlezone.
Shina:- &quot;(... I can only think one option left... it&#39;s a extremely risky bet, it doesn&#39;t guarantee victory but only our demise if it backfires... but given the situation... it&#39;s all or nothing!) Eliza, you think you can increase Ernest&#39;s defense?&quot;
Eliza:- &quot;Yes... I only need to find him...&quot;
Shina:- &quot;Ernest!&quot; -Shina turned her sight toward her loyal knight, a determined and strong stare he met with a nod.
Ernest:- &quot;Words are not needed, Princess. I understand loud and clear, it&#39;s going to be the last strike I&#39;d be able to make&quot;
Shina:- &quot;I knew you would understand. Very well, let&#39;s go together!&quot;
Iremia:- Ready for the final attack? Come at me, then&quot;
Ernest:- &quot;Woooooh!!! &lt;strong&gt;DEMONSBANE!!&lt;/strong&gt;&quot;
Eliza:- &quot;(Now!) &lt;strong&gt;Protect!&lt;/strong&gt;&quot; -Eliza was able to pinpoint Ernest&#39; location by hearing his yell.
Iremia:- &quot;That&#39;s it? You&#39;re so naive... that attack isn&#39;t going to be as effective as before on me. You wasted your last turn!&quot;
Shina:- &quot;Don&#39;t count me out yet! Now it&#39;s my turn... to summon the maximum wind spell! &lt;strong&gt;Tornado!!&lt;/strong&gt;&quot;
Iremia:- &quot;What!?&quot;
&lt;img src=&quot;images/128.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Shina:- &quot;My final attack, a double-edged sword...&quot;
Iremia:- &quot;I understand now... but everyone fighting here is going to suffer the same massive damage...&quot;
Shina:- &quot;All or nothing, there was no other option left... you will not resist this combined attack, Iremia!&quot;

&lt;center&gt;A powerful tornado rushes through the battle zone fiercely, inflicting massive damage on everyone and leaving them on the brink of dead.
Ernest manages to just barely resist the shredding winds thanks to the defense boost and thus manage to complete the second step of his deadly technique. But as the move approaches its target, something suddenly happens...&lt;/center&gt;
&lt;img src=&quot;images/129.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Ernest:- &quot;What the...!? Can&#39;t be... did he turned back to normal!?&quot;
Shina:- &quot;As I suspected... &lt;strong&gt;Shapechanging&lt;/strong&gt;...&quot;
Iremia:- &quot;My sincerest congrations, warriors. You did it, you managed the impossible. You defeated the &#39;demon&#39; in front of you...&quot; -The Dragon stood still in place, and received the full brunt of his opponent&#39;s techniques without resistance.

&lt;center&gt;[[The price to pay]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Fight6&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="47" name="The price to pay" tags="" position="716,572" size="100,100">&lt;img src=&quot;images/130.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;The &lt;strong&gt;Demonsbane&lt;/strong&gt; leaves a deep cut through Iremia&#39;s body. Losing his remaining strength, he falls to his knees heavily.&lt;/center&gt;
Ernest:- &quot;That&#39;s impossible... then, your transformation was...&quot;
Iremia:- &quot;Yes... it was only an illusion... a reflection of the essence hidden in the deepest recess of my soul... in the end, my skills couldn&#39;t be restored... any attempt at breaking the curse failed...&quot;
&lt;img src=&quot;images/131.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Tenkai:- &quot;Iremia, I&#39;m sorry I can&#39;t help you anymore. Even thought Alitheia brought you here seeking a way to break that curse that torments you, regretably I must admit there are things that go far beyond our capabilities&quot;
Iremia:- &quot;Don&#39;t worry about it. You did more than enough by teaching me that skill, even if it&#39;s not the real thing...&quot;
Tenkai:- &quot;Oh, but it is real. Don&#39;t misjudge what you have learned. It is real, a true reflection of what remains in your soul&quot;
Iremia:- &quot;I appreciate your words, master&quot;
Tenkai:- &quot;It is always unfair to pay the prize of another one&#39;s sins. I hope that one day that weight pressing against your soul disappears and you can finally discover your true self&quot;
Iremia:- &quot;Master Tenkai, I&#39;ll be forever in gratitude&quot;

Iremia:- &quot;Ah... I only hope that my death... can clean away the sins from the past that befell my blood... my death... with my death ends a tainted lineage...&quot;
Ernest:- &quot;Iremia...&quot;
Shina:- &quot;Why did you do this? Why did you do nothing to prevent your death?&quot;
Iremia:- &quot;I&#39;m not sure... what you mean by that...&quot;
Shina:- &quot;You can&#39;t trick me. You never tried to escape nor counter-attack us and resumed your normal form before the final strike reached you, when you would have had a better chance of resisting it in your other form. I&#39;m also now certain that from the beginning you never attacked us with a true intention to kill&quot;
Iremia:- &quot;Haha... nothing escapes you, Princess. Very observant... true, my intention was never to kill you... my only objective was to waste time... and to show you just how truly dreadful our powers are... but it&#39;s not like I could keep that appearance for much longer... even if I truly wanted to kill you, my defeat was a fact... since the moment I put a foot in this land...&quot;
Shina:- &quot;Then why? Why show us your strength if you never intended to use it fully to kill us?&quot;
Iremia:- &quot;You&#39;re a clever girl... you will get it eventually, maybe before anyone else...&quot;
Eliza:- &quot;Please, I can&#39;t understand it... please, tell me what is hidden behind this all! Why you did all this just to die? Why was our town attacked? Tell me the truth, I beg you!&quot;
Iremia:- &quot;I&#39;m sorry, Miss... I&#39;m not the one you should ask those questions... I can only tell you this... we all pay a prize for our sins, be it either our guilt, our naivete, our greed... even for the sins that are not ours... your Guardians will one day realize that as well... one day...&quot;
Eliza:- &quot;...&quot;
&lt;img src=&quot;images/132.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Shina:- &quot;He died...&quot;
Ernest:- &quot;Iremia... I... as your training partner, I can only pray your soul can find rest after so much suffering...&quot; -Ernest approached the body of Iremia, placed it down and covered it with his cape.
Shina:- &quot;Eliza, are you ok?&quot;
Eliza:- &quot;... Yes, but I don&#39;t think I&#39;ll ever recover my sight. Not even my healing spells can bring it back...&quot;
Shina:- &quot;You were of great help here, but still... I promised to keep you safe... I&#39;m sorry all the injuries we&#39;ve caused you. I just...&quot;
Eliza:- &quot;Don&#39;t say it. I... I&#39;m grateful for your help. Now I think... I think I can see everything clearer...&quot;
Shina:- &quot;Eliza...&quot; -Shina could easily observe she wasn&#39;t being fully honest. Was she really satisfied by what she witnessed here? A heavy silence overcame the whole area...
Ernest:- &quot;You can see... not literally, right?&quot; 
Shina:- &quot;What the... you idiot, this is no time to joke!&quot; -Shina strikes the weakened man&#39;s head.
Ernest:- &quot;Argh! My last... life... point...&quot;
Shina:- &quot;I can&#39;t believe it...&quot;
Eliza:- &quot;Hahaha. Thanks for that... I really needed to laugh...&quot;
Shina:- &quot;Eliza...it&#39;s better we go back&quot; -Observing tears were starting to form under the young woman&#39;s eyes, Shina took her by the arm. - &quot;Let&#39;s go, there&#39;s nothing else to do here&quot;
Eliza:- &quot;...&quot;

&lt;center&gt;The three departed back to Urkan. And in this way the curtain closed down on another bloody battle. 
Despite the tears in her eyes, Eliza was able to understand better Garland&#39;s feelings, and his confusion. Carrying doubts in her heart, they left that place and the lifeless body of the last descendant of the cursed lineage behind.

[[Steel Beach]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Cadaver&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="48" name="Steel Beach" tags="" position="826,570" size="100,100">&lt;center&gt;Close to Urkan Tapa, in an area overflowing with scrap metal known as Steel Beach, the last survivors of the Dragon Clan were gathered. 
Guided by the young Maiden and Jono, they were readying themselves for a travel without return.&lt;/center&gt;
&lt;img src=&quot;images/133.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Sophia:- &quot;We&#39;ve arrived at last, to Steel Beach. Until now we&#39;ve managed to move through underground this long trek as a way to avoid our presence to be detected. From here on now, we must make haste since we can&#39;t be certain how long will last the wards used by Jono&quot;
Jono:- &quot;I&#39;m really thankful everyone for having granted me your power. I swear I&#39;ll continue living until the chosen one destined to receive them arrives at my presence&quot;
Old Man:- &quot;We have put our trust in you, son of Skandali&quot;
Sophia:- &quot;Now Kirin will guide you to the place where the ancient transporting technology Deis told us is found, meanwhile Jono and I will go to the antenna on the upper floors in order to start up the mechanism&quot;
&lt;img src=&quot;images/134.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Sophia:- &quot;Just as Deis said, it appears to be fully functional. We only need to activate it and we&#39;ll instantly reach the Lost Shore&quot;
Jono:- &quot;...&quot; -With his head down, Jono couldn&#39;t mask the sadness from his eyes.
Sophia:- &quot;What&#39;s wrong?&quot;
Jono:- &quot;They shouldn&#39;t all have to sacrifice themselves. We should have stood together in this ordeal, and yet... we...&quot;
Sophia:- &quot;Jono... it was their destiny. Every living being has a destiny to follow, and even if it&#39;s a tragic one we must walk forward&quot;
Jono:- &quot;... will we be able to survive? We have no idea what awaits us at the other side. So far from everything we&#39;ve ever known, leaving behind our land... our hometown, Dragnier... everything...&quot;
Sophia:- &quot;Our ancestors had to do this sacrifice in the past as well, remember? They had no doubts when they left everything to move underground, for the sake of the world. Just as they did before, we will move and rebuild a new Dragnier in those unknown lands, awaiting for the chosen one to arrive&quot;
Jono:- &quot;How long will we have to wait, Sophia? You don&#39;t even know if it&#39;s going to happen...&quot;
Sophia:- &quot;... We don&#39;t know how long it will take, but be certain Jono. He will come, no matter how long it takes him. I know we are asking too much of you, but we&#39;ll have to be patient and wait. The weight we&#39;ve placed upon your shoulders... to be the keeper of our essence, the last thing keeping our clan alive... the key to defeat the goddess in the distant future. I can only ask your forgiveness...&quot;
Jono:- &quot;Don&#39;t say that, I agree to this task with everything it meant to. I may have doubts, but that decision is one I&#39;ll never regret ever. My father would be proud of that, I think atleast&quot; -Showing some shame for having doubts and worries, the young man quickly tried to get back to his usual humor and confident self after hearing Sophia&#39;s words.
Sophia:- &quot;Of course he would, Jono. We are all. Now let&#39;s go, the machine appears to be ready&quot;

&lt;center&gt;[[Portal]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Ogre&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="49" name="Portal" tags="" position="826,684" size="100,100">&lt;img src=&quot;images/135.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;Portal Drive Activated. Current Location: Relay Point A. Enter destination:
Colony
Temple
Container yard
Relay Point B
Quit&lt;/center&gt;

Sophia:- &quot;The temple sounds like an adecuate place to rebuild Dragnier&quot;
Jono:- &quot;Ok, let&#39;s bring everyone here&quot;
Sophia:- &quot;You go first. I&#39;ll go later with Kirin after first making sure no one can follow us&quot;
Jono:- &quot;Ok, but don&#39;t take too long please&quot;
Sophia:- &quot;You need not worry, it&#39;ll take us a few minutes at most&quot;

&lt;center&gt;Target: Temple
Destination locked&lt;/center&gt;

Sophia:- &quot;Good luck, everyone&quot; -Sophia said goobye to everyone with a shining smile in her face.

&lt;center&gt;The portal started up and a strong shine came out of it, and in less than an instant everyone standing inside its circle disappeared completely. The only ones left behind were Sophia and Kirin, the former showing a nostalgic expression.&lt;/center&gt;
&lt;img src=&quot;images/136.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Kirin:- &quot;Why lie to them?&quot;
Sophia:- &quot;Ah... I&#39;m certain Jono would have opposed my decision... I couldn&#39;t face him&quot;
Kirin:- &quot;So... what about you? Are you determined to go through with this?&quot;
Sophia:- &quot;Yes. As the Dragon Maiden it is my duty to ensure their safe travel and living, to make sure no one can find them after. Let&#39;s go, we have things to do&quot;

&lt;center&gt;Sophia went back to the antenna while Kirin scoured the construct and made sure to create obstacles to block the path to the portal.&lt;/center&gt;
&lt;img src=&quot;images/137.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Sophia:- &quot;Is it done already?&quot;
Kirin:- &quot;Indeed. Anyone reaching this place, besides having to deal with the monsters in the area, will have to find a way to open every door and make way into the portal room&quot;
Sophia:- &quot;As well as moving the antenna into the right position. With these measures, the portal should be effectively deactivated. Did you manage to alter the name display in the portal&#39;s screen?&quot;
Kirin:- &quot;Yes, it now refers to the location as &#39;Dragnier&#39;&quot;
Sophia:- &quot;Good. The chosen one will have to face these obstacles and dangers, but in the end he will be able to reach the new Dragnier through the same path. As its prophetized&quot;
Kirin:- &quot;So what&#39;s next?&quot;
Sophia:- &quot;We must go back to our old home. We must continue blocking and removing any path that can be used to reach this place&quot;

&lt;center&gt;Kirin picks up Sophia in his arms and prepares to jumps.&lt;/center&gt;
&lt;img src=&quot;images/137-2.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Sophia:- &quot;...&quot;
Kirin:- &quot;... what?&quot;
Sophia:- &quot;You really don&#39;t need to do anything else. This has nothing to do with you... if you wanted to...&quot;
Kirin:- &quot;... hm hm hm...&quot;
Sophia:- &quot;Did I say something funny?&quot; -She said with a tone mixing both a bit of embarassment and a little annoyance.
Kirin:- &quot;I think I was very clear before. There&#39;s no other place I&#39;d rather be. I&#39;ll stand at your right, until the end&quot;
Sophia:- &quot;... thanks. I really appreciate that&quot;

&lt;center&gt;Jumping off the top they safely reach Steel Beach and move back into the subterranean road.

[[New World]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Sanctuary&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="50" name="New World" tags="" position="713,686" size="100,100">&lt;center&gt;On the other side of the world, the dragons found themselves in the ruins of a temple. 
Abandoned since untold centuries, uninhabited and desolated. Guiding the whole clan, Jono took a few steps outside and observed the place and its surroundings. There was clearly nothing visible as far as his eyes could see. 
This new world was far away from civiliation and everything they had once knew.&lt;/center&gt;
&lt;img src=&quot;images/138.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Jono:- &quot;We have no choice. This will become our new Dragnier&quot;
Old man:- &quot;There&#39;s no use, chief... the device has stopped working entirely&quot;
Jono:- &quot;Agh... I knew it. I had the suspicious she&#39;d do this. It bothers me she didn&#39;t told me anything. Sophia...&quot;
Old man:- &quot;She probably knew, as well, that you&#39;d have never accepted something like this&quot;
Jono:- &quot;I know... yet, even then...&quot;
Old man:- &quot;What do we do now, chief?&quot;
Jono:- &quot;We must first get ourselves some resources, fortunately although desolate this place still houses animals and monsters. There&#39;s even a river at the distance where we can catch some fishes. After that, we must rebuild this temple, we will need to communicate with the Dragon God and to do that we&#39;ll need to create a link with these monuments. I will assist you for as long as I&#39;m able, but the wards used to nullify the power of the clan and let me remain undetected by Myria are not going to last too long. Their strength is fading already...&quot;
Old man:- &quot;And what will you do once this happens?&quot;
Jono:- &quot;I&#39;ve noticed a deep well ahead. Just like our ancestors did before us, I will hide myself alone below ground, deep enough where it will be impossible to detect me. Then, I will wait&quot;
Old man:- &quot;But... how long will you stay there? how will we know when the Chosen One arrives?&quot;
Jono:- &quot;I don&#39;t know. Decades, perhaps even centuries... but that is my duty to fulfill. You shall wait here and look over the device&#39;s entrance. The Chosen One will arrive through the same path we arrived. The first person to come out from those doors, that is the one who will save our clan. Keep this legend alive and communicate it to the young ones. Pass it along generations until the Chosen One arrives&quot;
Old man:- &quot;I&#39;ll make sure it will be done, chief&quot;
Jono:- &quot;Sophia... thanks for everything... and goodbye...wish you&#39;d have let me say that to you, atleast...&quot;

&lt;center&gt;The Dragon Clan survivors prepared to fulfill their destiny. Just like Sophia, who right then was taking care of the last details...

[[Fatal Destiny]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Missing&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="51" name="Fatal Destiny" tags="" position="605,686" size="100,100">&lt;img src=&quot;images/VS08.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;In the deepness of the old Dragnier, the young Maiden traveled the empty corridors and cavernous chambers of what was once her home. What once was the home of many generations of the Dragon clan. 
As she was readying herself to travel into the deepest parts, she noticed a figure standing in his way. Upon gazing him, her entire body froze in place, a cold chill running through her. The man blocking the path in front of her was...&lt;/center&gt;
&lt;img src=&quot;images/139.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Sophia:- &quot;Iskios... what are you doing here?&quot;
Iskios:- &quot;I&#39;ve been searching for you, McCarran. I can see you&#39;ve finally did it, everyone relinquished their powers at the end. Even though not everyone agreed to that&quot;
Sophia:- &quot;...&quot;
Iskios:- &quot;Tell me... where are the others. Where are they hiding&quot;
Sophia:- &quot;... What are your intentions, Iskios?&quot;
Iskios:- &quot;I&#39;ve made them very clear, since the beginning. My only concern is Teepo&#39;s safety. And in order to achieve that... you all will die by my hand&quot;
Sophia:- &quot;... no, this can&#39;t... have you sold your soul to the enemy!?&quot;
&lt;img src=&quot;images/140.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;Sophia was surprised to her very core. She couldn&#39;t process what she just heard... but the sudden scream pulled her out of her daze instantly. She has never heard Iskios this... furious.&lt;/center&gt;
Iskios:- &quot;Like you have the right to speak!!! You betrayed our people, you all sold them by accepting to take this bullshit position as martyrs!! You all know very well... we would have murdered those Guardians like nothing, but instead decided to escape and allow them to murder us... and for what!? Tell me, Maiden of the Dragon... for what!? destiny? WHAT KIND OF DESTINY JUSTIFIES THAT!?&quot;
Sophia:- &quot;Iskios... don&#39;t you understand? This has all been a plan from the goddess to make us leave our hiding place. She was banking on that... if we chose to fight, you know what would have been the result. The entire extermination of all living beings and our complete annihilation. She knew that, that&#39;s why we...&quot;
Iskios:- &quot;That&#39;s all you have to say? Does that even change anything!? By choosing not to fight back, no one has been left to stop the goddess and her plans. Are you really placing all your hopes in an ancient legend? A stupid legend that&#39;s never going to happen!? That was all you and the others were really thinking would save us!?&quot; -Iskios took a few moment to catch his breath and calm himself. - &quot;History is already written, Maiden. We are marked as demons whose elimination was required so we wouldn&#39;t erase all living things on this world. Perhaps that&#39;s what we should have become, it&#39;d have been better than just stand idle and die, or run away and hide in some dirty villa as exiled. We have always held the superior power over all other clans, we could have dominated them all, impose peace through force. Control everything so no one has to fear, like how it was once&quot;
Sophia:- &quot;That wouldn&#39;t have stopped anything. Rebuilding an empire to opress people would have led us back to what happened when our clans were split into two. That wouldn&#39;t have prevented what ultimate...&quot;
Iskios:- &quot;Shup up already. I&#39;m tired of all your excuses!&quot;
Sophia:- &quot;... so what now, Iskios? What will you do now? Murder me?&quot;
Iskios:- &quot;You&#39;re powerless now, Maiden. First you will tell me where to find the others. And don&#39;t expect any pleasantries, I will not hesitate to get the information any way necessary&quot; -He cracked his hands together, as he started stepping forward.
Sophia:- &quot;...&quot;
Iskios:- &quot;What&#39;s that? Ah, right... are you trying to nullify my powers to? You&#39;d need the assistance of the Dragon God for that, Maiden&quot;
Sophia.- &quot;Wha-... so you knew...&quot; -Her expression quickly shifted from fear to shame.
Iskios:- &quot;You really thought I was that stupid. The sensation when leaving for the outside world was unmistakeable. It started as soon as that barrier fell and lasted until Skandali&#39;s death, right?&quot;
Sophia:- &quot;...&quot;
&lt;img src=&quot;images/140-2.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Dragon God:- &quot;Is something wrong, Sophia?&quot;
Sophia:- &quot;Oh my Lord, there is something worrying me...&quot;
Dragon God:- &quot;Please, tell me&quot;
Sophia:- &quot;Now that the final barrier was shattered, they will be closer than ever to Dragnier. And there are several members willing to fight against the Guardians on the surface, they will not back down even if we ask them... they don&#39;t understand the situation, fighting is only going to unleash more chaos upon the world, and guide the goddess right to this place, ensuring our downfall&quot;
Dragon God:- &quot;Indeed, if the goddess manages to locate Dragnier, it will be our clan&#39;s end&quot;
Sophia:- &quot;Is there something we could do? Perhaps...&quot; -A deep silence muted the Maiden&#39;s words for a moment. - &quot;I think there&#39;s only one... choice left for us. We must... we must nullify the transformation abilities from everyone still on the surface...&quot;
Dragon God:- &quot;Mmm... it is true our clan has once taken such a drastic decision, after our first encounter with the Goddess, to avoid a war of such magnitude to ever happen again. But that decision was one willingly took by all surviving members of our clan. Do you realize what you&#39;re proposing to do now, Maiden? Are you determined to carry out such a measure without their approval?&quot;
Sophia:- &quot;It&#39;s the only way we can ensure our clan&#39;s survival...&quot;
Dragon God:- &quot;Are you aware you will be condemning them to die in the hands of the goddess&#39; emissaries?&quot;
Sophia:- &quot;I am... and the weight and suffering of this sin is something I am willing to carry out forever... if it&#39;s to ensure our clan and the world&#39;s safety&quot;
Dragon God:- &quot;Not only your actions to bear, but the resentment and suffering of those your actions are going to affect?&quot;
Sophia:- &quot;I will. They may never forgive me for this, but I will accept their feelings and pray for their forgiveness&quot;
Dragon God:- &quot;Alright my child, I will speak no more. I can only assist you by covering the entire surface with my presence so you can extend the effect of your magic wards. The nullification effect will not be perfect, but it will be enough to restrict them&quot;
Sophia:- &quot;It should be enough. Now that we have lost Deis... this is our only option to ensure our escape...&quot;
Dragon God:- &quot;It shall be done, then&quot;
Sophia:- &quot;(Everyone... I hope one day, you will forgive me for this...)&quot;
&lt;center&gt;With the help of the Dragon God, the magic wards&#39; effect extend over the entire world&#39;s surface, weakening any dragon&#39;s attempt to counterattack their executioners.&lt;/center&gt;
Iskios:- &quot;Heh, so selfish and hypocrital. But I&#39;m no longer surprised the extend you bastards went to ensure our demise. What you did is unforgivable, Maiden. Not content with only letting our own die like animals, you assisted in their genocide. Perhaps the monicker of demon does fit you&quot;
Sophia:- &quot;It was the only choice they left us...&quot;
Iskios:- &quot;More excuses. But I don&#39;t justify them either. They were weak and pathetic, they should have realized what was happening like I did. Unlike them all, I no longer depend on my transformation alone&quot;
Sophia:- &quot;What do you mean?&quot;
Iskios:- &quot;I&#39;ve obtained a power even greater than that. Now watch closely, Maiden of the Dragons. Watch the power granted by the Goddess!&quot;
&lt;img src=&quot;images/141.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Sophia:- &quot;Wh-what is that...? His body is turning fully black and strange energy is flowing through him, one I&#39;ve never felt or seen before...&quot;
Iskios:- &quot;This is something from beyond this dimension...&quot;
&lt;img src=&quot;images/142.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Sophia:- &quot;What have you done to yourself, Iskios?&quot;
Iskios:- &quot;&lt;strong&gt;Dragonized Form - Tri&lt;/strong&gt;. Thanks to the Goddess, I&#39;ve been allowed to create a bond with a power from outside this world&quot;
&lt;img src=&quot;images/143.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Iskios:- &quot;How are you planning on fulfilling your end of our deal?&quot;
Amelia:- &quot;You have nothing to fear, Dragon. My intervention in this world has mostly drained me of my power, so my only choice to ensure everything happens as it must happen is to trust you to find your own and give them death&quot;
Iskios:- &quot;And then?&quot;
Amelia:- &quot;I promise you Eden. You will live forever at my side, no more worries or dangers for you or my children in this world&quot;
Iskios:- &quot;Do you mean it?... But even with my strength, something can still go wrong. If Jono makes use of the focused power gathered from all our clan...&quot;
Amelia:- &quot;What worries you is your son... am I correct?&quot;
Iskios:- &quot;Exactly. What ensures me none of your lapdogs will find and kill him while I&#39;m away?&quot;
Amelia:- &quot;If that worries you, then...&quot;
&lt;img src=&quot;images/144.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Iskios:- &quot;Teepo!! What the hell are you doing!?&quot;
Amelia:- &quot;I just put him to sleep. In this way, no one will be able to find him. If you perish, he will stay in this form for centuries, barely aging. And once he wakes up, I will take care of him and guide him to Eden, as promised. If you survive, you only need to come back here and break the Chrysm to release him. Is this arrangement acceptable to you?&quot;
Iskios:- &quot;... I suppose&quot;
Amelia:- &quot;I&#39;m running out of energy. Since you don&#39;t have absolute trust in your strength, my final act will be to grant you a trip to the world of dreams, where you will find what you need. &lt;strong&gt;Spiritual World - Therapy!&lt;/strong&gt;&quot;
Iskios:- &quot;W-what... wait-!&quot;

&lt;center&gt;Iskios falls into a deep sleep, enshrouded by complete darkness, cold and silence. 
Once the veil of the dark dissipates, a large space extending infinitely is revealed. A profound and desolate void. In this moment, another presence appears.&lt;/center&gt;
&lt;img src=&quot;images/145.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Iskios:- &quot;Who are you!? Where am I!?&quot;
Tri:- &quot;I am Tri. It appears someone made our encounter possible through the world of dreams. In a space inside your mind given shape&quot;
Iskios:- &quot;I don&#39;t understand... what are you?&quot;
Tri:- &quot;An experiment. We share the same genetics. The same blood, however&quot;
Iskios.- &quot;Are you a dragon?&quot;
Tri:- &quot;A part of me. But we don&#39;t belong to the same world nor the same time...&quot;
Iskios:- &quot;What are we doing here then?&quot;
Tri:- &quot;It is my understanding that our encounter is not by chance, but the works of a superior being. You arrive at a moment when my life is about to end... do you wish more power?&quot;
Iskios:- &quot;... yes... to defend my son...&quot;
Tri:- &quot;Reasons are meaningless to me. If you wish power, I will bestow upon you a bond to me. Use it wisely... because your body may not endure it for long. Heed my warning: the longer you need my power, the closer you&#39;ll come to death...&quot;

&lt;center&gt;The dragon transforms into an orb. Upon touching it, Iskios feels an unknown power flowing inside his body.&lt;/center&gt;

Iskios:- &quot;After waking up, I found myself alone. It was not a dream, I truly met a being in that place who gave me this power&quot;
Sophia:- &quot;But Iskios... your body... those cracks, that power is consuming you slowly...&quot;
Iskios:- &quot;Feigning care again? Shut up. This power will be enough to annihilate everyone left quickly, so I will be able to go to Eden with Teepo. There&#39;s no way out of this, Maiden. You are no match to me without your powers&quot;
Sophia:- &quot;... I really didn&#39;t want to do this... but if you wish a fight, then I have no choice...&quot;
&lt;img src=&quot;images/146.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Iskios:- &quot;Kirin!?&quot;
Kirin:- &quot;Indeed, Iskios. We will take you down together&quot;
Sophia:- &quot;Is it done?&quot;
Kirin:- &quot;Yes. No remains of Dragnier are left, nor is there any sign of the path the others took&quot;
Iskios:- &quot;Still, what are you two planning to do? Even together, you&#39;re still defenseless against me&quot;
Sophia:- &quot;True. We can&#39;t do anything... by our own.&quot;
Iskios:- &quot;Eh!? Are you telling me...&quot; -It took nothing more than that and a quick glance at Kirin for Iskios to realize what was about to happen.
Kirin:- &quot;Yes. During my years of training at Crescent Island, I manage to restore the long-lost skill from my clan, the Night Runners: Fusion&quot;
Sophia:- &quot;... I know I must be sounding very repetitive by now... but Kirin, I&#39;m sorry... for having to ask you this&quot; -She held her friend&#39;s hand and saw him straight into the eyes, barely holding her tears back.
Kirin:- &quot;It&#39;s not here I take this choice, Sophia. I&#39;ve taken it since the moment I said I would support you. I owe both you and Kyrios everything, so giving up my life in this way is the greatest honor I could ever feel... to help your clan, to help the Prince. My feelings remain unchanged since the very first time I stepped into this conflict&quot;
Sophia:- &quot;... Thanks again, my dearest friend. For everything&quot;
&lt;img src=&quot;images/147.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;Sophia and Kirin join their hands together and their bodies start to shine brightly, merging together into a single shape.&lt;/center&gt;
&lt;img src=&quot;images/148.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Iskios:- &quot;Amazing. I would have never imagined you could make use of the legendary Fusion technique...&quot;
Sophia:- &quot;Give up, Iskios. We don&#39;t desire to fight against our own. Our enemy is the same: the goddess&quot;
Iskios:- &quot;Too late for that, Maiden. The Goddess promised us a paradise, while you wished only to drag us into a Hell of misery and solitude. You can&#39;t even start to understand what I can do with this new form&quot;
&lt;img src=&quot;images/149.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Sophia:- &quot;Those are... the souls of other Dragons!?&quot;
Iskios:- &quot;Indeed. The spirits full of resentment and hatred towards you. Those who weren&#39;t given any choice in the matter. Because you restrained them, you deceived them, betrayed them. Now, many of them remain in that accursed place... Angel Tower... suffering for eternity. All thanks to you&quot;
Sophia:- &quot;Stop this! The anger and resentment is taking over! They are going to become true demons!&quot;
Iskios:- &quot;And you care about that NOW!? That bastard god and you are the real demons. Traitors who decided those who remained on the surface must die and for what? For daring to fight back the murderers, for daring to protect what was by right theirs. They found out, you know? The moment they saw the blades coming down to cut their heads off and they couldn&#39;t use full use of their power. Their desperation, anger, confusion... their pain... is all on your bloodied hands&quot;
Sophia:- &quot;...&quot;
Iskios:- &quot;Finally you have nothing to say? Then allow me. Those spirits suffering in agony... now want their REVENGE!!&quot;
&lt;img src=&quot;images/150.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Sophia:- &quot;... No. You are no longer Dragons, your souls have been twisted beyond recognition. You are souls consumed by hatred... As the Maiden of the Dragon Clan, my final act will be to stop you one more time!&quot;
&lt;img src=&quot;images/151.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Iskios:- &quot;&lt;strong&gt;The Legendary Dragon&#39;s Giant Form!?&lt;/strong&gt;&quot;
Sophia:- &quot;This doesn&#39;t need to end this way, Iskios. You are reaching your limits...&quot;
Iskios:- &quot;It was you who pushed us to this point, Maiden. You care not for what we felt. You interfered with us, restricted us. I wasn&#39;t alone in opposing the stupid decisions you all took in our sake!! And now we are all aware of what you did to ensure we would not survive!!&quot;
Sophia:- &quot;You would have fell into the goddess&#39; trap...&quot;
Iskios:- &quot;That didn&#39;t give you the right to choose for us! To deny us our right to fight! You gave some the choice between dying or going into exile. And to others, you only gave them one choice: to die without understanding why. They deserved that! I choose paradise in exchange of eliminating you all, the worst cowards and traitors our clan has ever known&quot;
Sophia:- &quot;Iskios... I see words are pointless now. Fate can&#39;t be changed, and only the future will reveal if were were right or wrong. The time for regrets has passed. Come, fight me!&quot;
Iskios:- &quot;Die, you reviled one!!&quot;
&lt;img src=&quot;images/152.png&quot; style=&quot;max-width: 100%;&quot;&gt;

&lt;center&gt;[[The Destined Child]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Fight7&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="52" name="The Destined Child" tags="" position="604,798" size="100,100">&lt;center&gt;The clash of energies made the interior of the Earth to shake.
Multiple places across the globe felt the earthquake produced by such a terrible encounter.
In the blink of an eye, a terrible explosion happened in the center where the two forces met.&lt;/center&gt;

Iskios:- &quot;S-so much power... this is impossible... you damn traitor... you... we... we are never going to rest... until we see every single one of our executioners dead... Teepo... I wish for you... to reach Eden...&quot;

&lt;center&gt;And so the phantom Dragon vanished without leaving a trace behind. The legendary Giant Dragon, weakened to almost exhaustion, managed to drag herself to a distant hope over which she lied down, then closed her eyes. &lt;/center&gt;
&lt;img src=&quot;images/153.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Sophia:- &quot;Ah... this is the place... I must block this path... Ryu...&quot;
&lt;img src=&quot;images/154.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Deis:- &quot;Are you sure of this?&quot;
Kyrios:- &quot;Our decision is taken&quot;
Sophia:- &quot;It is his fate&quot;
Deis:- &quot;Alright then. These measures are a necessity in case this war continues onward and Myria achieves what she seeks. If possible, you two should escape to the place I indicated&quot;
Kyrios:- &quot;Our destiny is not the same. But in the end, we will end up together again&quot;
Deis:- &quot;Hmph, understanding that kind of stuff is not really my forte, I&#39;m content trying to help. Now, give me your son&quot;
Sophia:- &quot;Goodbye Ryu...&quot;
Kyrios:- &quot;May the Dragon God guide your path...&quot;
&lt;img src=&quot;images/155.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;Deis used her magic to keep the young boy&#39;s presence hidden from any threat, deep within the darkness of what was once and for a long time the home of all Dragons. &lt;/center&gt;

Sophia:- &quot;My dear son... I will be protecting you from now on... even in death... from anyone trying to taint you... from anything trying to hurt you... Ryu...&quot;

&lt;center&gt;The Dragon Maiden entered a deep, eternal sleep.

[[Dragon Warrior]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Healing&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="53" name="Dragon Warrior" tags="" position="712,800" size="100,100">&lt;img src=&quot;images/VS09.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;On his way to Mt. Myrneg, Guardian Garland questioned many thinks about his upcoming encounter. Doubts have taken over his heart after he was witness of the terror the Dragon could instill in others. Were they all this powerful? If so, why they didn&#39;t fight back? Are they truly demons? What secrets are they hiding?
Garland knew this would certainly be the last chance to uncover the truth. 
Once he reached the top of the mountain, he saw a man standing there, peacefully looking at the horizon. He could not detect any murder intent from him.&lt;/center&gt;
&lt;img src=&quot;images/156.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Kyrios:- &quot;I&#39;ve been waiting for you, Guardian&quot;
Garland:- &quot;I&#39;ve been waiting for this meeting too&quot;
Kyrios:- &quot;Is your desire to kill me that strong?&quot;
Garland:- &quot;Not this time. I have many questions, and I&#39;m hoping this encounter will give me the answers I seek&quot;
Kyrios:- &quot;Don&#39;t you think it&#39;s a bit too late to get assaulted by doubts?&quot;
Garland:- &quot;...&quot;
Kyrios:- &quot;You&#39;ve already annihilated almost all Dragons by now. Your mission is reaching its end. What are you planning to do next?&quot;
Garland:- &quot;I don&#39;t think that far away. It will depend on the answers I get right now...&quot;
Kyrios:- &quot;I see. Perhaps your inquiries will be answered once one of us lays dead on the floor&quot;
&lt;img src=&quot;images/157.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Garland:- &quot;If you&#39;re like the others, then it shall not take that long&quot;
Kyrios:- &quot;I can tell you I stand among the strongest members of my clan. That is, if you wish to trust my word&quot;
Garland:- &quot;If that&#39;s the case, then this shall be entertaining&quot;
&lt;img src=&quot;images/158.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Garland:- &quot;Aren&#39;t you taking a fighting stance?&quot;
Kyrios:- &quot;I wonder, how many times did you ask that before?... Did you even wait for the others before you killed them?... Did you asked the children and old people before your blade fell upon them?&quot;
Garland:- &quot;Tsk... stop playing games with me!&quot;
&lt;img src=&quot;images/159.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;Garland strikes forward at his rival, but he moves with incredible speed to dodge the direct blow and grab the Guardian&#39;s spear as it flew with a single hand. &lt;/center&gt;

Garland:- &quot;Mh... impressive, can&#39;t move it back...&quot;
Kyrios:- &quot;What&#39;s the matter? First time you see your powerful attacks being dodged and blocked? Am I correct?&quot;
Garland:- &quot;...&quot;
Kyrios:- &quot;It must be a shock to you. For the duration of this conflict, you&#39;ve been overwhelmed in power only by Deis. But do you know why it was that way?&quot;
Garland:- &quot;Of course. The strength granted by God is a gift that was given to us to match and overcome your evil power and save His world&quot;
Kyrios:- &quot;Wrong&quot;
&lt;img src=&quot;images/160.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Garland:- &quot;Gah! This freezing wind... is too intense...&quot;
Kyrios:- &quot;C&#39;mon, Guardian. If you just stand there idle, your entire being will be frozen solid. Is this the way you expected to get answers? By dying?&quot;
&lt;img src=&quot;images/161.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Garland:- &quot;This is a very powerful attack, but nothing I can&#39;t resist through!&quot;
Kyrios:- &quot;Quite impressive. You were able to switch to a defense position while inside my &lt;strong&gt;Chill&lt;/strong&gt; spell&quot;
Garland:- &quot;Save the mocking remarks, demon. Now it&#39;s my turn!&quot;
&lt;img src=&quot;images/162.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Kyrios:- &quot;A magic spell?&quot;
Garland:- &quot;It&#39;s clear direct melee strikes will not work against you, so I&#39;ll opt for a different approach. Burn to smithereens engulfed by the strength of the sacred fire gifted by God. &lt;strong&gt;INFERNO!!&lt;/strong&gt;&quot;
&lt;img src=&quot;images/163.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;Kyrios sees himself surrounded by the flames of the powerful &lt;strong&gt;Inferno&lt;/strong&gt; spell, unable to dodge or defend himself.&lt;/center&gt;
&lt;img src=&quot;images/164.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Garland:- &quot;Mh... it seems in the end they weren&#39;t as powerful as I thought. Although you&#39;re still alive, it seems this battle is about to end...&quot; -Garland stated to his enemy as it lay on the ground, disappointed upon seeing his final opponent brought to his knees with one attack.
Kyrios:- &quot;Ah... heh... I guess I truly underestimated you, Guardian. Although I never expected this form would be enough... I must admit that strength that was given to you is indeed enough to defeat any member of our clan... as long as they don&#39;t make use of their full powers&quot;
Garland:- &quot;This form?... full powers? What nonsense are you talking now?&quot;
Kyrios:- &quot;When you were murdering my people... did they change their appearance?&quot;
Garland:- &quot;Yes... they turned into winged creatures...&quot;
Kyrios:- &quot;And why do you think that happened?&quot;
Garland:- &quot;You lose your human visage when you are killed, shedding the form used to deceive and go undetected to reveal your true, demonic appearance&quot;
Kyrios.- &quot;True, that&#39;s what you&#39;re told. Wrong again, Guardian. Truth is both appearances are real, we can die in either. The only difference between them is that our true power is hidden within our Dragon form&quot; -standing up, Kyrios shook off the dust out of his clothes and looked forward.
Garland:- &quot;...&quot;
Kyrios:- &quot;So you say you&#39;ve only seen this form when my people dies? Have you ever killed someone while in this form?&quot;
Garland:- &quot;One time...&quot;
Kyrios:- &quot;His name was Skandali, although I&#39;m pretty sure you never asked or cared to know. Was he like the rest? Did he put no resistance?&quot;
Garland:- &quot;...&quot;
Kyrios:- &quot;Silence speaks louder than any words, Guardian. Let me help refresh your memory about that moment. Relive the fear, the impotency, the desperation you felt then. Remember what it felt to discover your own inferiority once again. Haaaaaa!!&quot;
&lt;img src=&quot;images/165.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;Kyrios begins to unleash a golden energy from all over his body. The entire area darkens as the Guardian prepares to attack without being able to take a single step. The pressure generated by his enemy brought to him feelings he felt once before, back at the moment he thought the Holy War was over. 
His eyes were glued to the target in front of him. Then, finally, Kyrios revealed his final form.&lt;/center&gt;
&lt;img src=&quot;images/166.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Kyrios:- &quot;&lt;strong&gt;Quicksilver&lt;/strong&gt;. So, what do you think? Did this brought back something? Fear, perhaps?&quot;
Garland:- &quot;I can sense you&#39;re not the same man from before... but I never fear in the face of battle&quot;
Kyrios:- &quot;That I can see. After all, your hand didn&#39;t shake every time you brandished your blade down on my people. Still thinking your God&#39;s strength will be enough to match me?&quot;
Garland:- &quot;The strength granted by Him is capable of miracles...&quot;
Kyrios:- &quot;Miracles? I can see your confidence remains undeterred. Or maybe it&#39;s haughtiness and obstinacy what I&#39;m seeing? Whatever the case, if you feel ready... then strike at me!&quot;
Garland:- &quot;... Ghh... Niuyoo!!&quot;
&lt;img src=&quot;images/167.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Kyrios:- &quot;Too slow&quot;
Garland:- &quot;This means nothing! I only need to use &lt;strong&gt;Inferno&lt;/strong&gt; once again to defeat you like the first time!&quot;
Kyrios:- &quot;You can try, but this time it will not work. My speed has increased tenfolds, I can not only dodge your movements with ease but even prevent you from taking any action&quot;
&lt;img src=&quot;images/168.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Garland:- &quot;(W-when did he... reached my side?)&quot;
Kyrios:- &quot;&lt;strong&gt;Elemental Strike!!&lt;/strong&gt;&quot;
&lt;img src=&quot;images/169.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;Kyrios&#39; attack strikes the Guardian instantly with a potent blow infused with the elements of fire, ice, thunder and wind simultaneously.&lt;/center&gt;

Garland:- &quot;Argh! THAT WAS NOTHING!!&quot;
&lt;img src=&quot;images/170.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Kyrios:- &quot;You managed to endure my attack and even counterattack. Once again, I&#39;m genuinely impressed. It&#39;s probable you are the strongest among the Guardians... and the one who has murdered the most &#39;demons&#39; as well&quot;
Garland:- &quot;Tsk...&quot;
Kyrios:- &quot;Are you proud of that?&quot;
Garland:- &quot;... It was my duty, as given by God... there is no greater honor than to serve Him&quot;
Kyrios:- &quot;You are not answering my question. I&#39;d say it&#39;s evident that you enjoyed murdering targets that didn&#39;t fight back and only ran away. That made you feel superior, like a hero chosen by destiny and granted the power to effortlessly vanquish thousands of demons, without a single scratch. So many fights and you never felt any sense of danger or fear for your life, holding absolute divine power. You felt above them all, absolved of any consequence for the sake of your god&#39;s commands. Such conceit... its disgusting&quot; -Kyrios&#39; tone started to change the more he spoke, turning his once soft and tranquil voice into a furious roar.
&lt;img src=&quot;images/171.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Kyrios:- &quot;And now you take the defensive? Running out of strategies so fast?&quot;
Garland:- &quot;I&#39;ve underestimated your power... it&#39;s clear you were speaking the truth, you are the strongest demon in your clan&quot;
Kyrios:- &quot;So that&#39;s it? You think the others who fell by your hand were that much inferior to me?&quot;
Garland:- &quot;There&#39;s no doubt about it! If they were this powerful... why let themselves be killed without resistance!? Why don&#39;t take us out who were hurting them!? KILLING THEM!? Are you demons or martyrs!? What reason can you have to take this actions in the face of death!?&quot;
Kyrios:- &quot;And finally, you reveal yourself... beneath that conceit lies a confused heart. Your mind is in total turmoil right now. No matter how hard you try, the answers you seek keep eluding you. Unfortunately, and unlike the way you think everything works... nothing comes that easy!&quot;
&lt;img src=&quot;images/172.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Kyrios:- &quot;Your defense is useless against this attack. This is the end for all of you. Witness the true end of this senseless war. &lt;strong&gt;Aura!&lt;/strong&gt;&quot;
&lt;img src=&quot;images/173.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;The spiritual image of Quicksilver rams against Garland ignoring his defense and producing critical damage, leaving him kneeling on the ground.

[[Answers]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Fight8&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="54" name="Answers" tags="" position="828,795" size="100,100">&lt;center&gt;Although struck with great force, Garland refused to yield. For a moment, the confused Guardian remained in absolute silence. But soon his eyes recovered some of his determination, and he slowly rose back up, holding himself up as he once again faced his opponent. But by the time he turned his eyes to the position of his rival, his back was turned to him. &lt;/center&gt;
&lt;img src=&quot;images/174.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Garland:- &quot;What are you doing? You&#39;re indeed powerful... but I&#39;m yet to admit defeat&quot;
Kyrios:- &quot;So that wasn&#39;t enough to answer your questions?&quot;
Garland:- &quot;Your attacks are incredibly strong... and yet, you failed to deliver a fatal blow. Our fight is still far from over&quot;
Kyrios:- &quot;You&#39;re so truly naive, then. Don&#39;t you realize how much I held back?&quot;
Garland:- &quot;You&#39;re holding back now?... or that was the best you could muster? You&#39;ve proven nothing. I can still kill you in the next attack&quot;
Kyrios:- &quot;If that&#39;s your takeaway from our fight... then perhaps you should seek those answers on your own, elsewhere&quot;
Garland:- &quot;What...?&quot;
Kyrios:- &quot;It&#39;s not up to me to make you understand. If you truly wanted, this battle should have cleared your doubts. The meaning behind this war, our motivations, Deis&#39; motives, even your so-called &#39;God&#39;... but it seems, even in confusion, you remain adamant in ignoring what lies in front of you&quot;
Garland:- &quot;I&#39;ve felt your incredible powers twice now... but I&#39;m still unsure they are enough to defeat us. If I&#39;m so blind to the truth, then come on and take your revenge! Prove me wrong!&quot;
Kyrios:- &quot;It&#39;s no use... very well, I&#39;ll present you a goodbye gift then&quot;
Garland:- &quot;A goodbye gift...? What are you talking about?&quot;
Kyrios:- &quot;If you desire it so much, I&#39;ll show you. The power your god fears above everything. The power capable of bringing ruin to this world. The power that branded us &#39;demons&#39; in this war&quot;
&lt;img src=&quot;images/175.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Garland:- &quot;What the-!? What&#39;s this?&quot;
Kyrios:- &quot;These are my friends, Guardian. Each one of them decided the place and manner in which they&#39;d die. Alitheia was led by her heart, Miseo wished to end the cycle of sins, Iremia wanted to die over his spirit and history, Doxa preferred to give up his life for his mission as a warrior, just like all of you. And me, I knew you&#39;d come here, the Dragon Slayer, the one who murdered Skandali and proclaimed the end of the Holy War... you&#39;d seek me for answers. Answers I hoped you&#39;d eventually reach after having a true fight...&quot;
Garland:- &quot;...&quot;
Kyrios:- &quot;Their souls still have one last will, Guardian. So observe this well, and engrave this moment in your memory. The ultimate, absolute power held by our clan&quot;
&lt;img src=&quot;images/176.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;The spirits of the dragons merge with Kyrios. A powerful quake affects the entire world and the dark sky takes on a ominous red tinge. 
The legendary power of the Dragon Clan has been, once again, unleashed on this world.  &lt;/center&gt;
&lt;img src=&quot;images/177.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Kyrios:- &quot;&lt;strong&gt;Kaiser Dragon&lt;/strong&gt;&quot;
Garland:- &quot;K-Kaiser... Dragon!? This... sensation... impossible... this kind of power... awakened thanks to those other fallen souls!?&quot;
Kyrios:- &quot;Ghh... this is what our clan is truly capable of...&quot;
&lt;center&gt;Cold sweat ran down Garland&#39;s forehead. This was similar to that moment with the old Dragon... but the pressure was inmensely different. Nonetheless, now he was ready. Gathering up all his body&#39;s strength, he remained in his battle stance, spear ready, for the next move. This is it, his mind thought... this is the battle that will clear away his doubts. But his enemy made no further moves...&lt;/center&gt;

Kyrios:- &quot;Remember this form well, Guardian... as this... and even more... will be capable... the last Dragon...&quot; -Kyrios&#39; voice weakened and trembled as he tried to retain control over a form that greatly overwhelmed his physical resistance.
Garland:- &quot;L-last Dragon...? What are you...?&quot;
Kyrios:- &quot;He&#39;s the one... who will have to decided whether... to destroy this world... or save it... farewell... Guardian...&quot; 
&lt;img src=&quot;images/178.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;Kyrios emitted a mighty roar that forced Garland down on his knees. 
Garland never took his eyes out of the powerful dragon in front of him. This is truly their power? There&#39;s still one Dragon alive in the world? What remains hidden behind this Holy War? Were they on the side of truth in the end? There was no point to any of that then, as he observed the powerful Dragon ascend into the sky, and disappear with one final roaring snap which dispersed the clouds.
Garland kept searching for answer within his heart, but there was only an empty void. In the end, he accomplished nothing. As the night fell, his exhausted body finally gave up and he let himself fall down. For a moment, he remained in silence, just observing the night sky. 
But that could not last forever, and soon enough he was on his way back to Urkan...

[[The Endless]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;BadEnd&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="55" name="The Endless" tags="" position="828,912" size="100,100">&lt;img src=&quot;images/VS10.gif&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;Far away from the world of humans and monsters, far above in the celestial sphere, was located in complete solitude the one who watches over humanity and their progress, dutifully protecting them of their own folly. The being that controls the destiny of the world, moving the invisible threads from behind scenes. 
For the Guardians, the God that granted them life. For the Dragons, the Demon that sentenced them to death.&lt;/center&gt;
&lt;img src=&quot;images/179.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Myria:- &quot;I must be getting old if this kind of activity weights on me this much. But this... this was necessary to protect my children, those who can&#39;t protect themselves... from those whose powers are too much for them to control, and their pride too high to see for themselves&quot; -Myria turned to the inmobile frame of Amelia.
Myria:- &quot;Amelia, my empty puppet; the Strength I granted to my children in Urkan; the seal to ensure my sister sleeps eternally and doesn&#39;t interfere with my world anymore; accessing the spiritual world Therapy... It will take a long time for my powers to fully recover. But that worries me not... even thought they opposed me, even thought they knew no better... they were still my children as well. I could not risk your powers to put my world or my weaker children in danger. I pray one day they will understand...&quot; -A tear ran down the otherwise unchanged face of the Goddess.
Myria:- &quot;But there&#39;s still one. If one day he awakens from the deep sleep I&#39;ve placed him in, I shall receive him with the entirety of my love, and grant him the Eden his father desired so strongly. Until that day arrives, my Teepo... please, sleep in peace&quot;

&lt;center&gt;The Goddess, Myria. In this way the most brutal conflict reaches its end, a page on the history she has disposed.

[[Farewells - Gaw]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Maternal&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="56" name="Farewells - Gaw" tags="" position="711,909" size="100,100">&lt;center&gt;Time passes, and eventually everything went back to normal in Urkan Tapa. 
Their inhabitants slowly returned to their normal lives, a peace they were forever grateful to their God&#39;s protection. Everyone breathed in an air of victory. 
Inside the town&#39;s church, a mass in honor of the Guardian Gaw, fallen in the line of duty, had just finished. The only ones still present were Patriarch Sudama, father Ganer and the blacksmith Halberd, the warrior&#39;s brother. &lt;/center&gt;
&lt;img src=&quot;images/180.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Ganer:- &quot;It&#39;s incredible to think Gaw was killed...&quot;
Halberd:- &quot;I still can&#39;t believe it. It&#39;s not real... even with the power of our God, he did...&quot;
Sudama:- &quot;We must remember that even divine strength has its weakness. It&#39;s an unfortunate loss, but nothing anyone could have done about. Not when those cowardly demons prepare an ambush...&quot;
&lt;img src=&quot;images/181.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Sudama:- &quot;Gaw is dead!? Are you certain!?&quot;
Amelia:- &quot;Unfortunately. The moment I reached the volcano&#39;s interior, I realized it. Guardian Gaw was already defeated by the demon, who sprung a surprise ambush alongside other assassins. There were many against one. But even in such a circunstance, he managed to fight them to a standstill. When I arrived, I found the ashen remains of our warrior and the demon, about to perish. I finished him quickly, even if I lack the same powers as your God&quot;
Sudama:- &quot;We should have foreshadowed something like this, that they&#39;d try such a tactic... this was all my fault&quot;
Amelia:- &quot;There is nothing any of us could have done. He still fought bravely and valiantly, and should be remembered as such&quot;
Sudama:- &quot;I hope the other Guardians and the Wyndian emissaries are safe...&quot;
Amelia:- &quot;I&#39;d be glad to be of assistance, but I&#39;m almost devoid of strength left&quot;
Sudama:- &quot;Don&#39;t worry, you&#39;ve already done more than enough for our people. We will be forever in your debt&quot; -Bowing out to their ally, the Patriarch excused the young magician who assisted them for this long, and she proceeded to approach the town&#39;s exit when someone called for her attention.
&lt;img src=&quot;images/182.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Kanzei:- &quot;Wait a moment, Miss Amelia&quot; -From nowhere appeared the astute merchant, wearing a smug smile on his face. 
Amelia:- &quot;Oh? You are... the merchant from Wyndia?&quot;
Kanzei:- &quot;Kanzei McNeil, at your service. I beg your pardon, but I couldn&#39;t help myself but hear your conversation with the Patriarch just now. And how you lied to him straight to his face&quot; -The merchant&#39;s eye reflected a sneering glare.
Amelia:- &quot;Is that so? And you are so sure of that...&quot;
Kanzei:- &quot;When I came back here a while ago, I figured I could follow that warrior named Gaw in case he&#39;d be needing a new weapon. You see, me and the guardian argued a little about his equipment, and he was stubbornly against turning down that defective tool his incapacitated brother made for him. It was a very risky choice on my part, but I decided to follow him expecting that thing he called an &#39;axe&#39; would fail him, because assisting him in such a moment would have not only secured me a place in history, but even greater fame and fortune. In those circunstances, I bear witness to the whole battle inside that volcano&quot;
Amelia:- &quot;I see&quot;
Kanzei:- &quot;But you don&#39;t need to worry one bit, Miss. Because I care nothing about what motivated your actions. It&#39;s the reason I believe we can reach a mutually-benefical agreement, don&#39;t you think?&quot;
Amelia:- &quot;So you want something for your silence?&quot;
Kanzei:- &quot;You&#39;re as smart as I was hoping you&#39;d be. What can you offer this old gentleman in return, Miss? I&#39;m pretty sure there&#39;s some invaluable treasure of your clan you could part ways with, something that could match the prize of keeping your secret. Hehehe&quot;
Amelia:- &quot;Huh, what a vile human. You disgust me&quot;
Kanzei:- &quot;Reconsider your next move, Miss. You can&#39;t do anything here that wouldn&#39;t call up the townspeople&#39;s attention. You don&#39;t want that&quot;
Amelia:- &quot;I only came here to prevent this town&#39;s faith in me from faltering so they wouldn&#39;t believe a mere demon was able to stand against my strength. And still I run into disgusting people like you&quot;
Kanzei:- &quot;... your strength?&quot;
Amelia:- &quot;The strength of God&quot;
Kanzei:- &quot;What the...!?&quot; -Instantly, McNeil&#39;s skin turned pale like a ghost&#39;s and he stood frozen in place, unable to speak a single word. Although she appeared weak, her presence has suddenly overwhelmed him.
Amelia:- &quot;You shall fear nothing, weak mortal. In this marionette I use it is impossible for me to kill anyone, this is merely a medium to maintain control of the situation. But that doesn&#39;t mean I can&#39;t punish you for what you attempted. You&#39;re still one of my children I swore to protect, but your evil must can not go unpunished&quot; -Amelia raised one arm and a terrifying image appeared inside the greedy man&#39;s head. 
&lt;img src=&quot;images/183.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Kanzei:- &quot;W-w-w-w-w-wha-what was that!?&quot;
Amelia:- &quot;That terror shall haunt you for the remainder of your mortal life. Your memories will be tormented by nightmares, your memories and sanity will slowly be eroded by time. For this offense against my presence, your lineage shall be tainted, every single one of your close ones will share your cursed destiny. And not even in death shall any of you be free of the grip of terror, you and all your descendants shall suffer eternally&quot;
Kanzei:- &quot;(A-a-a-a-ahhhh... ahhhh!!!)&quot; -Twisted screams started to fill the merchant&#39;s mind, but his mouth remained shut. He wanted desperately to scream and cry, but no sound ever came out. His eyes reflected the abject fear in his mind, but his semblance remained undisturbed. Looking desperately around invaded by a primal fear he couldn&#39;t express in any way to anyone, Kanzei ran away and disappeared into the town. 
Amelia:- &quot;No one will ever know your true suffering, they will see a wrecked man, forever marked a paranoid. Let that be your punishment, my child&quot;

&lt;center&gt;Amelia then left the place and went to meet up with Iskios to fulfill their pact. 
Kanzei McNeil will live the few years he has left borded up in his mansion, terrified of the nightmares and afraid of even the slightest shadow, unable to understand why. His son Keiyaku would inherit his fortune and the zone granted to their family as a reward for their cooperation in this battle. 
But as the Goddess promised, the shadow of his father&#39;s curse would one day come to torment him as well, and everyone after...

Back at the present.&lt;/center&gt;
Ganer:- &quot;We should have not underestimated the demons like that... after what happened in Mt. Zublo we should have been more careful and prepare accordingly&quot;
Sudama:- &quot;Gatz and Garland had a difficult time as well, but both claimed there was no demon where they traveled... it&#39;d appear even Amelia&#39;s powers can be deceived&quot;
Halberd:- &quot;It doesn&#39;t matter anymore. My brother fought and died as a honorable warrior. I&#39;m confident his soul is at rest knowing that&quot;
Sudama:- &quot;And what about you Halberd? What are you planning to do now?&quot;
Halberd:- &quot;I&#39;ll make sure my skills and knowledge is passed onto the next generation... and to ensure the weapon I made for my brother and that he carried out in this war is reproduced for the future warriors of Urkan. In his name...&quot;
Ganer:- &quot;I&#39;m sure he&#39;d have liked that&quot;
Halberd:- &quot;Goodbye brother. Rest in peace now, I&#39;ll take over from here&quot; -He raised his eyes up and extended his hand, making his last farewell to the memory of his brother. 

&lt;center&gt;[[Farewells - Gatz]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Light&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="57" name="Farewells - Gatz" tags="" position="602,912" size="100,100">&lt;center&gt;In another room Guardian Gatz was meeting Princess Shina to see her off. &lt;/center&gt;
&lt;img src=&quot;images/184.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Gatz:- &quot;I can see calling you &#39;Princess Broken Wings&#39; makes more sense now&quot; -He said as he observed the wing damaged during her fight with Iremia. 
Shina:- &quot;You dolt. That only happened because we had to do part of the job that was your responsability&quot;
Gatz:- &quot;Indeed, indeed. I thank you once again for that, and as many as you wish... haha&quot;
Shina:- &quot;Still the airhead... say, do you have an idea about the future? What are you planning to do now that its finally over?&quot;
Gatz:- &quot;Frankly, I&#39;m not sure. Right now, my only desire is to rest...&quot;
Shina:- &quot;... that&#39;s not something the Gatz I know would say&quot;
Gatz:- &quot;Who knows, maybe this whole ordeal made me mature&quot;
Shina:- &quot;A hard-headed stonehead with air inside like you... seems unlikely&quot;
Gatz:- &quot;Whatever the case... I only know this has been a tiring conflict...&quot; -Shina&#39;s playful expression soured a bit.
Shina:- &quot;Do you regret it?&quot;
Gatz:- &quot;No... as master Gerdenheim said, even if I&#39;m not completely sure about the meaning behind all this and my actions, I can&#39;t feel regret for my choices. It&#39;d be a disrespect to my rivals&quot;
Shina:- &quot;Uhm... perhaps you did learn something after all, from all this&quot;
Gatz:- &quot;Heh... so, what about you Princess? planning on returning to your castle to live a peaceful existence?&quot;
Shina:- &quot;I wish it were that easy, but there&#39;s a lot of work to do yet. I can&#39;t really have the luxury of resting like you&quot;
Gatz:- &quot;With that attitude, you&#39;re never finding a prince to help rule your kingdom&quot;
Shina:- &quot;There it is again, that familiar stupidity. It&#39;s not like I&#39;m even looking yet, I&#39;m still young to think about those things&quot;
Gatz:- &quot;Not that young&quot;
Shina:- &quot;Silence&quot; -She looked at Gatz with a threatening gaze, and the guardian quickly understood.
Gatz:- &quot;Alright, I&#39;ll stop... it is time to say goodbye, anyway&quot;
Shina:- &quot;I guess so... I&#39;ll send your greetings to the master&quot;
Gatz:- &quot;Thanks, tell him I truly appreciated all he did for me&quot;
Shina:- &quot;We&#39;ll probably meet again, once I get bored of everything. Who knows, maybe you can help me scout out some suitors&quot;
Gatz:- &quot;Ha... you don&#39;t need help with that... Goodbye, Princess. It&#39;s been a pleasure&quot;
Shina:- &quot;...&quot;

&lt;center&gt;Shina said her farewells and started the long route back to Wyndia Castle together with the sorcerer Amitai and the knight Ernest.&lt;/center&gt;
&lt;img src=&quot;images/185.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Ernest:- &quot;So, were you able to say goodbye to Gatz?&quot;
Shina:- &quot;Yes...&quot;
Ernest:- &quot;Is there something wrong?&quot;
Shina:- &quot;He&#39;s really bad at lying, you know. Always was. I&#39;m certain I&#39;ll never see him again&quot;
Ernest:- &quot;Is that so... that&#39;s a shame... I was able to discern that he was a great warrior and a noble person, not unlike Gaist&quot;
Shina:- &quot;Yes... and the father of my future child... too...&quot;
Ernest:- &quot;Yes... and the fathe--&quot; -Ernest stopped right there and looked completely dumbfounded, color fully abandoning his face and his mouth disjointed. He tried to process just what has his ears heard she say.
Ernest:- &quot;W-w-w-w-w-wai-wait wait WAIT W-W-W-WHAT!?&quot; 
Shina:- &quot;Tsk, don&#39;t make such a ruckus. It&#39;s nothing complex really... I just committed... the exact same mistake my ancestor did. I could not maintain the purity of our blood...&quot;
Ernest:- &quot;B-bu-but still... when?... HOW!?...&quot;
Shina:- &quot;Just save us the dramatic takes, Ernest. We are adults, things like this are natural to happen in life. I don&#39;t think or hope I need to explain myself further&quot;
Ernest:- &quot;Alright, alright...&quot; -He tried to calm himself down - &quot;So could it had happened when we arrived to Urkan...?&quot;
Shina:- &quot;The only thing that matters is that my father will not be very happy about this... I&#39;m not sure what to do... he&#39;s always been very dificult to deal wth when it came to this topic...&quot;
Ernest:- &quot;Well, if that&#39;s a problem... I... ehem... I could... tell him it&#39;s m-mine...&quot; -His face turned all red at the mere thought of what he was saying.
Shina:- &quot;Excuuuuse me?&quot; -Shina feigned her surprise.
Ernest:- &quot;It&#39;s not--it&#39;s not like I want to become king or get a promotion--or anything like that. I will- I will just keep being a knight so your father will not think ill of me or worry too much about the future... I&#39;m not one to like lying, but given the circunstances...&quot;
Shina:- &quot;Hopefully you can do better. In fact, I think this is not a totally bad idea. Thanks&quot;
Ernest:- &quot;Wait a minute...! You were already planning everything to go this way, right!?&quot;
Shina:- &quot;Mmmm... sort of, mostly. It came out better, because if I proposed it first it&#39;d look like I was giving you a command&quot;
Ernest:- &quot;Hmph... it&#39;s real hard to counter that expression... I can&#39;t win this one either...&quot;
Shina:- &quot;How long had we been working together? You should know that by now! Anyway, let&#39;s keep on going&quot;
Ernest:- &quot;You&#39;re hopeless...&quot; -The two continued walking forward, while the speechless Amitai remained still on his spot.
Amitai:- &quot;... what... what I just witnessed...&quot; -He quickly broke off his stupor and rushed to reach Ernest, who noticed the princess was walking even faster. Feeling something, he decided to slow his pace a bit. She needed some space, he figured.
&lt;center&gt;As Shina walked ahead by herself, she let some tears fall down her clear eyes and trail off her face. &lt;center&gt;
Shina:- &quot;(I couldn&#39;t tell you, even though I knew what was brewing in that stone head of yours... I will miss you dearly, Gatz... you big dummy)&quot;

&lt;center&gt;Clearing her eyes and steeling her gaze, Shina continued walking forward. 
She never looked back, her steps became stern once again as she whispered a silent farewell to the winds.

[[Farewells - Gaist]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Haiku&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="58" name="Farewells - Gaist" tags="" position="602,1027" size="100,100">&lt;center&gt;Wasting no time after seeing Princess Shina leave, Gatz went straight to the top of Angel Tower. 
Determined, he stepped in front of the stone althar to meditate. Soon enough he sensed a familiar presence standing behind him.&lt;/center&gt;
&lt;img src=&quot;images/186.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Gaist:- &quot;Hello. I hope I can still call you friend...&quot;
Gatz:- &quot;Gaist? What are you doing here?&quot;
Gaist:- &quot;I wanted to speak with you. I knew I&#39;d find you in this place, I had a hunch. Are you seriously thinking on entering the eternal sleep?&quot;
Gatz:- &quot;I&#39;ve been thinking about it long and hard. In the end, there&#39;s nothing else for me to do in this world&quot;
Gaist:- &quot;I&#39;m sure the last battle you faced left you with doubts and fears, just like it happened to me... and I heard of Gaw&#39;s death...&quot;
Gatz:- &quot;This war, Gaist. I could never truly grasp its meaning. But at first, it seemed like a non-issue, it was my mission... our mission. It was also their mission too, I understand that now. But I have no regrets in my heart, it was our fate to see this to its conclusion... and I&#39;m sure they knew as well what fate awaited them. For some reason, this was something that needed to happen... but I&#39;m just exhausted. So everything happened for a reason I can&#39;t understand, but I don&#39;t really care for that anymore. There&#39;s no point in lamenting what happened or feeling regrets... even though those feelings hurt deeply...&quot;
Gaist:- &quot;Even then... to give up your life like this... would it serve any purpose?&quot;
Gatz:- &quot;Who knows, perhaps... but I don&#39;t want to be used again. I don&#39;t want to interfere in the life of anyone else, to sever another life with these hands, reasons be damned. I&#39;m just taking the easy way out, truthfully. But that&#39;s not for you, right? You must continue living. If you are convinced this has been one big mistake, you must keep living until you get that moment to redeem yourself... to redeem us all. I know I&#39;m in no position to ask you this, it&#39;s a heavy burden I&#39;m leaving on your shoulders... but I trust you will do the right thing&quot;
Gaist:- &quot;...&quot;
&lt;img src=&quot;images/186-2.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Gatz:- &quot;It&#39;s happening already... back at the entrance to Angel Tower I left my weapon, the Beast Spear. Please, take it with you. Atleast as a way to remember me&quot;
Gaist:- &quot;I will, friend&quot;
Gatz:- &quot;Farewell, Gaist&quot; -Looking up at the darkened sky, Gatz started to feel how his strength was slowly being drained. He thought he saw a spark shine in the sky for a brief moment... - &quot;Haha... it seems you were spot-on Shina... in the end, I was a true stone head...&quot;
&lt;img src=&quot;images/187.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Gaist:- &quot;I hope we&#39;ll meet once again in the other side, Gatz... I promise you, nothing that happened will be for naught. In the end I will make sure our souls can find the peaceful rest they deserve. I swear...&quot;

&lt;center&gt;The Guardian lowers the stairs of Angel Tower, knowing full well his path will carry him into exile to some distant land in pacient wait for the time of redemption. 
Carrying on his shoulders the feelings and thoughts of so many people...

[[Farewells - Garland]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;SadTribute&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="59" name="Farewells - Garland" tags="" position="712,1026" size="100,100">&lt;center&gt;In a beach close to Urkan Tapa, Guardian Garland found himself meditating in solitude. 
The war was finally over, but turbulent thoughts still clutched at his mind. 
After a while, Eliza arrived at the location. &lt;/center&gt;
&lt;img src=&quot;images/188.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Garland:- &quot;Eliza? What are you doing here? You should stay in Urkan, it&#39;s dangerous for you to go out in your condition&quot;
Eliza:- &quot;I was worried. Even if I can&#39;t see you anymore, I can still sense your presence. That guided me here&quot;
Garland:- &quot;Really?&quot;
Eliza:- &quot;... Nah, Father Ganer brought me here, you silly&quot;
Garland:- &quot;Heh... I guess I&#39;m still way too naive...&quot;
Eliza:- &quot;Now, seriously. What I do feel from you is your heart, and how its filled with pain...&quot;
Garland:- &quot;All this war... Gaist&#39; desertion, Gaw&#39;s death, Gatz&#39;s resolve, God&#39;s strength, the power of the demons... what happened to you, to me... to all of us. Was this all in vain? Could it have been prevented? Is there any meaning in our actions? Who was lying in the end? What I&#39;m supposed to do now?&quot;
Eliza:- &quot;I don&#39;t have the answers you need... the only thing I&#39;m certain is that everything that has happened was inevitable. I understood that thanks to my time in the battlefield. If not you and the Guardians, someone else would have been given this mission. If you refused, probably the entire town would have ended up death regardless of who was speaking the truth and who lied. But, fortunately, it happened to you&quot;
Garland:- &quot;Mh? What do you mean by that?&quot;
Eliza:- &quot;When I fought that de--man... he told me he couldn&#39;t give me answers. And I now realize I&#39;m not the one that can go and find those answers either, even if I still had my sight. But you... I know no matter what you do, you will do the right thing. And that&#39;s why you can&#39;t die or enter the eternal sleep, and you can&#39;t just isolate yourself from the entire world... staying here stagnant in Urkan Tapa, blissfully beloved and praised as a hero. You must leave and see the world for yourself, with your own eyes, walk your own path ahead. No matter how long it will take, you will do everything in your power to clear away those doubts. That&#39;s the only way you&#39;ll find peace when your time to leave this world comes. I will never know the truth behind all that happened... but you will. That I&#39;m also certain&quot;
Garland:- &quot;Thanks, Eliza. Your words are the only answer I truly need right now. That&#39;s the truth that will carry me forward&quot;
Eliza:- &quot;You know I&#39;ll miss you inmensely...&quot;
Garland:- &quot;As much as I will. I&#39;m sorry I can&#39;t fulfill my promise and stay...&quot;
Eliza:- &quot;Don&#39;t worry... it is your duty now, to find your answers... and we&#39;ll be together forever&quot;
&lt;img src=&quot;images/189.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;center&gt;The dim light from dawn covered the place as the couple remained silently observing the ocean. After a few hours Eliza fell asleep. Garland observed her for the last time while drawing a smile filled with sadness. He took her in his arms and carried her back to Urkan Tapa, saying her final goodbye.
Garland then visited Patriarch Sudama, informing him he took one decision: he&#39;d not take the eternal sleep because he had the hunch that evil did not disappear entirely from this world. 

And in this way, Garland started his long journey in search of the truth.

[[Tribute to the Dragons]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Stairway&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="60" name="Tribute to the Dragons" tags="" position="831,1028" size="100,100">&lt;center&gt;Many years went by. 
In the lost continent far away from the known world, where once stood an abandoned temple there was now a new and unique home for the remaining Dragons. 
In the depths of its soil remained the young clan leader Jono in hiding. &lt;/center&gt;
&lt;img src=&quot;images/190.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Jono:- &quot;Ah... wheather here is rather intense... but it&#39;s finally over. I shouldn&#39;t say it, but I have quite the artistic talent, heh... hopefully I didn&#39;t forget anyone because I&#39;m not planning on making it all over...&quot;

&lt;center&gt;Jono stood there observing the image he drew filled with nostalgia. The battle against the Goddess that happened thousands of years ago, the one his father related to him with great passion when he was younger. Remembering the split that once plagued his clan and how diminished it stands now. &lt;/center&gt;

Jono:- &quot;This mural tells part of our history, about the struggles of our people... and it is our duty to keep alive the legends from our clan... until the day the Prince arrives and returns the hope the goddess ripped away from us. This will be done, for you Sophia. For those who died in this Holy War&quot;

&lt;center&gt;On the surface, the temple wasn&#39;t altered too much throrough the years, except for a single wall located above the artifact that brought them all here in the first place. 
The image of a dragon suddenly formed in that monument.&lt;/center&gt;
&lt;img src=&quot;images/191.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Dragon God:- &quot;My presence is weak in here... and I must not bring the Goddess&#39; attention to myself or this place, so I shall enter a deep sleep until the day I shall transmit my teachings to those who would save us and this world. Thanks to you Sophia, and you Kyrios. Your sacrifice will never be forgotten. I&#39;ll be waiting, Prince of the Dragons... Ryu...&quot;

&lt;center&gt;The Dragon Clan prepared itself for a long wait.

[[Pure Again]]&lt;/center&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;playlist stop&gt;&gt;
&lt;&lt;audio &quot;Sand&quot; loop play&gt;&gt;</tw-passagedata><tw-passagedata pid="61" name="Pure Again" tags="" position="827,1140" size="100,100">&lt;img src=&quot;images/192.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Kyrios:- &quot;Ah... ah... w-where am I?... ah... Yggdrasil? Did you call me here? Did you stop my rampage...? My body... it didn&#39;t resist the power from Kaiser... I&#39;m feeling it... I&#39;m getting closer to the... place where all my brothers await for me... I&#39;m sure... this is the Lost Shore... our mission is accomplished, then... Alitheia, Miseo... Doxa, Iremia... the Guardians from the Goddess have opened their eyes... the future is now up to them... and you, Ryu...&quot;
&lt;img src=&quot;images/193.png&quot; style=&quot;max-width: 100%;&quot;&gt;
Kyrios:- &quot;S-Sophia... please, don&#39;t be sad... it was our destiny... our dream... the day will come for us to meet with our son again... of becoming his strength... I... I was afraid... of the future, of those dreams, of destiny... and yet still, only because you were by my side... it was the only reason I found the courage to go on... this world... it&#39;s always flowing with dreams... Well, as I go meet you forever... let me protect this fragile heart of mine, I want to look at the fire in your eyes... while I search for something... I&#39;m already forgetting... I just want to hold onto your pure wings one last... time... Καθαρός Πάλι...&quot;
&lt;img src=&quot;images/194.png&quot; style=&quot;max-width: 100%;&quot;&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;audio &quot;Ugh&quot; play&gt;&gt;
&lt;&lt;playlist play loop&gt;&gt;
&lt;&lt;widget &quot;playlist2&quot;&gt;&gt;&lt;&lt;setplaylist &quot;PureAgain&quot; &quot;Yume&quot;&gt;&gt;&lt;&lt;/widget&gt;&gt;
&lt;&lt;playlist2&gt;&gt;
&lt;&lt;playlist play&gt;&gt;</tw-passagedata><tw-passagedata pid="62" name="StoryInit" tags="" position="820,134" size="100,100">&lt;&lt;cacheaudio &quot;Machi&quot; &quot;Music/intro.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Opening&quot; &quot;Music/Opening.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Panic&quot; &quot;Music/Panic.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Urkan&quot; &quot;Music/Urkan.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Worent&quot; &quot;Music/Worent.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;CrescentIsland&quot; &quot;Music/CrescentIsland.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Highfort&quot; &quot;Music/Highfort.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Nina&quot; &quot;Music/Nina.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Panic&quot; &quot;Music/Panic.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Regrets&quot; &quot;Music/Regrets.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Wyndia&quot; &quot;Music/Wyndia.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Historical&quot; &quot;Music/Historical.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Rhapala&quot; &quot;Music/Rhapala.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Overworld2&quot; &quot;Music/Overworld2.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Ogre&quot; &quot;Music/Ogre.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;DragonAngel&quot; &quot;Music/DragonAngel.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Tribute&quot; &quot;Music/Tribute.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Asleep&quot; &quot;Music/Asleep.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Termination&quot; &quot;Music/Termination.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Angry&quot; &quot;Music/Angry.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Fight1&quot; &quot;Music/Fight1.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Fight2&quot; &quot;Music/Fight2.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Dangerous&quot; &quot;Music/Dangerous.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Fight3&quot; &quot;Music/Fight3.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Decision&quot; &quot;Music/Decision.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;DontSay&quot; &quot;Music/DontSay.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Walking&quot; &quot;Music/Walking.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;SadTribute&quot; &quot;Music/SadTribute.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Encounter&quot; &quot;Music/Encounter.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Fight4&quot; &quot;Music/Fight4.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Fight5&quot; &quot;Music/Fight5.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Fight6&quot; &quot;Music/Fight6.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Fight7&quot; &quot;Music/Fight7.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Fight8&quot; &quot;Music/Fight8.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Fight9&quot; &quot;Music/Fight9.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Cadaver&quot; &quot;Music/Cadaver.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Sanctuary&quot; &quot;Music/Sanctuary.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Missing&quot; &quot;Music/Missing.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Healing&quot; &quot;Music/Healing.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;BadEnd&quot; &quot;Music/BadEnd.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Light&quot; &quot;Music/Light.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Haiku&quot; &quot;Music/Haiku.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Stairway&quot; &quot;Music/Stairway.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Sand&quot; &quot;Music/Sand.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;PureAgain&quot; &quot;Music/PureAgain.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Maternal&quot; &quot;Music/Maternal.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Yume&quot; &quot;Music/Yume.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Momo&quot; &quot;Music/Momo.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Sigh&quot; &quot;Music/Sigh.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;CedarWoods&quot; &quot;Music/CedarWoods.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Ignorant&quot; &quot;Music/Ignorant.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Magic&quot; &quot;Music/Magic.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Eden&quot; &quot;Music/Eden.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;FightingMan&quot; &quot;Music/FightingMan.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Last&quot; &quot;Music/Last.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Harmonica&quot; &quot;Music/Harmonica.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;VOICE1&quot; &quot;Music/VOICE1.wav&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;VOICE2&quot; &quot;Music/VOICE2.wav&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;VOICE3&quot; &quot;Music/VOICE3.wav&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;VOICE4&quot; &quot;Music/VOICE4.wav&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;VOICE5&quot; &quot;Music/VOICE5.wav&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Ugh&quot; &quot;Music/Ugh.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;GameOver&quot; &quot;Music/GameOver.mp3&quot;&gt;&gt;

&lt;&lt;setplaylist &quot;PureAgain&quot; &quot;Yume&quot;&gt;&gt;
&lt;&lt;setplaylist &quot;VOICE1&quot; &quot;VOICE2&quot; &quot;VOICE3&quot; &quot;VOICE4&quot; &quot;VOICE5&quot;&gt;&gt;
&lt;&lt;setplaylist &quot;Ignorant&quot; &quot;Eden&quot;&gt;&gt;
&lt;&lt;setplaylist &quot;Last&quot; &quot;Harmonica&quot;&gt;&gt;</tw-passagedata><tw-passagedata pid="63" name="Untitled Passage" tags="" position="543,8" size="200,100">&lt;a data-passage=&quot;Dragon War&quot;&gt;&lt;img src=&quot;images/01.png&quot; style=&quot;max-width: 100%;&quot;/&gt;&lt;/a&gt;
&lt;&lt;stopallaudio&gt;&gt;
&lt;&lt;playlist stop&gt;&gt;</tw-passagedata><tw-passagedata pid="64" name="stylesheet" tags="" position="702,166" size="100,100">&lt;style&gt; img {max-width: 100%; max-height:auto;} &lt;/style&gt;</tw-passagedata></tw-storydata></div>
	<script id="script-sugarcube" type="text/javascript">
	/*! SugarCube JS */
	if(document.documentElement.getAttribute("data-init")==="loading"){!function(window,document,jQuery,undefined){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_slicedToArray=function(){function e(e,t){var r=[],n=!0,a=!1,i=undefined;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Alert=function(){function e(e,t,r,n){var a="fatal"===e,i="Apologies! "+(a?"A fatal":"An")+" error has occurred.";i+=a?" Aborting.":" You may be able to continue, but some parts may not work properly.",null==t&&null==r||(i+="\n\nError",null!=t&&(i+=" ["+t+"]"),i+=null!=r?": "+r.replace(/^(?:(?:uncaught\s+(?:exception:\s+)?)?error:\s+)+/i,"")+".":": unknown error."),"object"===("undefined"==typeof n?"undefined":_typeof(n))&&n.stack&&(i+="\n\nStack Trace:\n"+n.stack),window.alert(i)}function t(t,r,n){e(null,t,r,n)}function r(t,r,n){e("fatal",t,r,n)}return function(e){window.onerror=function(n,a,i,o,s){"complete"===document.readyState?t(null,n,s):(r(null,n,s),window.onerror=e,"function"==typeof window.onerror&&window.onerror.apply(this,arguments))}}(window.onerror),Object.freeze(Object.defineProperties({},{error:{value:t},fatal:{value:r}}))}();!function(){function e(e,t){var a=String(e);switch(t){case"start":return a&&r.test(a)?a.replace(r,""):a;case"end":return a&&n.test(a)?a.replace(n,""):a;default:throw new Error('_trimFrom called with incorrect where parameter value: "'+t+'"')}}function t(e,t){var r=Number.parseInt(e,10)||0;if(r<1)return"";var n="undefined"==typeof t?"":String(t);for(""===n&&(n=" ");n.length<r;){var a=n.length,i=r-a;n+=a>i?n.slice(0,i):n}return n.length>r&&(n=n.slice(0,r)),n}var r=/^[\s\u00A0\uFEFF][\s\u00A0\uFEFF]*/,n=/[\s\u00A0\uFEFF][\s\u00A0\uFEFF]*$/;Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.includes called on null or undefined");if(0===arguments.length)return!1;var e=this.length>>>0;if(0===e)return!1;var t=arguments[0],r=Number(arguments[1])||0;for(r<0&&(r=Math.max(0,e+r));r<e;++r){var n=this[r];if(t===n||t!==t&&n!==n)return!0}return!1}}),String.prototype.padStart||Object.defineProperty(String.prototype,"padStart",{configurable:!0,writable:!0,value:function(e,r){if(null==this)throw new TypeError("String.prototype.padStart called on null or undefined");var n=String(this),a=n.length,i=Number.parseInt(e,10);return i<=a?n:t(i-a,r)+n}}),String.prototype.padEnd||Object.defineProperty(String.prototype,"padEnd",{configurable:!0,writable:!0,value:function(e,r){if(null==this)throw new TypeError("String.prototype.padEnd called on null or undefined");var n=String(this),a=n.length,i=Number.parseInt(e,10);return i<=a?n:n+t(i-a,r)}}),String.prototype.trimStart||Object.defineProperty(String.prototype,"trimStart",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimStart called on null or undefined");return e(this,"start")}}),String.prototype.trimLeft||Object.defineProperty(String.prototype,"trimLeft",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimLeft called on null or undefined");return e(this,"start")}}),String.prototype.trimEnd||Object.defineProperty(String.prototype,"trimEnd",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimEnd called on null or undefined");return e(this,"end")}}),String.prototype.trimRight||Object.defineProperty(String.prototype,"trimRight",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimRight called on null or undefined");return e(this,"end")}})}(),function(){function _random(){var e=void 0,t=void 0;switch(arguments.length){case 0:throw new Error("_random called with insufficient parameters");case 1:e=0,t=arguments[0];break;default:e=arguments[0],t=arguments[1]}if(e>t){var r=[t,e];e=r[0],t=r[1]}return Math.floor(_nativeMathRandom()*(t-e+1))+e}function _randomIndex(e,t){var r=void 0,n=void 0;switch(t.length){case 1:r=0,n=e-1;break;case 2:r=0,n=Math.trunc(t[1]);break;default:r=Math.trunc(t[1]),n=Math.trunc(t[2])}return Number.isNaN(r)?r=0:!Number.isFinite(r)||r>=e?r=e-1:r<0&&(r=e+r,r<0&&(r=0)),Number.isNaN(n)?n=0:!Number.isFinite(n)||n>=e?n=e-1:n<0&&(n=e+n,n<0&&(n=e-1)),_random(r,n)}function _getCodePointStartAndEnd(e,t){var r=e.charCodeAt(t);if(Number.isNaN(r))return{char:"",start:-1,end:-1};if(r<55296||r>57343)return{char:e.charAt(t),start:t,end:t};if(r>=55296&&r<=56319){var n=t+1;if(n>=e.length)throw new Error("high surrogate without trailing low surrogate");var a=e.charCodeAt(n);if(a<56320||a>57343)throw new Error("high surrogate without trailing low surrogate");return{char:e.charAt(t)+e.charAt(n),start:t,end:n}}if(0===t)throw new Error("low surrogate without leading high surrogate");var i=t-1,o=e.charCodeAt(i);if(o<55296||o>56319)throw new Error("low surrogate without leading high surrogate");return{char:e.charAt(i)+e.charAt(t),start:i,end:t}}var _nativeMathRandom=Math.random;Object.defineProperty(Array,"random",{configurable:!0,writable:!0,value:function(e){if(null==e||"object"!==("undefined"==typeof e?"undefined":_typeof(e))||!Object.prototype.hasOwnProperty.call(e,"length"))throw new TypeError("Array.random array parameter must be an array or array-lke object");var t=e.length>>>0;if(0!==t){var r=0===arguments.length?_random(0,t-1):_randomIndex(t,Array.prototype.slice.call(arguments,1));return e[r]}}}),Object.defineProperty(Array.prototype,"concatUnique",{configurable:!0,writable:!0,value:function e(){if(null==this)throw new TypeError("Array.prototype.concatUnique called on null or undefined");var t=Array.from(this);if(0===arguments.length)return t;var r=Array.prototype.reduce.call(arguments,function(e,t){return e.concat(t)},[]),n=r.length;if(0===n)return t;for(var a=Array.prototype.indexOf,i=Array.prototype.push,o=0;o<n;++o){var e=r[o];a.call(t,e)===-1&&i.call(t,e)}return t}}),Object.defineProperty(Array.prototype,"count",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.count called on null or undefined");for(var e=Array.prototype.indexOf,t=arguments[0],r=Number(arguments[1])||0,n=0;(r=e.call(this,t,r))!==-1;)++n,++r;return n}}),Object.defineProperty(Array.prototype,"delete",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.delete called on null or undefined");if(0===arguments.length)return[];var e=this.length>>>0;if(0===e)return[];for(var t=Array.prototype.indexOf,r=Array.prototype.push,n=Array.prototype.splice,a=Array.prototype.concat.apply([],arguments),i=[],o=0,s=a.length;o<s;++o)for(var u=a[o],l=0;(l=t.call(this,u,l))!==-1;)r.apply(i,n.call(this,l,1));return i}}),Object.defineProperty(Array.prototype,"deleteAt",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.deleteAt called on null or undefined");if(0===arguments.length)return[];var e=this.length>>>0;if(0===e)return[];for(var t=Array.prototype.splice,r=[].concat(_toConsumableArray(new Set(Array.prototype.concat.apply([],arguments).map(function(t){return t<0?Math.max(0,e+t):t})).values())),n=[].concat(_toConsumableArray(r)).sort(function(e,t){return t-e}),a=[],i=0,o=r.length;i<o;++i)a[i]=this[r[i]];for(var s=0,u=n.length;s<u;++s)t.call(this,n[s],1);return a}}),Object.defineProperty(Array.prototype,"flatten",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.flatten called on null or undefined");return Array.prototype.reduce.call(this,function(e,t){return e.concat(Array.isArray(t)?t.flatten():t)},[])}}),Object.defineProperty(Array.prototype,"includesAll",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.includesAll called on null or undefined");if(1===arguments.length)return Array.isArray(arguments[0])?Array.prototype.includesAll.apply(this,arguments[0]):Array.prototype.includes.apply(this,arguments);for(var e=0,t=arguments.length;e<t;++e)if(!Array.prototype.some.call(this,function(e){return e===this.val||e!==e&&this.val!==this.val},{val:arguments[e]}))return!1;return!0}}),Object.defineProperty(Array.prototype,"includesAny",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.includesAny called on null or undefined");if(1===arguments.length)return Array.isArray(arguments[0])?Array.prototype.includesAny.apply(this,arguments[0]):Array.prototype.includes.apply(this,arguments);for(var e=0,t=arguments.length;e<t;++e)if(Array.prototype.some.call(this,function(e){return e===this.val||e!==e&&this.val!==this.val},{val:arguments[e]}))return!0;return!1}}),Object.defineProperty(Array.prototype,"pluck",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.pluck called on null or undefined");var e=this.length>>>0;if(0!==e){var t=0===arguments.length?_random(0,e-1):_randomIndex(e,[].concat(Array.prototype.slice.call(arguments)));return Array.prototype.splice.call(this,t,1)[0]}}}),Object.defineProperty(Array.prototype,"pluckMany",{configurable:!0,writable:!0,value:function(e){if(null==this)throw new TypeError("Array.prototype.pluckMany called on null or undefined");var t=this.length>>>0;if(0===t)return[];var r=Math.trunc(e);if(!Number.isInteger(r))throw new Error("Array.prototype.pluckMany want parameter must be an integer");if(r<1)return[];r>t&&(r=t);var n=Array.prototype.splice,a=[],i=t-1;do a.push(n.call(this,_random(0,i--),1)[0]);while(a.length<r);return a}}),Object.defineProperty(Array.prototype,"pushUnique",{configurable:!0,writable:!0,value:function e(){if(null==this)throw new TypeError("Array.prototype.pushUnique called on null or undefined");var t=arguments.length;if(0===t)return this.length>>>0;for(var r=Array.prototype.indexOf,n=Array.prototype.push,a=0;a<t;++a){var e=arguments[a];r.call(this,e)===-1&&n.call(this,e)}return this.length>>>0}}),Object.defineProperty(Array.prototype,"random",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.random called on null or undefined");var e=this.length>>>0;if(0!==e){var t=0===arguments.length?_random(0,e-1):_randomIndex(e,[].concat(Array.prototype.slice.call(arguments)));return this[t]}}}),Object.defineProperty(Array.prototype,"randomMany",{configurable:!0,writable:!0,value:function(e){if(null==this)throw new TypeError("Array.prototype.randomMany called on null or undefined");var t=this.length>>>0;if(0===t)return[];var r=Math.trunc(e);if(!Number.isInteger(r))throw new Error("Array.prototype.randomMany want parameter must be an integer");if(r<1)return[];r>t&&(r=t);var n=new Map,a=[],i=t-1;do{var o=void 0;do o=_random(0,i);while(n.has(o));n.set(o,!0),a.push(this[o])}while(a.length<r);return a}}),Object.defineProperty(Array.prototype,"shuffle",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.shuffle called on null or undefined");var e=this.length>>>0;if(0===e)return this;for(var t=e-1;t>0;--t){var r=Math.floor(_nativeMathRandom()*(t+1));if(t!==r){var n=this[t];this[t]=this[r],this[r]=n}}return this}}),Object.defineProperty(Array.prototype,"unshiftUnique",{configurable:!0,writable:!0,value:function e(){if(null==this)throw new TypeError("Array.prototype.unshiftUnique called on null or undefined");var t=arguments.length;if(0===t)return this.length>>>0;for(var r=Array.prototype.indexOf,n=Array.prototype.unshift,a=0;a<t;++a){var e=arguments[a];r.call(this,e)===-1&&n.call(this,e)}return this.length>>>0}}),Object.defineProperty(Function.prototype,"partial",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Function.prototype.partial called on null or undefined");var e=Array.prototype.slice,t=this,r=e.call(arguments,0);return function(){for(var n=[],a=0,i=0;i<r.length;++i)n.push(r[i]===undefined?arguments[a++]:r[i]);return t.apply(this,n.concat(e.call(arguments,a)))}}}),Object.defineProperty(Math,"clamp",{configurable:!0,writable:!0,value:function e(t,r,n){var e=Number(t);return Number.isNaN(e)?NaN:e.clamp(r,n)}}),Object.defineProperty(Math,"easeInOut",{configurable:!0,writable:!0,value:function(e){return 1-(Math.cos(Number(e)*Math.PI)+1)/2}}),Object.defineProperty(Number.prototype,"clamp",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Number.prototype.clamp called on null or undefined");if(2!==arguments.length)throw new Error("Number.prototype.clamp called with an incorrect number of parameters");var e=Number(arguments[0]),t=Number(arguments[1]);if(e>t){var r=[t,e];e=r[0],t=r[1]}return Math.min(Math.max(this,e),t)}}),RegExp.escape||!function(){var e=/[\\^$*+?.()|[\]{}]/g,t=new RegExp(e.source);Object.defineProperty(RegExp,"escape",{configurable:!0,writable:!0,value:function(r){var n=String(r);return n&&t.test(n)?n.replace(e,"\\$&"):n}})}(),function(){var e=/{(\d+)(?:,([+-]?\d+))?}/g,t=new RegExp(e.source);Object.defineProperty(String,"format",{configurable:!0,writable:!0,value:function(r){function n(e,t,r){if(!t)return e;var n=Math.abs(t)-e.length;if(n<1)return e;var a=String(r).repeat(n);return t<0?e+a:a+e}if(arguments.length<2)return 0===arguments.length?"":r;var a=2===arguments.length&&Array.isArray(arguments[1])?[].concat(_toConsumableArray(arguments[1])):Array.prototype.slice.call(arguments,1);return 0===a.length?r:t.test(r)?(e.lastIndex=0,r.replace(e,function(e,t,r){var i=a[t];if(null==i)return"";for(;"function"==typeof i;)i=i();switch("undefined"==typeof i?"undefined":_typeof(i)){case"string":break;case"object":i=JSON.stringify(i);break;default:i=String(i)}return n(i,r?Number.parseInt(r,10):0," ")})):r}})}(),Object.defineProperty(String.prototype,"contains",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.contains called on null or undefined");return String.prototype.indexOf.apply(this,arguments)!==-1}}),Object.defineProperty(String.prototype,"count",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.count called on null or undefined");var e=String(arguments[0]||"");if(""===e)return 0;for(var t=String.prototype.indexOf,r=e.length,n=Number(arguments[1])||0,a=0;(n=t.call(this,e,n))!==-1;)++a,n+=r;return a}}),Object.defineProperty(String.prototype,"splice",{configurable:!0,writable:!0,value:function(e,t,r){if(null==this)throw new TypeError("String.prototype.splice called on null or undefined");var n=this.length>>>0;if(0===n)return"";var a=Number(e);Number.isSafeInteger(a)?a<0&&(a+=n,a<0&&(a=0)):a=0,a>n&&(a=n);var i=Number(t);(!Number.isSafeInteger(i)||i<0)&&(i=0);var o=this.slice(0,a);return"undefined"!=typeof r&&(o+=r),a+i<n&&(o+=this.slice(a+i)),o}}),Object.defineProperty(String.prototype,"splitOrEmpty",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.splitOrEmpty called on null or undefined");return""===String(this)?[]:String.prototype.split.apply(this,arguments)}}),Object.defineProperty(String.prototype,"toLocaleUpperFirst",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.toLocaleUpperFirst called on null or undefined");var e=String(this),t=_getCodePointStartAndEnd(e,0),r=t.char,n=t.end;return n===-1?"":r.toLocaleUpperCase()+e.slice(n+1)}}),Object.defineProperty(String.prototype,"toUpperFirst",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.toUpperFirst called on null or undefined");var e=String(this),t=_getCodePointStartAndEnd(e,0),r=t.char,n=t.end;return n===-1?"":r.toUpperCase()+e.slice(n+1)}}),Object.defineProperty(Date.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:date)",this.toISOString()]}}),Object.defineProperty(Function.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:eval)","("+this.toString()+")"]}}),Object.defineProperty(Map.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:map)",[].concat(_toConsumableArray(this))]}}),Object.defineProperty(RegExp.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:eval)",this.toString()]}}),Object.defineProperty(Set.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:set)",[].concat(_toConsumableArray(this))]}}),Object.defineProperty(JSON,"reviveWrapper",{configurable:!0,writable:!0,value:function(e,t){if("string"!=typeof e)throw new TypeError("JSON.reviveWrapper code parameter must be a string");return["(revive:eval)",[e,t]]}}),Object.defineProperty(JSON,"_real_parse",{value:JSON.parse}),Object.defineProperty(JSON,"parse",{configurable:!0,writable:!0,value:function value(text,reviver){return JSON._real_parse(text,function(key,val){var value=val;if(Array.isArray(value)&&2===value.length)switch(value[0]){case"(revive:set)":value=new Set(value[1]);break;case"(revive:map)":value=new Map(value[1]);break;case"(revive:date)":value=new Date(value[1]);break;case"(revive:eval)":try{if(Array.isArray(value[1])){var $ReviveData$=value[1][1];value=eval(value[1][0])}else value=eval(value[1])}catch(e){}}else if("string"==typeof value&&"@@revive@@"===value.slice(0,10))try{value=eval(value.slice(10))}catch(e){}if("function"==typeof reviver)try{value=reviver(key,value)}catch(e){}return value})}}),Object.defineProperty(Array.prototype,"contains",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.contains called on null or undefined");return Array.prototype.includes.apply(this,arguments)}}),Object.defineProperty(Array.prototype,"containsAll",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.containsAll called on null or undefined");return Array.prototype.includesAll.apply(this,arguments)}}),Object.defineProperty(Array.prototype,"containsAny",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.containsAny called on null or undefined");return Array.prototype.includesAny.apply(this,arguments)}}),Object.defineProperty(String.prototype,"readBracketedList",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.readBracketedList called on null or undefined");for(var e=new RegExp("(?:\\[\\[((?:\\s|\\S)*?)\\]\\])|([^\"'\\s]\\S*)","gm"),t=[],r=void 0;null!==(r=e.exec(this));)r[1]?t.push(r[1]):r[2]&&t.push(r[2]);return t}})}();var Browser=function(){var e=navigator.userAgent.toLowerCase(),t=e.includes("windows phone"),r=Object.freeze({Android:!t&&e.includes("android"),BlackBerry:/blackberry|bb10/.test(e),iOS:!t&&/ip(?:hone|ad|od)/.test(e),Windows:t||e.includes("iemobile"),any:function(){return r.Android||r.BlackBerry||r.iOS||r.Windows}}),n=!r.Windows&&!/khtml|trident|edge/.test(e)&&e.includes("gecko"),a=!e.includes("opera")&&/msie|trident/.test(e),i=a?function(){var t=/(?:msie\s+|rv:)(\d+\.\d)/.exec(e);return t?Number(t[1]):0}():null,o=e.includes("opera")||e.includes(" opr/"),s=o?function(){var t=new RegExp((/khtml|chrome/.test(e)?"opr":"version")+"\\/(\\d+\\.\\d+)"),r=t.exec(e);return r?Number(r[1]):0}():null;return Object.freeze({userAgent:e,isMobile:r,isGecko:n,isIE:a,ieVersion:i,isOpera:o,operaVersion:s})}(),Has=function(){var e=function(){try{return"function"==typeof document.createElement("audio").canPlayType}catch(e){}return!1}(),t=function(){try{return"Blob"in window&&"File"in window&&"FileList"in window&&"FileReader"in window&&!Browser.isMobile.any()&&(!Browser.isOpera||Browser.operaVersion>=15)}catch(e){}return!1}(),r=function(){try{return"geolocation"in navigator&&"function"==typeof navigator.geolocation.getCurrentPosition&&"function"==typeof navigator.geolocation.watchPosition}catch(e){}return!1}(),n=function(){try{return"MutationObserver"in window&&"function"==typeof window.MutationObserver}catch(e){}return!1}(),a=function(){try{return"performance"in window&&"function"==typeof window.performance.now}catch(e){}return!1}();return Object.freeze({audio:e,fileAPI:t,geolocation:r,mutationObserver:n,performance:a})}(),_ref3=function(){function e(t){if("object"!==("undefined"==typeof t?"undefined":_typeof(t))||null==t)return t;if("function"==typeof t.clone)return t.clone(!0);if(t.nodeType&&"function"==typeof t.cloneNode)return t.cloneNode(!0);var r=void 0;return Array.isArray(t)?r=[]:t instanceof Date?r=new Date(t.getTime()):t instanceof Map?(r=new Map,t.forEach(function(t,n){r.set(n,e(t))})):t instanceof RegExp?r=new RegExp(t):t instanceof Set?(r=new Set,t.forEach(function(t){r.add(e(t))})):r=Object.create(Object.getPrototypeOf(t)),Object.keys(t).forEach(function(n){return r[n]=e(t[n])}),r}function t(e){for(var t=document.createDocumentFragment(),r=document.createElement("p"),n=void 0;null!==(n=e.firstChild);){if(n.nodeType===Node.ELEMENT_NODE){var a=n.nodeName.toUpperCase();switch(a){case"BR":if(null!==n.nextSibling&&n.nextSibling.nodeType===Node.ELEMENT_NODE&&"BR"===n.nextSibling.nodeName.toUpperCase()){e.removeChild(n.nextSibling),e.removeChild(n),t.appendChild(r),r=document.createElement("p");continue}if(!r.hasChildNodes()){e.removeChild(n);continue}break;case"ADDRESS":case"ARTICLE":case"ASIDE":case"BLOCKQUOTE":case"CENTER":case"DIV":case"DL":case"FIGURE":case"FOOTER":case"FORM":case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"HEADER":case"HR":case"MAIN":case"NAV":case"OL":case"P":case"PRE":case"SECTION":case"TABLE":case"UL":r.hasChildNodes()&&(t.appendChild(r),r=document.createElement("p")),t.appendChild(n);continue}}r.appendChild(n)}r.hasChildNodes()&&t.appendChild(r),e.appendChild(t)}function r(){try{return document.activeElement||null}catch(e){return null}}function n(e,t,r){var n="object"===("undefined"==typeof e?"undefined":_typeof(e))?e:document.getElementById(e);if(null==n)return null;var a=Array.isArray(t)?t:[t];jQuery(n).empty();for(var i=0,o=a.length;i<o;++i)if(Story.has(a[i]))return new Wikifier(n,Story.get(a[i]).processText().trim()),n;if(null!=r){var s=String(r).trim();""!==s&&new Wikifier(n,s)}return n}function a(e,t,r){return jQuery(document.createElement("span")).addClass("error").attr("title",r).text(L10n.get("errorTitle")+": "+(t||"unknown error")).appendTo(e),!1}function i(e,t){var r=i;switch("undefined"==typeof e?"undefined":_typeof(e)){case"number":if(Number.isNaN(e))return t;break;case"object":if(null===e)return t;if(Array.isArray(e))return e.map(function(e){return r(e,t)}).join(", ");if(e instanceof Set)return[].concat(_toConsumableArray(e)).map(function(e){return r(e,t)}).join(", ");if(e instanceof Map){var n=[].concat(_toConsumableArray(e)).map(function(e){return r(e[0],t)+" ⇒ "+r(e[1],t)}).join("; ");return"( "+n+" )"}return e instanceof Date?e.toLocaleString():"function"==typeof e.toString?e.toString():Object.prototype.toString.call(e);case"function":case"undefined":return t}return String(e)}return Object.freeze(Object.defineProperties({},{clone:{value:e},convertBreaks:{value:t},safeActiveElement:{value:r},setPageElement:{value:n},throwError:{value:a},toStringOrDefault:{value:i}}))}(),clone=_ref3.clone,convertBreaks=_ref3.convertBreaks,safeActiveElement=_ref3.safeActiveElement,setPageElement=_ref3.setPageElement,throwError=_ref3.throwError,toStringOrDefault=_ref3.toStringOrDefault;!function(){function e(e){13!==e.which&&32!==e.which||(e.preventDefault(),jQuery(safeActiveElement()||this).trigger("click"))}function t(e){return function(){var t=jQuery(this);t.is("[aria-pressed]")&&t.attr("aria-pressed","true"===t.attr("aria-pressed")?"false":"true"),e.apply(this,arguments)}}function r(e){return t(function(){jQuery(this).off(".aria-clickable").removeAttr("tabindex aria-controls aria-pressed").not("a,button").removeAttr("role").end().filter("button").prop("disabled",!0),e.apply(this,arguments)})}jQuery.fn.extend({ariaClick:function(n,a){if(0===this.length||0===arguments.length)return this;var i=n,o=a;return null==o&&(o=i,i=undefined),i=jQuery.extend({namespace:undefined,one:!1,selector:undefined,data:undefined,controls:undefined,pressed:undefined,label:undefined},i),"string"!=typeof i.namespace?i.namespace="":"."!==i.namespace[0]&&(i.namespace="."+i.namespace),"boolean"==typeof i.pressed&&(i.pressed=i.pressed?"true":"false"),this.filter("button").prop("type","button"),this.not("a,button").attr("role","button"),this.attr("tabindex",0),null!=i.controls&&this.attr("aria-controls",i.controls),null!=i.pressed&&this.attr("aria-pressed",i.pressed),null!=i.label&&this.attr({"aria-label":i.label,title:i.label}),this.not("button").on("keypress.aria-clickable"+i.namespace,i.selector,e),this.on("click.aria-clickable"+i.namespace,i.selector,i.data,i.one?r(o):t(o)),this}})}(),function(){jQuery.extend({wikiWithOptions:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(0!==r.length){var a=document.createDocumentFragment();r.forEach(function(t){return new Wikifier(a,t,e)});var i=[].concat(_toConsumableArray(a.querySelectorAll(".error"))).map(function(e){return e.textContent.replace(/^(?:(?:Uncaught\s+)?Error:\s+)+/,"")});if(i.length>0)throw new Error(i.join("; "))}},wiki:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];this.wikiWithOptions.apply(this,[undefined].concat(t))}}),jQuery.fn.extend({wikiWithOptions:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(0===this.length||0===r.length)return this;var a=document.createDocumentFragment();return r.forEach(function(t){return new Wikifier(a,t,e)}),this.append(a),this},wiki:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.wikiWithOptions.apply(this,[undefined].concat(t))}})}();var Util=function(){function e(e){return Object.freeze(Object.assign(Object.create(null),e))}function t(e){return Object.prototype.toString.call(e).slice(8,-1)}function r(e){var t=void 0;switch("undefined"==typeof e?"undefined":_typeof(e)){case"number":t=e;break;case"string":t=Number(e);break;default:return!1}return!Number.isNaN(t)&&Number.isFinite(t)}function n(e){return"boolean"==typeof e||"string"==typeof e&&("true"===e||"false"===e)}function a(e){return String(e).trim().replace(/[^\w\s\u2013\u2014-]+/g,"").replace(/[_\s\u2013\u2014-]+/g,"-").toLocaleLowerCase()}function i(e){if(null==e)return"";var t=String(e);return t&&h.test(t)?t.replace(p,function(e){return g[e]}):t}function o(e){if(null==e)return"";var t=String(e);return t&&y.test(t)?t.replace(m,function(e){return v[e.toLowerCase()]}):t}function s(e,t){var r=String(e),n=Math.trunc(t),a=r.charCodeAt(n);if(Number.isNaN(a))return{char:"",start:-1,end:-1};var i={char:r.charAt(n),start:n,end:n};if(a<55296||a>57343)return i;if(a>=55296&&a<=56319){var o=n+1;if(o>=r.length)return i;var s=r.charCodeAt(o);return s<56320||s>57343?i:(i.char=i.char+r.charAt(o),i.end=o,i)}if(0===n)return i;var u=n-1,l=r.charCodeAt(u);return l<55296||l>56319?i:(i.char=r.charAt(u)+i.char,i.start=u,i)}function u(){return(Has.performance?performance:Date).now()}function l(e){var t=/^([+-]?(?:\d*\.)?\d+)([Mm]?[Ss])$/,r=t.exec(String(e));if(null===r)throw new SyntaxError('invalid time value syntax: "'+e+'"');var n=Number(r[1]);if(/^[Ss]$/.test(r[2])&&(n*=1e3),Number.isNaN(n)||!Number.isFinite(n))throw new RangeError('invalid time value: "'+e+'"');return n}function c(e){if("number"!=typeof e||Number.isNaN(e)||!Number.isFinite(e)){var t=void 0;switch("undefined"==typeof e?"undefined":_typeof(e)){case"string":t='"'+e+'"';break;case"number":t=String(e);break;default:t=Object.prototype.toString.call(e)}throw new Error("invalid milliseconds: "+t)}return e+"ms"}function d(e){if(!e.includes("-"))switch(e){case"bgcolor":return"backgroundColor";case"float":return"cssFloat";default:return e}var t="-ms-"===e.slice(0,4)?e.slice(1):e;return t.split("-").map(function(e,t){return 0===t?e:e.toUpperFirst()}).join("")}function f(e){var t=document.createElement("a"),r=Object.create(null);t.href=e,t.search&&t.search.replace(/^\?/,"").splitOrEmpty(/(?:&(?:amp;)?|;)/).forEach(function(e){var t=e.split("="),n=_slicedToArray(t,2),a=n[0],i=n[1];r[a]=i});var n=t.host&&"/"!==t.pathname[0]?"/"+t.pathname:t.pathname;return{href:t.href,protocol:t.protocol,host:t.host,hostname:t.hostname,port:t.port,path:""+n+t.search,pathname:n,query:t.search,search:t.search,queries:r,searches:r,hash:t.hash}}var p=/[&<>"'`]/g,h=new RegExp(p.source),g=Object.freeze({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"}),m=/&(?:amp|#38|#x26|lt|#60|#x3c|gt|#62|#x3e|quot|#34|#x22|apos|#39|#x27|#96|#x60);/gi,y=new RegExp(m.source,"i"),v=Object.freeze({"&amp;":"&","&#38;":"&","&#x26;":"&","&lt;":"<","&#60;":"<","&#x3c;":"<","&gt;":">","&#62;":">","&#x3e;":">","&quot;":'"',"&#34;":'"',"&#x22;":'"',"&apos;":"'","&#39;":"'","&#x27;":"'","&#96;":"`","&#x60;":"`"});return Object.freeze(Object.defineProperties({},{toEnum:{value:e},toStringTag:{value:t},isNumeric:{value:r},isBoolean:{value:n},slugify:{value:a},escape:{value:i},unescape:{value:o},charAndPosAt:{value:s},fromCssTime:{value:l},toCssTime:{value:c},fromCssProperty:{value:d},parseUrl:{value:f},now:{value:u},random:{value:Math.random},entityEncode:{value:i},entityDecode:{value:o},evalExpression:{value:function(){return Scripting.evalJavaScript.apply(Scripting,arguments)}},evalStatements:{value:function(){return Scripting.evalJavaScript.apply(Scripting,arguments)}}}))}(),SimpleAudio=function(){function e(){return g}function t(e){g=!!e,l("mute",g)}function r(){return p}function n(e){p=Math.clamp(e,.2,5),l("rate",p)}function a(){return h}function i(e){h=Math.clamp(e,0,1),l("volume",h)}function o(){l("stop")}function s(e,t){if("function"!=typeof t)throw new Error("callback parameter must be a function");f.set(e,t)}function u(e){f.delete(e)}function l(e,t){f.forEach(function(r){return r(e,t)})}function c(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return new(Function.prototype.bind.apply(m,[null].concat(t)))}function d(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return new(Function.prototype.bind.apply(y,[null].concat(t)))}var f=new Map,p=1,h=1,g=!1,m=function(){function e(t){if(_classCallCheck(this,e),Array.isArray(t))this._create(t);else{if(!(t instanceof e))throw new Error("sources parameter must be an array of either URLs or source objects");this._copy(t)}}return _createClass(e,[{key:"_create",value:function(t){if(!Array.isArray(t)||0===t.length)throw new Error("sources parameter must be an array of either URLs or source objects");var r=/^data:\s*audio\/([^;,]+)\s*[;,]/i,n=/\.([^.\/\\]+)$/,a=e.getType,i=[],o=document.createElement("audio");if(t.forEach(function(e){var t=null;switch("undefined"==typeof e?"undefined":_typeof(e)){case"string":var s=void 0;if("data:"===e.slice(0,5)){if(s=r.exec(e),null===s)throw new Error("source data URI missing media type")}else if(s=n.exec(Util.parseUrl(e).pathname),null===s)throw new Error("source URL missing file extension");var u=a(s[1]);null!==u&&(t={src:e,type:u});break;case"object":if(null===e)throw new Error("source object cannot be null");if(!e.hasOwnProperty("src"))throw new Error('source object missing required "src" property');
if(!e.hasOwnProperty("format"))throw new Error('source object missing required "format" property');var l=a(e.format);null!==l&&(t={src:e.src,type:l});break;default:throw new Error("invalid source value (type: "+("undefined"==typeof e?"undefined":_typeof(e))+")")}if(null!==t){var c=document.createElement("source");c.src=t.src,c.type=Browser.isOpera?t.type.replace(/;.*$/,""):t.type,o.appendChild(c),i.push(t)}}),!o.hasChildNodes())if(Browser.isIE)o.src=undefined;else{var s=document.createElement("source");s.src=undefined,s.type=undefined,o.appendChild(s)}this._finalize(o,i,clone(t))}},{key:"_copy",value:function(t){if(!(t instanceof e))throw new Error("original parameter must be an instance of AudioWrapper");this._finalize(t.audio.cloneNode(!0),clone(t.sources),clone(t.originalSources))}},{key:"_finalize",value:function(e,t,r){var n=this;Object.defineProperties(this,{audio:{configurable:!0,value:e},sources:{configurable:!0,value:Object.freeze(t)},originalSources:{configurable:!0,value:Object.freeze(r)},_error:{writable:!0,value:!1},_faderId:{writable:!0,value:null},_mute:{writable:!0,value:!1},_rate:{writable:!0,value:1},_volume:{writable:!0,value:1}}),jQuery(this.audio).on("loadstart",function(){return n._error=!1}).on("error",function(){return n._error=!0}).find("source:last-of-type").on("error",function(){return n._trigger("error")}),SimpleAudio.subscribe(this,function(e){if(!n.audio)return void SimpleAudio.unsubscribe(n);switch(e){case"mute":n._updateAudioMute();break;case"rate":n._updateAudioRate();break;case"stop":n.stop();break;case"volume":n._updateAudioVolume()}}),this.load()}},{key:"_trigger",value:function(e){jQuery(this.audio).triggerHandler(e)}},{key:"clone",value:function(){return new e(this)}},{key:"destroy",value:function(){SimpleAudio.unsubscribe(this),this.fadeStop(),this.stop();var e=this.audio;for(jQuery(e).off();e.hasChildNodes();)e.removeChild(e.firstChild);e.load(),this._error=!0,delete this.audio,delete this.sources,delete this.originalSources}},{key:"_updateAudioMute",value:function(){this.audio.muted=this._mute||SimpleAudio.mute}},{key:"_updateAudioRate",value:function(){this.audio.playbackRate=this._rate*SimpleAudio.rate}},{key:"_updateAudioVolume",value:function(){this.audio.volume=this._volume*SimpleAudio.volume}},{key:"hasSource",value:function(){return this.sources.length>0}},{key:"hasNoData",value:function(){return this.audio.readyState===HTMLMediaElement.HAVE_NOTHING}},{key:"hasMetadata",value:function(){return this.audio.readyState>=HTMLMediaElement.HAVE_METADATA}},{key:"hasSomeData",value:function(){return this.audio.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA}},{key:"hasData",value:function(){return this.audio.readyState===HTMLMediaElement.HAVE_ENOUGH_DATA}},{key:"isFailed",value:function(){return this._error}},{key:"isLoading",value:function(){return this.audio.networkState===HTMLMediaElement.NETWORK_LOADING}},{key:"isPlaying",value:function(){return!(this.audio.ended||this.audio.paused||!this.hasSomeData())}},{key:"isPaused",value:function(){return this.audio.paused&&(this.audio.duration===1/0||this.audio.currentTime>0)&&!this.audio.ended}},{key:"isEnded",value:function(){return this.audio.ended}},{key:"isFading",value:function(){return null!==this._faderId}},{key:"isMuted",value:function(){return this._mute}},{key:"isLooped",value:function(){return this.audio.loop}},{key:"load",value:function(){"auto"!==this.audio.preload&&(this.audio.preload="auto"),this.isLoading()||this.audio.load()}},{key:"play",value:function(){this.audio.play()}},{key:"pause",value:function(){this.audio.pause()}},{key:"stop",value:function(){this.pause(),this.time=0,this._trigger(":stop")}},{key:"fadeWithDuration",value:function(e,t,r){var n=this;this.fadeStop();var a=Math.clamp(null==r?this.volume:r,0,1),i=Math.clamp(t,0,1);a!==i&&(this.volume=a,jQuery(this.audio).off("timeupdate.AudioWrapper:fadeWithDuration").one("timeupdate.AudioWrapper:fadeWithDuration",function(){var t=void 0,r=void 0;a<i?(t=a,r=i):(t=i,r=a);var o=Number(e);o<1&&(o=1);var s=25,u=(i-a)/(o/(s/1e3));n._faderId=setInterval(function(){return n.isPlaying()?(n.volume=Math.clamp(n.volume+u,t,r),0===n.volume&&n.pause(),void(n.volume===i&&(n.fadeStop(),n._trigger(":fade")))):void n.fadeStop()},s)}),this.play())}},{key:"fade",value:function(e,t){this.fadeWithDuration(5,e,t)}},{key:"fadeIn",value:function(){this.fade(1)}},{key:"fadeOut",value:function(){this.fade(0)}},{key:"fadeStop",value:function(){null!==this._faderId&&(clearInterval(this._faderId),this._faderId=null)}},{key:"on",value:function(t,r){if("function"!=typeof r)throw new Error("listener parameter must be a function");var n=e._events,a=t.trim().splitOrEmpty(/\s+/).map(function(e){var t=e.split(".",1)[0];if(!n.hasOwnProperty(t))throw new Error('unknown event "'+t+'"; valid: '+Object.keys(n).join(", "));return e.replace(t,n[t])+".AudioWrapperEvent"}).join(" ");if(""===a)throw new Error('invalid eventNames parameter "'+t+'"');return jQuery(this.audio).on(a,r),this}},{key:"one",value:function(t,r){if("function"!=typeof r)throw new Error("listener parameter must be a function");var n=e._events,a=t.trim().splitOrEmpty(/\s+/).map(function(e){var t=e.split(".",1)[0];if(!n.hasOwnProperty(t))throw new Error('unknown event "'+t+'"; valid: '+Object.keys(n).join(", "));return e.replace(t,n[t])+".AudioWrapperEvent"}).join(" ");if(""===a)throw new Error('invalid eventNames parameter "'+t+'"');return jQuery(this.audio).one(a,r),this}},{key:"off",value:function(t,r){if(r&&"function"!=typeof r)throw new Error("listener parameter must be a function");if(!t)return jQuery(this.audio).off(".AudioWrapperEvent",r);var n=e._events,a=t.trim().splitOrEmpty(/\s+/).map(function(e){var t=e.split(".",1)[0];if(t){if(!n.hasOwnProperty(t))throw new Error('unknown event "'+t+'"; valid: '+Object.keys(n).join(", "));return e.replace(t,n[t])+".AudioWrapperEvent"}return e+".AudioWrapperEvent"}).join(" ");if(""===a)throw new Error('invalid eventNames parameter "'+t+'"');return jQuery(this.audio).off(a,r),this}},{key:"duration",get:function(){return this.audio.duration}},{key:"ended",get:function(){return this.audio.ended}},{key:"loop",get:function(){return this.audio.loop},set:function(e){this.audio.loop=!!e}},{key:"mute",get:function(){return this._mute},set:function(e){this._mute=!!e,this._updateAudioMute()}},{key:"paused",get:function(){return this.audio.paused}},{key:"rate",get:function(){return this._rate},set:function(e){this._rate=Math.clamp(e,.2,5),this._updateAudioRate()}},{key:"remaining",get:function(){return this.audio.duration-this.audio.currentTime}},{key:"time",get:function(){return this.audio.currentTime},set:function(e){var t=this;try{this.audio.currentTime=e}catch(r){jQuery(this.audio).off("loadedmetadata.AudioWrapper:time").one("loadedmetadata.AudioWrapper:time",function(){return t.audio.currentTime=e})}}},{key:"volume",get:function(){return this._volume},set:function(e){this._volume=Math.clamp(e,0,1),this._updateAudioVolume()}}],[{key:"_verifyType",value:function(t){if(!t||!Has.audio)return null;var r=e._types;if(!r.hasOwnProperty(t)){var n=document.createElement("audio");r[t]=""!==n.canPlayType(t).replace(/^no$/i,"")}return r[t]?t:null}},{key:"getType",value:function(t){if(!t||!Has.audio)return null;var r=e.formats,n=t.toLowerCase(),a=r.hasOwnProperty(n)?r[n]:"audio/"+n;return e._verifyType(a)}},{key:"canPlayFormat",value:function(t){return null!==e.getType(t)}},{key:"canPlayType",value:function(t){return null!==e._verifyType(t)}}]),e}();Object.defineProperties(m,{formats:{value:{aac:"audio/aac",caf:"audio/x-caf","x-caf":"audio/x-caf",mp3:'audio/mpeg; codecs="mp3"',mpeg:'audio/mpeg; codecs="mp3"',m4a:"audio/mp4",mp4:"audio/mp4","x-m4a":"audio/mp4","x-mp4":"audio/mp4",oga:"audio/ogg",ogg:"audio/ogg",opus:'audio/ogg; codecs="opus"',wav:"audio/wav",wave:"audio/wav",weba:"audio/webm",webm:"audio/webm"}},_types:{value:{}},_events:{value:Object.freeze({canplay:"canplaythrough",end:"ended",error:"error",fade:":fade",pause:"pause",play:"playing",rate:"ratechange",seek:"seeked",stop:":stop",volume:"volumechange"})}});var y=function(){function e(t){var r=this;_classCallCheck(this,e),Object.defineProperties(this,{tracks:{configurable:!0,value:[]},queue:{configurable:!0,value:[]},current:{writable:!0,value:null},_rate:{writable:!0,value:1},_volume:{writable:!0,value:1},_mute:{writable:!0,value:!1},_loop:{writable:!0,value:!1},_shuffle:{writable:!0,value:!1}}),Array.isArray(t)?t.forEach(function(e){return r.add(e)}):t instanceof e&&t.tracks.forEach(function(e){return r.add(e)})}return _createClass(e,[{key:"add",value:function(e){var t=this;if(null==e||"object"!==("undefined"==typeof e?"undefined":_typeof(e)))throw new Error("track parameter must be an object");var r=void 0,n=void 0,a=void 0,i=void 0;if(e instanceof m)r=!0,n=e.clone(),a=e.volume,i=e.rate;else{if(!e.hasOwnProperty("track"))throw new Error('track object missing required "track" property');if(!(e.track instanceof m))throw new Error('track object\'s "track" property must be an AudioWrapper object');r=e.hasOwnProperty("copy")&&e.copy,n=r?e.track.clone():e.track,a=e.hasOwnProperty("volume")?e.volume:e.track.volume,i=e.hasOwnProperty("rate")?e.rate:e.track.rate}n.stop(),n.loop=!1,n.mute=!1,n.volume=a,n.rate=i,n.on("end.AudioListEvent",function(){return t._onEnd()}),this.tracks.push({copy:r,track:n,volume:a,rate:i})}},{key:"destroy",value:function(){this.stop(),this.tracks.filter(function(e){return e.copy}).forEach(function(e){return e.track.destroy()}),delete this.tracks,delete this.queue}},{key:"isPlaying",value:function(){return null!==this.current&&this.current.track.isPlaying()}},{key:"isEnded",value:function(){return 0===this.queue.length&&(null===this.current||this.current.track.isEnded())}},{key:"isPaused",value:function(){return null===this.current||this.current.track.isPaused()}},{key:"isMuted",value:function(){return this._mute}},{key:"isLooped",value:function(){return this._loop}},{key:"isShuffled",value:function(){return this._shuffle}},{key:"play",value:function(){(null!==this.current&&!this.current.track.isEnded()||(0===this.queue.length&&this._buildList(),this._next()))&&this.current.track.play()}},{key:"pause",value:function(){null!==this.current&&this.current.track.pause()}},{key:"stop",value:function(){null!==this.current&&(this.current.track.stop(),this.current=null),this.queue.splice(0)}},{key:"skip",value:function(){this._next()?this.current.track.play():this._loop&&this.play()}},{key:"fadeWithDuration",value:function(e,t,r){if(0===this.queue.length&&this._buildList(),null!==this.current&&!this.current.track.isEnded()||this._next()){var n=Math.clamp(t,0,1)*this.current.volume,a=void 0;null!=r&&(a=Math.clamp(r,0,1)*this.current.volume),this.current.track.fadeWithDuration(e,n,a),this._volume=t}}},{key:"fade",value:function(e,t){this.fadeWithDuration(5,e,t)}},{key:"fadeIn",value:function(){this.fade(1)}},{key:"fadeOut",value:function(){this.fade(0)}},{key:"_next",value:function(){return null!==this.current&&this.current.track.stop(),0===this.queue.length?(this.current=null,!1):(this.current=this.queue.shift(),!this.current.track.hasSource()||this.current.track.isFailed()?this._next():(this.current.track.mute=this._mute,this.current.track.rate=this.rate*this.current.rate,this.current.track.volume=this.volume*this.current.volume,!0))}},{key:"_onEnd",value:function(){if(0===this.queue.length){if(!this._loop)return;this._buildList()}this._next()&&this.current.track.play()}},{key:"_buildList",value:function(){var e;this.queue.splice(0),(e=this.queue).push.apply(e,_toConsumableArray(this.tracks)),0!==this.queue.length&&this._shuffle&&(this.queue.shuffle(),this.queue.length>1&&this.queue[0]===this.current&&this.queue.push(this.queue.shift()))}},{key:"duration",get:function(){return this.tracks.map(function(e){return e.track.duration}).reduce(function(e,t){return e+t},0)}},{key:"loop",get:function(){return this._loop},set:function(e){this._loop=!!e}},{key:"mute",get:function(){return this._mute},set:function(e){this._mute=!!e,null!==this.current&&(this.current.track.mute=this._mute)}},{key:"rate",get:function(){return this._rate},set:function(e){this._rate=Math.clamp(e,.2,5),null!==this.current&&(this.current.track.rate=this.rate*this.current.rate)}},{key:"remaining",get:function(){var e=this.queue.map(function(e){return e.track.duration}).reduce(function(e,t){return e+t},0);return null!==this.current&&(e+=this.current.track.remaining),e}},{key:"shuffle",get:function(){return this._shuffle},set:function(e){this._shuffle=!!e}},{key:"time",get:function(){return this.duration-this.remaining}},{key:"volume",get:function(){return this._volume},set:function(e){this._volume=Math.clamp(e,0,1),null!==this.current&&(this.current.track.volume=this.volume*this.current.volume)}}]),e}();return Object.freeze(Object.defineProperties({},{mute:{get:e,set:t},rate:{get:r,set:n},volume:{get:a,set:i},stop:{value:o},subscribe:{value:s},unsubscribe:{value:u},publish:{value:l},create:{value:c},createList:{value:d}}))}(),SimpleStore=function(){function e(e,n){if(r)return r.create(e,n);for(var a=0;a<t.length;++a)if(t[a].init(e,n))return r=t[a],r.create(e,n);throw new Error("no valid storage adapters found")}var t=[],r=null;return Object.freeze(Object.defineProperties({},{adapters:{value:t},create:{value:e}}))}();SimpleStore.adapters.push(function(){function e(){function e(e){try{var t=window[e],r="_sc_"+String(Date.now());t.setItem(r,r);var n=t.getItem(r)===r;return t.removeItem(r),n}catch(e){}return!1}return r=e("localStorage")&&e("sessionStorage")}function t(e,t){if(!r)throw new Error("adapter not initialized");return new n(e,t)}var r=!1,n=function(){function e(t,r){_classCallCheck(this,e);var n=t+".",a=null,i=null;r?(a=window.localStorage,i="localStorage"):(a=window.sessionStorage,i="sessionStorage"),Object.defineProperties(this,{_engine:{value:a},_prefix:{value:n},_prefixRe:{value:new RegExp("^"+RegExp.escape(n))},name:{value:i},id:{value:t},persistent:{value:!!r}})}return _createClass(e,[{key:"size",value:function(){return this.keys().length}},{key:"keys",value:function e(){for(var e=[],t=0;t<this._engine.length;++t){var r=this._engine.key(t);this._prefixRe.test(r)&&e.push(r.replace(this._prefixRe,""))}return e}},{key:"has",value:function(e){return!("string"!=typeof e||!e)&&this._engine.hasOwnProperty(this._prefix+e)}},{key:"get",value:function(t){if("string"!=typeof t||!t)return null;var r=this._engine.getItem(this._prefix+t);return null==r?null:e._deserialize(r)}},{key:"set",value:function(t,r){if("string"!=typeof t||!t)return!1;try{this._engine.setItem(this._prefix+t,e._serialize(r))}catch(e){throw/quota[_\s]?(?:exceeded|reached)/i.test(e.name)&&(e.message=this.name+" quota exceeded"),e}return!0}},{key:"delete",value:function(e){return!("string"!=typeof e||!e)&&(this._engine.removeItem(this._prefix+e),!0)}},{key:"clear",value:function(){for(var e=this.keys(),t=0,r=e.length;t<r;++t)this.delete(e[t]);return!0}},{key:"length",get:function(){return this.keys().length}}],[{key:"_serialize",value:function(e){return LZString.compressToUTF16(JSON.stringify(e))}},{key:"_deserialize",value:function(e){return JSON.parse(LZString.decompressFromUTF16(e))}}]),e}();return Object.freeze(Object.defineProperties({},{init:{value:e},create:{value:t}}))}()),SimpleStore.adapters.push(function(){function e(e){try{var t="_sc_"+String(Date.now());o._setCookie(t,o._serialize(t),undefined),i=o._deserialize(o._getCookie(t))===t,o._setCookie(t,undefined,a)}catch(e){i=!1}return i&&r(e),i}function t(e,t){if(!i)throw new Error("adapter not initialized");return new o(e,t)}function r(e){if(""!==document.cookie)for(var t=e+".",r=new RegExp("^"+RegExp.escape(t)),i=e+"!.",s=e+"*.",u=/\.(?:state|rcWarn)$/,l=document.cookie.split(/;\s*/),c=0;c<l.length;++c){var d=l[c].split("="),f=decodeURIComponent(d[0]);if(r.test(f)){var p=decodeURIComponent(d[1]);""!==p&&!function(){var e=!u.test(f);o._setCookie(f,undefined,a),o._setCookie(f.replace(r,function(){return e?i:s}),p,e?n:undefined)}()}}}var n="Tue, 19 Jan 2038 03:14:07 GMT",a="Thu, 01 Jan 1970 00:00:00 GMT",i=!1,o=function(){function e(t,r){_classCallCheck(this,e);var n=""+t+(r?"!":"*")+".";Object.defineProperties(this,{_prefix:{value:n},_prefixRe:{value:new RegExp("^"+RegExp.escape(n))},name:{value:"cookie"},id:{value:t},persistent:{value:!!r}})}return _createClass(e,[{key:"size",value:function(){return this.keys().length}},{key:"keys",value:function e(){if(""===document.cookie)return[];for(var t=document.cookie.split(/;\s*/),e=[],r=0;r<t.length;++r){var n=t[r].split("="),a=decodeURIComponent(n[0]);if(this._prefixRe.test(a)){var i=decodeURIComponent(n[1]);""!==i&&e.push(a.replace(this._prefixRe,""))}}return e}},{key:"has",value:function(t){return!("string"!=typeof t||!t)&&null!==e._getCookie(this._prefix+t)}},{key:"get",value:function(t){if("string"!=typeof t||!t)return null;var r=e._getCookie(this._prefix+t);return null===r?null:e._deserialize(r)}},{key:"set",value:function(t,r){if("string"!=typeof t||!t)return!1;try{if(e._setCookie(this._prefix+t,e._serialize(r),this.persistent?n:undefined),!this.has(t))throw new Error("unknown validation error during set")}catch(e){throw e.message="cookie error: "+e.message,e}return!0}},{key:"delete",value:function(t){if("string"!=typeof t||!t||!this.has(t))return!1;try{if(e._setCookie(this._prefix+t,undefined,a),this.has(t))throw new Error("unknown validation error during delete")}catch(e){throw e.message="cookie error: "+e.message,e}return!0}},{key:"clear",value:function(){for(var e=this.keys(),t=0,r=e.length;t<r;++t)this.delete(e[t]);return!0}},{key:"length",get:function(){return this.keys().length}}],[{key:"_getCookie",value:function(e){if(!e||""===document.cookie)return null;for(var t=document.cookie.split(/;\s*/),r=0;r<t.length;++r){var n=t[r].split("="),a=decodeURIComponent(n[0]);if(e===a){var i=decodeURIComponent(n[1]);return i||null}}return null}},{key:"_setCookie",value:function(e,t,r){if(e){var n=encodeURIComponent(e)+"=";null!=t&&(n+=encodeURIComponent(t)),null!=r&&(n+="; expires="+r),n+="; path=/",document.cookie=n}}},{key:"_serialize",value:function(e){return LZString.compressToBase64(JSON.stringify(e))}},{key:"_deserialize",value:function(e){return JSON.parse(LZString.decompressFromBase64(e))}}]),e}();return Object.freeze(Object.defineProperties({},{init:{value:e},create:{value:t}}))}());var DebugView=function(){var e=function(){function e(t,r,n,a){_classCallCheck(this,e),Object.defineProperties(this,{parent:{value:t},view:{value:document.createElement("span")},break:{value:document.createElement("wbr")}}),jQuery(this.view).attr({title:a,"aria-label":a,"data-type":null!=r?r:"","data-name":null!=n?n:""}).addClass("debug"),this.parent.appendChild(this.view),this.parent.appendChild(this.break)}return _createClass(e,[{key:"append",value:function(e){return jQuery(this.view).append(e),this}},{key:"modes",value:function(e){var t=this;if(null==e){var r=function(){var e={};return t.view.className.splitOrEmpty(/\s+/).forEach(function(t){"debug"!==t&&(e[t]=!0)}),{v:e}}();if("object"===("undefined"==typeof r?"undefined":_typeof(r)))return r.v}else if("object"===("undefined"==typeof e?"undefined":_typeof(e)))return Object.keys(e).forEach(function(t){this[e[t]?"addClass":"removeClass"](t)},jQuery(this.view)),this;throw new Error("DebugView.prototype.modes options parameter must be an object or null/undefined")}},{key:"remove",value:function(){var e=jQuery(this.view);this.view.hasChildNodes()&&e.contents().appendTo(this.parent),e.remove(),jQuery(this.break).remove()}},{key:"output",get:function(){return this.view}},{key:"type",get:function(){return this.view.getAttribute("data-type")},set:function(e){this.view.setAttribute("data-type",null!=e?e:"")}},{key:"name",get:function(){return this.view.getAttribute("data-name")},set:function(e){this.view.setAttribute("data-name",null!=e?e:"")}},{key:"title",get:function(){return this.view.title},set:function(e){this.view.title=e}}],[{key:"init",value:function(){jQuery('<button id="debug-view-toggle">'+L10n.get("debugViewTitle")+"</button>").ariaClick({label:L10n.get("debugViewToggle")},function(){return e.toggle()}).prependTo("#ui-bar-body"),e.enable()}},{key:"enable",value:function(){jQuery(document.documentElement).attr("data-debug-view","enabled"),jQuery.event.trigger(":debugviewupdate")}},{key:"disable",value:function(){jQuery(document.documentElement).removeAttr("data-debug-view"),jQuery.event.trigger(":debugviewupdate")}},{key:"toggle",value:function(){"enabled"===jQuery(document.documentElement).attr("data-debug-view")?e.disable():e.enable()}}]),e}();return e}(),PRNGWrapper=function(){var e=function(){function e(t,r){_classCallCheck(this,e),Object.defineProperties(this,new Math.seedrandom(t,r,function(e,t){return{_prng:{value:e},seed:{writable:!0,value:t},pull:{writable:!0,value:0},random:{value:function(){return++this.pull,this._prng()}}}}))}return _createClass(e,null,[{key:"marshal",value:function(e){if(!e||!e.hasOwnProperty("seed")||!e.hasOwnProperty("pull"))throw new Error("PRNG is missing required data");return{seed:e.seed,pull:e.pull}}},{key:"unmarshal",value:function(t){if(!t||!t.hasOwnProperty("seed")||!t.hasOwnProperty("pull"))throw new Error("PRNG object is missing required data");for(var r=new e(t.seed,!1),n=t.pull;n>0;--n)r.random();return r}}]),e}();return e}(),StyleWrapper=function(){var e=/\[[<>]?[Ii][Mm][Gg]\[(?:\s|\S)*?\]\]+/g,t=new RegExp(e.source),r=function(){function r(e){if(_classCallCheck(this,r),null==e)throw new TypeError("StyleWrapper style parameter must be an HTMLStyleElement object");Object.defineProperties(this,{style:{value:e}})}return _createClass(r,[{key:"isEmpty",value:function(){return 0===this.style.cssRules.length}},{key:"set",value:function(e){this.clear(),this.add(e)}},{key:"add",value:function(r){var n=r;t.test(n)&&(e.lastIndex=0,n=n.replace(e,function(e){var t=Wikifier.helpers.parseSquareBracketedMarkup({source:e,matchStart:0});if(t.hasOwnProperty("error")||t.pos<e.length)return e;var r=t.source;if("data:"!==r.slice(0,5)&&Story.has(r)){var n=Story.get(r);n.tags.includes("Twine.image")&&(r=n.text)}return'url("'+r.replace(/"/g,"%22")+'")'})),this.style.styleSheet?this.style.styleSheet.cssText+=n:this.style.appendChild(document.createTextNode(n))}},{key:"clear",value:function(){this.style.styleSheet?this.style.styleSheet.cssText="":jQuery(this.style).empty()}}]),r}();return r}(),Diff=function(){function e(t,n){for(var a=Object.prototype.toString,i=Array.isArray(t),o=[].concat(Object.keys(t),Object.keys(n)).sort().filter(function(e,t,r){return 0===t||r[t-1]!==e}),s={},u=void 0,l=function(e){return e===u},c=0,d=o.length;c<d;++c){var f=o[c],p=t[f],h=n[f];if(t.hasOwnProperty(f))if(n.hasOwnProperty(f)){if(p===h)continue;if(("undefined"==typeof p?"undefined":_typeof(p))===("undefined"==typeof h?"undefined":_typeof(h)))if("function"==typeof p)p.toString()!==h.toString()&&(s[f]=[r.Copy,h]);else if("object"!==("undefined"==typeof p?"undefined":_typeof(p))||null===p)s[f]=[r.Copy,h];else{var g=a.call(p),m=a.call(h);if(g===m)if("[object Date]"===g){var y=Number(h);Number(p)!==y&&(s[f]=[r.CopyDate,y])}else if("[object RegExp]"===g)p.toString()!==h.toString()&&(s[f]=[r.Copy,clone(h)]);else{var v=e(p,h);null!==v&&(s[f]=v)}else s[f]=[r.Copy,clone(h)]}else s[f]=[r.Copy,"object"!==("undefined"==typeof h?"undefined":_typeof(h))||null===h?h:clone(h)]}else if(i&&Util.isNumeric(f)){var b=Number(f);if(!u){u="";do u+="~";while(o.some(l));s[u]=[r.SpliceArray,b,b]}b<s[u][1]&&(s[u][1]=b),b>s[u][2]&&(s[u][2]=b)}else s[f]=r.Delete;else s[f]=[r.Copy,"object"!==("undefined"==typeof h?"undefined":_typeof(h))||null===h?h:clone(h)]}return Object.keys(s).length>0?s:null}function t(e,n){for(var a=Object.keys(n||{}),i=clone(e),o=0,s=a.length;o<s;++o){var u=a[o],l=n[u];if(l===r.Delete)delete i[u];else if(Array.isArray(l))switch(l[0]){case r.SpliceArray:i.splice(l[1],1+(l[2]-l[1]));break;case r.Copy:i[u]=clone(l[1]);break;case r.CopyDate:i[u]=new Date(l[1])}else i[u]=t(i[u],l)}return i}var r=Util.toEnum({Delete:0,SpliceArray:1,Copy:2,CopyDate:3});return Object.freeze(Object.defineProperties({},{Op:{value:r},diff:{value:e},patch:{value:t}}))}(),L10n=function(){function e(){r()}function t(e,t){if(!e)return"";var r=function(e){var t=void 0;return e.some(function(e){return!!l10nStrings.hasOwnProperty(e)&&(t=e,!0)}),t}(Array.isArray(e)?e:[e]);if(!r)return"";for(var i=50,o=l10nStrings[r],s=0;a.test(o);){if(++s>i)throw new Error("L10n.get exceeded maximum replacement iterations, probable infinite loop");n.lastIndex=0,o=o.replace(n,function(e){var r=e.slice(1,-1);return t&&t.hasOwnProperty(r)?t[r]:l10nStrings.hasOwnProperty(r)?l10nStrings[r]:void 0})}return o}function r(){strings&&Object.keys(strings).length>0&&Object.keys(l10nStrings).forEach(function(e){try{var t=void 0;switch(e){case"identity":t=strings.identity;break;case"aborting":t=strings.aborting;break;case"cancel":t=strings.cancel;break;case"close":t=strings.close;break;case"ok":t=strings.ok;break;case"errorTitle":t=strings.errors.title;break;case"errorNonexistentPassage":t=strings.errors.nonexistentPassage;break;case"errorSaveMissingData":t=strings.errors.saveMissingData;break;case"errorSaveIdMismatch":t=strings.errors.saveIdMismatch;break;case"warningDegraded":t=strings.warnings.degraded;break;case"debugViewTitle":t=strings.debugView.title;break;case"debugViewToggle":t=strings.debugView.toggle;break;case"uiBarToggle":t=strings.uiBar.toggle;break;case"uiBarBackward":t=strings.uiBar.backward;break;case"uiBarForward":t=strings.uiBar.forward;break;case"uiBarJumpto":t=strings.uiBar.jumpto;break;case"jumptoTitle":t=strings.jumpto.title;break;case"jumptoTurn":t=strings.jumpto.turn;break;case"jumptoUnavailable":t=strings.jumpto.unavailable;break;case"savesTitle":t=strings.saves.title;break;case"savesDisallowed":t=strings.saves.disallowed;break;case"savesEmptySlot":t=strings.saves.emptySlot;break;case"savesIncapable":t=strings.saves.incapable;break;case"savesLabelAuto":t=strings.saves.labelAuto;break;case"savesLabelDelete":t=strings.saves.labelDelete;break;case"savesLabelExport":t=strings.saves.labelExport;break;case"savesLabelImport":t=strings.saves.labelImport;break;case"savesLabelLoad":t=strings.saves.labelLoad;break;case"savesLabelClear":t=strings.saves.labelClear;break;case"savesLabelSave":t=strings.saves.labelSave;break;case"savesLabelSlot":t=strings.saves.labelSlot;break;case"savesSavedOn":t=strings.saves.savedOn;break;case"savesUnavailable":t=strings.saves.unavailable;break;case"savesUnknownDate":t=strings.saves.unknownDate;break;case"settingsTitle":t=strings.settings.title;break;case"settingsOff":t=strings.settings.off;break;case"settingsOn":t=strings.settings.on;break;case"settingsReset":t=strings.settings.reset;break;case"restartTitle":t=strings.restart.title;break;case"restartPrompt":t=strings.restart.prompt;break;case"shareTitle":t=strings.share.title;break;case"autoloadTitle":t=strings.autoload.title;break;case"autoloadCancel":t=strings.autoload.cancel;break;case"autoloadOk":t=strings.autoload.ok;break;case"autoloadPrompt":t=strings.autoload.prompt;break;case"macroBackText":t=strings.macros.back.text;break;case"macroReturnText":t=strings.macros.return.text}t&&(l10nStrings[e]=t.replace(/%\w+%/g,function(e){return"{"+e.slice(1,-1)+"}"}))}catch(e){}})}var n=/\{\w+\}/g,a=new RegExp(n.source);return Object.freeze(Object.defineProperties({},{init:{value:e},get:{value:t}}))}(),strings={errors:{},warnings:{},debugView:{},uiBar:{},jumpto:{},saves:{},settings:{},restart:{},share:{},autoload:{},macros:{back:{},return:{}}},l10nStrings={identity:"game",aborting:"Aborting",cancel:"Cancel",close:"Close",ok:"OK",errorTitle:"Error",errorNonexistentPassage:'the passage "{passage}" does not exist',errorSaveMissingData:"save is missing required data. Either the loaded file is not a save or the save has become corrupted",errorSaveIdMismatch:"save is from the wrong {identity}",_warningIntroLacking:"Your browser either lacks or has disabled",_warningOutroDegraded:", so this {identity} is running in a degraded mode. You may be able to continue, however, some parts may not work properly.",warningNoWebStorage:"{_warningIntroLacking} the Web Storage API{_warningOutroDegraded}",warningDegraded:"{_warningIntroLacking} some of the capabilities required by this {identity}{_warningOutroDegraded}",debugViewTitle:"Debug View",debugViewToggle:"Toggle the debug view",uiBarToggle:"Toggle the UI bar",uiBarBackward:"Go backward within the {identity} history",uiBarForward:"Go forward within the {identity} history",uiBarJumpto:"Jump to a specific point within the {identity} history",jumptoTitle:"Jump To",jumptoTurn:"Turn",jumptoUnavailable:"No jump points currently available…",savesTitle:"Saves",savesDisallowed:"Saving has been disallowed on this passage.",savesEmptySlot:"— slot empty —",savesIncapable:"{_warningIntroLacking} the capabilities required to support saves, so saves have been disabled for this session.",savesLabelAuto:"Autosave",savesLabelDelete:"Delete",savesLabelExport:"Save to Disk…",savesLabelImport:"Load from Disk…",savesLabelLoad:"Load",savesLabelClear:"Delete All",savesLabelSave:"Save",savesLabelSlot:"Slot",savesSavedOn:"Saved on",savesUnavailable:"No save slots found…",savesUnknownDate:"unknown",settingsTitle:"Settings",settingsOff:"Off",settingsOn:"On",settingsReset:"Reset to Defaults",restartTitle:"Restart",restartPrompt:"Are you sure that you want to restart? Unsaved progress will be lost.",shareTitle:"Share",autoloadTitle:"Autoload",autoloadCancel:"Go to start",autoloadOk:"Load autosave",autoloadPrompt:"An autosave exists. Load it now or go to the start?",macroBackText:"Back",macroReturnText:"Return"},Config=function(){function e(){throw new Error("Config.history.mode has been deprecated and is no longer used by SugarCube, please remove it from your code")}function t(){throw new Error("Config.history.tracking has been deprecated, use Config.history.maxStates instead")}var r=Object.seal({debug:!1,addVisitedLinkClass:!1,cleanupWikifierOutput:!1,loadDelay:0,history:Object.seal({controls:!0,maxStates:100,get mode(){e()},set mode(t){e()},get tracking(){t()},set tracking(e){t()}}),macros:Object.seal({ifAssignmentError:!0,maxLoopIterations:1e3}),navigation:Object.seal({override:undefined}),passages:Object.seal({descriptions:undefined,displayTitles:!1,nobr:!1,start:undefined,transitionOut:undefined}),saves:Object.seal({autoload:undefined,autosave:undefined,id:"untitled-story",isAllowed:undefined,onLoad:undefined,onSave:undefined,slots:8,version:undefined}),ui:Object.seal({stowBarInitially:800,updateStoryElements:!0}),transitionEndEventName:function(){for(var e=new Map([["transition","transitionend"],["MSTransition","msTransitionEnd"],["WebkitTransition","webkitTransitionEnd"],["MozTransition","transitionend"]]),t=[].concat(_toConsumableArray(e.keys())),r=document.createElement("div"),n=0;n<t.length;++n)if(r.style[t[n]]!==undefined)return e.get(t[n]);return""}()});return r}(),Patterns=function(){var e=function(){var e=new Map([[" ","\\u0020"],["\f","\\f"],["\n","\\n"],["\r","\\r"],["\t","\\t"],["\v","\\v"],[" ","\\u00a0"],[" ","\\u1680"],["᠎","\\u180e"],[" ","\\u2000"],[" ","\\u2001"],[" ","\\u2002"],[" ","\\u2003"],[" ","\\u2004"],[" ","\\u2005"],[" ","\\u2006"],[" ","\\u2007"],[" ","\\u2008"],[" ","\\u2009"],[" ","\\u200a"],["\u2028","\\u2028"],["\u2029","\\u2029"],[" ","\\u202f"],[" ","\\u205f"],["　","\\u3000"],["\ufeff","\\ufeff"]]),t=/\s/,r="";return e.forEach(function(e,n){t.test(n)||(r+=e)}),r?"[\\s"+r+"]":"\\s"}(),t="[\\u0020\\f\\t\\v\\u00a0\\u1680\\u180e\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff]",r="[\\n\\r\\u2028\\u2029]",n="[0-9A-Z_a-z\\-\\u00c0-\\u00d6\\u00d8-\\u00f6\\u00f8-\\u00ff\\u0150\\u0170\\u0151\\u0171]",a=n.replace("\\-",""),i="[$A-Z_a-z]",o=i+"[$0-9A-Z_a-z]*",s="[$_]",u=s+o,l="[A-Za-z][\\w-]*|[=-]",c="("+n+"+)\\(([^\\)\\|\\n]+)\\):",d="("+n+"+):([^;\\|\\n]+);",f="((?:\\."+n+"+)+);",p="((?:#"+n+"+)+);",h=c+"|"+d+"|"+f+"|"+p,g="(?:file|https?|mailto|ftp|javascript|irc|news|data):[^\\s'\"]+";
return Object.freeze({space:e,spaceNoTerminator:t,lineTerminator:r,anyLetter:n,anyLetterStrict:a,identifierFirstChar:i,identifier:o,variableSigil:s,variable:u,macroName:l,inlineCss:h,url:g})}(),Scripting=function(){function addAccessibleClickHandler(e,t,r,n,a){if(arguments.length<2)throw new Error("addAccessibleClickHandler insufficient number of parameters");var i=void 0,o=void 0;if("function"==typeof t?(i=t,o={namespace:n,one:!!r}):(i=r,o={namespace:a,one:!!n,selector:t}),"function"!=typeof i)throw new TypeError("addAccessibleClickHandler handler parameter must be a function");return jQuery(e).ariaClick(o,i)}function insertElement(e,t,r,n,a,i){var o=jQuery(document.createElement(t));return r&&o.attr("id",r),n&&o.addClass(n),i&&o.attr("title",i),a&&o.text(a),e&&o.appendTo(e),o[0]}function insertText(e,t){jQuery(e).append(document.createTextNode(t))}function removeChildren(e){jQuery(e).empty()}function removeElement(e){jQuery(e).remove()}function fade(e,t){function r(){i+=.05*a,n(o,Math.easeInOut(i)),(1===a&&i>=1||a===-1&&i<=0)&&(e.style.visibility="in"===t.fade?"visible":"hidden",o.parentNode.replaceChild(e,o),o=null,window.clearInterval(s),t.onComplete&&t.onComplete())}function n(e,t){e.style.zoom=1,e.style.filter="alpha(opacity="+Math.floor(100*t)+")",e.style.opacity=t}var a="in"===t.fade?1:-1,i=void 0,o=e.cloneNode(!0),s=void 0;e.parentNode.replaceChild(o,e),"in"===t.fade?(i=0,o.style.visibility="visible"):i=1,n(o,i),s=window.setInterval(r,25)}function scrollWindowTo(e,t){function r(){c+=i,window.scroll(0,o+l*(u*Math.easeInOut(c))),c>=1&&window.clearInterval(d)}function n(e){for(var t=0;e.offsetParent;)t+=e.offsetTop,e=e.offsetParent;return t}function a(e){var t=n(e),r=t+e.offsetHeight,a=window.scrollY?window.scrollY:document.body.scrollTop,i=window.innerHeight?window.innerHeight:document.body.clientHeight,o=a+i;return t>=a&&r>o&&e.offsetHeight<i?t-(i-e.offsetHeight)+20:t}var i=null!=t?Number(t):.1;Number.isNaN(i)||!Number.isFinite(i)||i<0?i=.1:i>1&&(i=1);var o=window.scrollY?window.scrollY:document.body.scrollTop,s=a(e),u=Math.abs(o-s),l=o>s?-1:1,c=0,d=void 0;d=window.setInterval(r,25)}function either(){if(0!==arguments.length)return Array.prototype.concat.apply([],arguments).random()}function hasVisited(){if(0===arguments.length)throw new Error("hasVisited called with insufficient parameters");if(State.isEmpty())return!1;for(var e=Array.prototype.concat.apply([],arguments),t=State.passages,r=0,n=e.length;r<n;++r)if(!t.includes(e[r]))return!1;return!0}function lastVisited(){if(0===arguments.length)throw new Error("lastVisited called with insufficient parameters");if(State.isEmpty())return-1;for(var e=Array.prototype.concat.apply([],arguments),t=State.passages,r=t.length-1,n=State.turns,a=0,i=e.length;a<i&&n>-1;++a){var o=t.lastIndexOf(e[a]);n=Math.min(n,o===-1?-1:r-o)}return n}function passage(){return State.passage}function previous(){var e=State.passages;if(arguments.length>0){var t=Number(arguments[0]);if(!Number.isSafeInteger(t)||t<1)throw new RangeError("previous offset parameter must be a positive integer greater than zero");return e.length>t?e[e.length-1-t]:""}for(var r=e.length-2;r>=0;--r)if(e[r]!==State.passage)return e[r];return""}function random(){var e=void 0,t=void 0;switch(arguments.length){case 0:throw new Error("random called with insufficient parameters");case 1:e=0,t=Math.trunc(arguments[0]);break;default:e=Math.trunc(arguments[0]),t=Math.trunc(arguments[1])}if(!Number.isInteger(e))throw new Error("random min parameter must be an integer");if(!Number.isInteger(t))throw new Error("random max parameter must be an integer");if(e>t){var r=[t,e];e=r[0],t=r[1]}return Math.floor(State.random()*(t-e+1))+e}function randomFloat(){var e=void 0,t=void 0;switch(arguments.length){case 0:throw new Error("randomFloat called with insufficient parameters");case 1:e=0,t=Number(arguments[0]);break;default:e=Number(arguments[0]),t=Number(arguments[1])}if(Number.isNaN(e)||!Number.isFinite(e))throw new Error("randomFloat min parameter must be a number");if(Number.isNaN(t)||!Number.isFinite(t))throw new Error("randomFloat max parameter must be a number");if(e>t){var r=[t,e];e=r[0],t=r[1]}return State.random()*(t-e)+e}function tags(){if(0===arguments.length)return Story.get(State.passage).tags.slice(0);for(var e=Array.prototype.concat.apply([],arguments),t=[],r=0,n=e.length;r<n;++r)t=t.concat(Story.get(e[r]).tags);return t}function temporary(){return State.temporary}function time(){return null===Engine.lastPlay?0:Util.now()-Engine.lastPlay}function turns(){return State.turns}function variables(){return State.variables}function visited(){if(State.isEmpty())return 0;for(var e=Array.prototype.concat.apply([],0===arguments.length?[State.passage]:arguments),t=State.passages,r=State.turns,n=0,a=e.length;n<a&&r>0;++n)r=Math.min(r,t.count(e[n]));return r}function visitedTags(){if(0===arguments.length)throw new Error("visitedTags called with insufficient parameters");if(State.isEmpty())return 0;for(var e=Array.prototype.concat.apply([],arguments),t=e.length,r=State.passages,n=new Map,a=0,i=0,o=r.length;i<o;++i){var s=r[i];if(n.has(s))n.get(s)&&++a;else{var u=Story.get(s).tags;if(u.length>0){for(var l=0,c=0;c<t;++c)u.includes(e[c])&&++l;l===t?(++a,n.set(s,!0)):n.set(s,!1)}}}return a}function evalJavaScript(code,output){return function(code,output){return eval(code)}.call(output?{output:output}:null,String(code),output)}function evalTwineScript(code,output){return function(code,output){return eval(code)}.call(output?{output:output}:null,parse(String(code)),output)}var _ref6=function(){function e(e){return e.reduce(function(e,t){return e=e.then(t)},Promise.resolve())}function t(e){return Util.parseUrl(e).path.replace(/^[^\w]+|[^\w]+$/g,"").replace(/[^\w]+/g,"-").toLocaleLowerCase()}function r(){function r(e){return new Promise(function(r,n){jQuery(document.createElement("script")).one("load abort error",function(e){jQuery(e.target).off(),"load"===e.type?r(e.target):n(e.target)}).appendTo(document.head).attr({id:"script-imported-"+t(e),type:"text/javascript",src:e})})}for(var n=arguments.length,a=Array(n),i=0;i<n;i++)a[i]=arguments[i];return Promise.all(a.map(function(t){return Array.isArray(t)?e(t.map(function(e){return function(){return r(e)}})):r(t)}))}function n(){function r(e){return new Promise(function(r,n){jQuery(document.createElement("link")).one("load abort error",function(e){jQuery(e.target).off(),"load"===e.type?r(e.target):n(e.target)}).appendTo(document.head).attr({id:"style-imported-"+t(e),rel:"stylesheet",href:e})})}for(var n=arguments.length,a=Array(n),i=0;i<n;i++)a[i]=arguments[i];return Promise.all(a.map(function(t){return Array.isArray(t)?e(t.map(function(e){return function(){return r(e)}})):r(t)}))}return{importScripts:r,importStyles:n}}(),importScripts=_ref6.importScripts,importStyles=_ref6.importStyles,parse=function(){function e(e){if(0!==r.lastIndex)throw new RangeError("Scripting.parse last index is non-zero at start");for(var a=e,i=void 0;null!==(i=r.exec(a));)if(i[5]){var o=i[5];if("$"===o||"_"===o)continue;if(n.test(o))o=o[0];else if("is"===o){var s=r.lastIndex,u=a.slice(s);/^\s+not\b/.test(u)&&(a=a.splice(s,u.search(/\S/)),o="isnot")}t.hasOwnProperty(o)&&(a=a.splice(i.index,o.length,t[o]),r.lastIndex+=t[o].length-o.length)}return a}var t=Object.freeze({$:"State.variables.",_:"State.temporary.",to:"=",eq:"==",neq:"!=",is:"===",isnot:"!==",gt:">",gte:">=",lt:"<",lte:"<=",and:"&&",or:"||",not:"!",def:'"undefined" !== typeof',ndef:'"undefined" === typeof'}),r=new RegExp(["(\"\"|'')",'("(?:\\\\.|[^"\\\\])+")',"('(?:\\\\.|[^'\\\\])+')","([=+\\-*\\/%<>&\\|\\^~!?:,;\\(\\)\\[\\]{}]+)","([^\"'=+\\-*\\/%<>&\\|\\^~!?:,;\\(\\)\\[\\]{}\\s]+)"].join("|"),"g"),n=new RegExp("^"+Patterns.variable);return e}();return Object.freeze(Object.defineProperties({},{parse:{value:parse},evalJavaScript:{value:evalJavaScript},evalTwineScript:{value:evalTwineScript}}))}(),Wikifier=function(){var e=0,t=function(){function t(r,n,a){_classCallCheck(this,t),t.Parser.Profile.isEmpty()&&t.Parser.Profile.compile(),Object.defineProperties(this,{source:{value:String(n)},options:{writable:!0,value:Object.assign({profile:"all"},a)},nextMatch:{writable:!0,value:0},output:{writable:!0,value:null},_rawArgs:{writable:!0,value:""}}),null==r?this.output=document.createDocumentFragment():r.jquery?this.output=r[0]:this.output=r;try{++e,this.subWikify(this.output),1===e&&Config.cleanupWikifierOutput&&convertBreaks(this.output)}finally{--e}}return _createClass(t,[{key:"subWikify",value:function(e,r,n){var a=this.output,i=void 0;this.output=e,null!=n&&"object"===("undefined"==typeof n?"undefined":_typeof(n))&&(i=this.options,this.options=Object.assign({},this.options,n));var o=t.Parser.Profile.get(this.options.profile),s=r?new RegExp("(?:"+r+")",this.options.ignoreTerminatorCase?"gim":"gm"):null,u=void 0,l=void 0;do{if(o.parserRegExp.lastIndex=this.nextMatch,s&&(s.lastIndex=this.nextMatch),l=o.parserRegExp.exec(this.source),u=s?s.exec(this.source):null,u&&(!l||u.index<=l.index))return u.index>this.nextMatch&&this.outputText(this.output,this.nextMatch,u.index),this.matchStart=u.index,this.matchLength=u[0].length,this.matchText=u[0],this.nextMatch=s.lastIndex,this.output=a,void(i&&(this.options=i));if(l){l.index>this.nextMatch&&this.outputText(this.output,this.nextMatch,l.index),this.matchStart=l.index,this.matchLength=l[0].length,this.matchText=l[0],this.nextMatch=o.parserRegExp.lastIndex;for(var c=void 0,d=1,f=l.length;d<f;++d)if(l[d]){c=d-1;break}if(o.parsers[c].handler(this),null!=TempState.break)break}}while(u||l);null==TempState.break?this.nextMatch<this.source.length&&(this.outputText(this.output,this.nextMatch,this.source.length),this.nextMatch=this.source.length):this.output.lastChild&&this.output.lastChild.nodeType===Node.ELEMENT_NODE&&"BR"===this.output.lastChild.nodeName.toUpperCase()&&jQuery(this.output.lastChild).remove(),this.output=a,i&&(this.options=i)}},{key:"outputText",value:function(e,t,r){jQuery(e).append(document.createTextNode(this.source.substring(t,r)))}},{key:"rawArgs",value:function(){return this._rawArgs}},{key:"fullArgs",value:function(){return Scripting.parse(this._rawArgs)}}],[{key:"getValue",value:function(e){var r=t.parseStoryVariable(e),n=void 0;if(null!==r){n=r.store;for(var a=r.names,i=0,o=a.length;i<o;++i){if("undefined"==typeof n[a[i]]){n=undefined;break}n=n[a[i]]}}return n}},{key:"setValue",value:function(e,r){var n=t.parseStoryVariable(e);if(null!==n){for(var a=n.names,i=a.pop(),o=n.store,s=0,u=a.length;s<u;++s){if("undefined"==typeof o[a[s]]){o=undefined;break}o=o[a[s]]}if(o!==undefined)return o[i]=r,!0}return!1}},{key:"parseStoryVariable",value:function(e){for(var r={store:"$"===e[0]?State.variables:State.temporary,names:[]},n=e,a=void 0;null!==(a=t._parseVarRegExp.exec(n));)n=n.slice(a[0].length),a[1]?r.names.push(a[1]):a[2]?r.names.push(a[2]):a[3]?r.names.push(a[3]):a[4]?r.names.push(a[4]):a[5]?r.names.push(t.getValue(a[5])):a[6]&&r.names.push(Number(a[6]));return""===n?r:null}},{key:"wikifyEval",value:function(e){var r=document.createDocumentFragment();new t(r,e);var n=r.querySelector(".error");if(null!==n)throw new Error(n.textContent.replace(/^(?:(?:Uncaught\s+)?Error:\s+)+/,""));return r}},{key:"createInternalLink",value:function(e,t,r,n){var a=jQuery(document.createElement("a"));return null!=t&&(a.attr("data-passage",t),Story.has(t)?(a.addClass("link-internal"),Config.addVisitedLinkClass&&State.hasPlayed(t)&&a.addClass("link-visited")):a.addClass("link-broken"),a.ariaClick({one:!0},function(){"function"==typeof n&&n(),Engine.play(t)})),r&&a.append(document.createTextNode(r)),e&&a.appendTo(e),a[0]}},{key:"createExternalLink",value:function(e,t,r){var n=jQuery(document.createElement("a")).attr("target","_blank").addClass("link-external").text(r).appendTo(e);return null!=t&&n.attr({href:t,tabindex:0}),n[0]}},{key:"isExternalLink",value:function(e){if(Story.has(e))return!1;var t=new RegExp("^"+Patterns.url,"gim");return t.test(e)||/[\/.?#]/.test(e)}}]),t}();return Object.defineProperty(t,"Parser",{value:function(){function e(){return d}function t(e){if("object"!==("undefined"==typeof e?"undefined":_typeof(e)))throw new Error("Wikifier.Parser.add parser parameter must be an object");if(!e.hasOwnProperty("name"))throw new Error('parser object missing required "name" property');if("string"!=typeof e.name)throw new Error('parser object "name" property must be a string');if(!e.hasOwnProperty("match"))throw new Error('parser object missing required "match" property');if("string"!=typeof e.match)throw new Error('parser object "match" property must be a string');if(!e.hasOwnProperty("handler"))throw new Error('parser object missing required "handler" property');if("function"!=typeof e.handler)throw new Error('parser object "handler" property must be a function');if(e.hasOwnProperty("profiles")&&!Array.isArray(e.profiles))throw new Error('parser object "profiles" property must be an array');if(a(e.name))throw new Error('cannot clobber existing parser "'+e.name+'"');d.push(e)}function r(e){var t=d.find(function(t){return t.name===e});t&&d.delete(t)}function n(){return 0===d.length}function a(e){return!!d.find(function(t){return t.name===e})}function i(e){return d.find(function(t){return t.name===e})||null}function o(){return f}function s(){var e=d,t=e.filter(function(e){return!Array.isArray(e.profiles)||e.profiles.includes("core")});return f=Object.freeze({all:{parsers:e,parserRegExp:new RegExp(e.map(function(e){return"("+e.match+")"}).join("|"),"gm")},core:{parsers:t,parserRegExp:new RegExp(t.map(function(e){return"("+e.match+")"}).join("|"),"gm")}})}function u(){return"object"!==("undefined"==typeof f?"undefined":_typeof(f))||0===Object.keys(f).length}function l(e){if("object"!==("undefined"==typeof f?"undefined":_typeof(f))||!f.hasOwnProperty(e))throw new Error('nonexistent parser profile "'+e+'"');return f[e]}function c(e){return"object"===("undefined"==typeof f?"undefined":_typeof(f))&&f.hasOwnProperty(e)}var d=[],f=void 0;return Object.freeze(Object.defineProperties({},{parsers:{get:e},add:{value:t},delete:{value:r},isEmpty:{value:n},has:{value:a},get:{value:i},Profile:{value:Object.freeze(Object.defineProperties({},{profiles:{get:o},compile:{value:s},isEmpty:{value:u},has:{value:c},get:{value:l}}))}}))}()}),Object.defineProperties(t,{_parseVarRegExp:{value:new RegExp("^(?:"+Patterns.variableSigil+"("+Patterns.identifier+")|\\.("+Patterns.identifier+")|\\[(?:(?:\"((?:\\\\.|[^\"\\\\])+)\")|(?:'((?:\\\\.|[^'\\\\])+)')|("+Patterns.variableSigil+Patterns.identifierFirstChar+".*)|(\\d+))\\])")},helpers:{value:{}},parse:{value:Scripting.parse},evalExpression:{value:Scripting.evalTwineScript},evalStatements:{value:Scripting.evalTwineScript},textPrimitives:{value:Patterns}}),Object.defineProperties(t.helpers,{inlineCss:{value:function(){function e(e){var r={classes:[],id:"",styles:{}},n=void 0;do{t.lastIndex=e.nextMatch;var a=t.exec(e.source);n=a&&a.index===e.nextMatch,n&&(a[1]?r.styles[Util.fromCssProperty(a[1])]=a[2].trim():a[3]?r.styles[Util.fromCssProperty(a[3])]=a[4].trim():a[5]?r.classes=r.classes.concat(a[5].slice(1).split(/\./)):a[6]&&(r.id=a[6].slice(1).split(/#/).pop()),e.nextMatch=t.lastIndex)}while(n);return r}var t=new RegExp(Patterns.inlineCss,"gm");return e}()},evalText:{value:function(e){var t=void 0;try{t=Scripting.evalTwineScript(e),null==t||"function"==typeof t?t=e:(t=String(t),/\[(?:object(?:\s+[^\]]+)?|native\s+code)\]/.test(t)&&(t=e))}catch(r){t=e}return t}},evalPassageId:{value:function(e){return null==e||Story.has(e)?e:t.helpers.evalText(e)}},hasBlockContext:{value:function(e){for(var t="function"==typeof window.getComputedStyle,r=e.length-1;r>=0;--r){var n=e[r];switch(n.nodeType){case Node.ELEMENT_NODE:var a=n.nodeName.toUpperCase();if("BR"===a)return!0;var i=t?window.getComputedStyle(n,null):n.currentStyle;if(i&&i.display){if("none"===i.display)continue;return"block"===i.display}switch(a){case"ADDRESS":case"ARTICLE":case"ASIDE":case"BLOCKQUOTE":case"CENTER":case"DIV":case"DL":case"FIGURE":case"FOOTER":case"FORM":case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"HEADER":case"HR":case"MAIN":case"NAV":case"OL":case"P":case"PRE":case"SECTION":case"TABLE":case"UL":return!0}return!1;case Node.COMMENT_NODE:continue;default:return!1}}return!0}},createShadowSetterCallback:{value:function(){function e(){if(!a&&(a=t.Parser.get("macro"),!a))throw new Error('cannot find "macro" parser');return a}function r(){for(var t=a||e(),r=new Set,n=t.context;null!==n;n=n.parent)n._shadows&&n._shadows.forEach(function(e){return r.add(e)});return[].concat(_toConsumableArray(r))}function n(e){var t={};return r().forEach(function(e){var r=e.slice(1),n="$"===e[0]?State.variables:State.temporary;t[e]=n[r]}),function(){var r=Object.keys(t),n=r.length>0?{}:null;try{return r.forEach(function(e){var r=e.slice(1),a="$"===e[0]?State.variables:State.temporary;a.hasOwnProperty(r)&&(n[r]=a[r]),a[r]=t[e]}),Scripting.evalJavaScript(e)}finally{r.forEach(function(e){var r=e.slice(1),a="$"===e[0]?State.variables:State.temporary;t[e]=a[r],n.hasOwnProperty(r)?a[r]=n[r]:delete a[r]})}}}var a=null;return n}()},parseSquareBracketedMarkup:{value:function(e){function t(){return d>=e.source.length?u:e.source[d++]}function r(){return d>=e.source.length?u:e.source[d]}function n(t){return t<1||d+t>=e.source.length?u:e.source[d+t]}function a(){return{error:String.format.apply(String,arguments),pos:d}}function i(){c=d}function o(t){var r=e.source.slice(c,d).trim();if(""===r)throw new Error("malformed wiki "+(h?"link":"image")+", empty "+t+" component");"link"===t&&"~"===r[0]?(l.forceInternal=!0,l.link=r.slice(1)):l[t]=r,c=d}function s(e){++d;e:for(;;){switch(r()){case"\\":++d;var t=r();if(t!==u&&"\n"!==t)break;case u:case"\n":return u;case e:break e}++d}return d}var u=-1,l={},c=e.matchStart,d=c+1,f=void 0,p=void 0,h=void 0,g=void 0;if(g=r(),"["===g)h=l.isLink=!0;else{switch(h=!1,g){case"<":l.align="left",++d;break;case">":l.align="right",++d}if(!/^[Ii][Mm][Gg]$/.test(e.source.slice(d,d+3)))return a("malformed square-bracketed wiki markup");d+=3,l.isImage=!0}if("["!==t())return a("malformed wiki {0}",h?"link":"image");f=1,p=0,i();try{e:for(;;){switch(g=r()){case u:case"\n":return a("unterminated wiki {0}",h?"link":"image");case'"':if(s(g)===u)return a("unterminated double quoted string in wiki {0}",h?"link":"image");break;case"'":if((4===p||3===p&&h)&&s(g)===u)return a("unterminated single quoted string in wiki {0}",h?"link":"image");break;case"|":0===p&&(o(h?"text":"title"),++c,p=1);break;case"-":0===p&&">"===n(1)&&(o(h?"text":"title"),++d,c+=2,p=1);break;case"<":0===p&&"-"===n(1)&&(o(h?"link":"source"),++d,c+=2,p=2);break;case"[":if(p===-1)return a("unexpected left square bracket '['");++f,1===f&&(i(),++c);break;case"]":if(--f,0===f){switch(p){case 0:case 1:o(h?"link":"source"),p=3;break;case 2:o(h?"text":"title"),p=3;break;case 3:h?(o("setter"),p=-1):(o("link"),p=4);break;case 4:o("setter"),p=-1}if(++d,"]"===r()){++d;break e}--d}}++d}}catch(e){return a(e.message)}return l.pos=d,l}}}),t}();!function(){Wikifier.Parser.add({name:"quoteByBlock",profiles:["block"],match:"^<<<\\n",terminator:"^<<<\\n",handler:function(e){return Wikifier.helpers.hasBlockContext(e.output.childNodes)?void e.subWikify(jQuery(document.createElement("blockquote")).appendTo(e.output).get(0),this.terminator):void jQuery(e.output).append(document.createTextNode(e.matchText))}}),Wikifier.Parser.add({name:"quoteByLine",profiles:["block"],match:"^>+",lookahead:/^>+/gm,terminator:"\\n",handler:function(e){if(!Wikifier.helpers.hasBlockContext(e.output.childNodes))return void jQuery(e.output).append(document.createTextNode(e.matchText));var t=[e.output],r=0,n=e.matchLength,a=void 0,i=void 0;do{if(n>r)for(i=r;i<n;++i)t.push(jQuery(document.createElement("blockquote")).appendTo(t[t.length-1]).get(0));else if(n<r)for(i=r;i>n;--i)t.pop();r=n,e.subWikify(t[t.length-1],this.terminator),jQuery(document.createElement("br")).appendTo(t[t.length-1]),this.lookahead.lastIndex=e.nextMatch;var o=this.lookahead.exec(e.source);a=o&&o.index===e.nextMatch,a&&(n=o[0].length,e.nextMatch+=o[0].length)}while(a)}}),Wikifier.Parser.add({name:"macro",profiles:["core"],match:"<<",lookahead:new RegExp("<<(/?"+Patterns.macroName+")(?:\\s*)((?:(?:\"(?:\\\\.|[^\"\\\\])*\")|(?:'(?:\\\\.|[^'\\\\])*')|(?:\\[(?:[<>]?[Ii][Mm][Gg])?\\[[^\\r\\n]*?\\]\\]+)|[^>]|(?:>(?!>)))*)>>","gm"),argsPattern:["(``)","`((?:\\\\.|[^`\\\\])+)`","(\"\"|'')",'("(?:\\\\.|[^"\\\\])+")',"('(?:\\\\.|[^'\\\\])+')","(\\[(?:[<>]?[Ii][Mm][Gg])?\\[[^\\r\\n]*?\\]\\]+)","([^`\"'\\s]+)","(`|\"|')"].join("|"),working:{source:"",name:"",arguments:"",index:0},context:null,handler:function(e){var t=this.lookahead.lastIndex=e.matchStart;if(this.parseTag(e)){var r=e.nextMatch,n=this.working.source,a=this.working.name,i=this.working.arguments,o=void 0;try{if(o=Macro.get(a),!o){if(Macro.tags.has(a)){var s=Macro.tags.get(a);return throwError(e.output,"child tag <<"+a+">> was found outside of a call to its parent macro"+(1===s.length?"":"s")+" <<"+s.join(">>, <<")+">>",e.source.slice(t,e.nextMatch))}return throwError(e.output,"macro <<"+a+">> does not exist",e.source.slice(t,e.nextMatch))}var u=null;if(o.hasOwnProperty("tags")&&(u=this.parseBody(e,o),!u))return e.nextMatch=r,throwError(e.output,"cannot find a closing tag for macro <<"+a+">>",e.source.slice(t,e.nextMatch)+"…");if("function"!=typeof o.handler)return throwError(e.output,"macro <<"+a+">> handler function "+(o.hasOwnProperty("handler")?"is not a function":"does not exist"),e.source.slice(t,e.nextMatch));var l=u?u[0].args:this.createArgs(i,o.hasOwnProperty("skipArgs")&&!!o.skipArgs||o.hasOwnProperty("skipArg0")&&!!o.skipArg0);if(o.hasOwnProperty("_MACRO_API")){this.context=new MacroContext({parent:this.context,macro:o,name:a,args:l,payload:u,parser:e,source:n});try{o.handler.call(this.context)}finally{this.context=this.context.parent}}else{var c=e._rawArgs;e._rawArgs=i;try{o.handler(e.output,a,l,e,u)}finally{e._rawArgs=c}}}catch(r){return throwError(e.output,"cannot execute "+(o&&o.isWidget?"widget":"macro")+" <<"+a+">>: "+r.message,e.source.slice(t,e.nextMatch))}finally{this.working.source="",this.working.name="",this.working.arguments="",this.working.index=0}}else e.outputText(e.output,e.matchStart,e.nextMatch)},parseTag:function(e){var t=this.lookahead.exec(e.source);return!(!t||t.index!==e.matchStart||!t[1])&&(e.nextMatch=this.lookahead.lastIndex,this.working.source=e.source.slice(t.index,this.lookahead.lastIndex),this.working.name=t[1],this.working.arguments=t[2],this.working.index=t.index,!0)},parseBody:function(e,t){for(var r=this.working.name,n="/"+r,a="end"+r,i=!!Array.isArray(t.tags)&&t.tags,o=[],s=t.hasOwnProperty("skipArgs")&&t.skipArgs,u=t.hasOwnProperty("skipArg0")&&t.skipArg0,l=-1,c=1,d=this.working.source,f=this.working.name,p=this.working.arguments,h=e.nextMatch;(e.matchStart=e.source.indexOf(this.match,e.nextMatch))!==-1;)if(this.parseTag(e)){var g=this.working.source,m=this.working.name,y=this.working.arguments,v=this.working.index,b=e.nextMatch;switch(m){case r:++c;break;case a:case n:--c;break;default:if(1===c&&i)for(var w=0,k=i.length;w<k;++w)m===i[w]&&(o.push({source:d,name:f,arguments:p,args:this.createArgs(p,s||0===o.length&&u),contents:e.source.slice(h,v)}),d=g,f=m,p=y,h=b)}if(0===c){o.push({source:d,name:f,arguments:p,args:this.createArgs(p,s||0===o.length&&u),contents:e.source.slice(h,v)}),l=b;break}}else this.lookahead.lastIndex=e.nextMatch=e.matchStart+this.match.length;return l!==-1?(e.nextMatch=l,o):null},createArgs:function(e,t){var r=t?[]:this.parseArgs(e);return Object.defineProperties(r,{raw:{value:e},full:{value:Scripting.parse(e)}}),r},parseArgs:function(e){for(var t=new RegExp(this.argsPattern,"gm"),r=[],n=new RegExp("^"+Patterns.variable),a=void 0;null!==(a=t.exec(e));){var i=void 0;if(a[1])i=undefined;else if(a[2]){i=a[2];try{i=Scripting.evalTwineScript(i)}catch(e){throw new Error('unable to parse macro argument "'+i+'": '+e.message)}}else if(a[3])i="";else if(a[4]){i=a[4];try{i=Scripting.evalJavaScript(i)}catch(e){throw new Error("unable to parse macro argument '"+i+"': "+e.message)}}else if(a[5]){i=a[5];try{i=Scripting.evalJavaScript(i)}catch(e){throw new Error('unable to parse macro argument "'+i+'": '+e.message)}}else if(a[6]){i=a[6];var o=Wikifier.helpers.parseSquareBracketedMarkup({source:i,matchStart:0});if(o.hasOwnProperty("error"))throw new Error('unable to parse macro argument "'+i+'": '+o.error);if(o.pos<i.length)throw new Error('unable to parse macro argument "'+i+'": unexpected character(s) "'+i.slice(o.pos)+'" (pos: '+o.pos+")");o.isLink?(i={isLink:!0},i.count=o.hasOwnProperty("text")?2:1,i.link=Wikifier.helpers.evalPassageId(o.link),i.text=o.hasOwnProperty("text")?Wikifier.helpers.evalText(o.text):i.link,i.external=!o.forceInternal&&Wikifier.isExternalLink(i.link),i.setFn=o.hasOwnProperty("setter")?Wikifier.helpers.createShadowSetterCallback(Scripting.parse(o.setter)):null):o.isImage&&(i=function(e){var t={source:e,isImage:!0};if("data:"!==e.slice(0,5)&&Story.has(e)){var r=Story.get(e);r.tags.includes("Twine.image")&&(t.source=r.text,t.passage=r.title)}return t}(Wikifier.helpers.evalPassageId(o.source)),o.hasOwnProperty("align")&&(i.align=o.align),o.hasOwnProperty("title")&&(i.title=Wikifier.helpers.evalText(o.title)),o.hasOwnProperty("link")&&(i.link=Wikifier.helpers.evalPassageId(o.link),i.external=!o.forceInternal&&Wikifier.isExternalLink(i.link)),i.setFn=o.hasOwnProperty("setter")?Wikifier.helpers.createShadowSetterCallback(Scripting.parse(o.setter)):null)}else if(a[7])if(i=a[7],n.test(i))i=Wikifier.getValue(i);else if(/^(?:settings|setup)[.[]/.test(i))try{i=Scripting.evalTwineScript(i)}catch(e){throw new Error('unable to parse macro argument "'+i+'": '+e.message)}else if("null"===i)i=null;else if("undefined"===i)i=undefined;else if("true"===i)i=!0;else if("false"===i)i=!1;else{var s=Number(i);Number.isNaN(s)||(i=s)}else if(a[8]){var u=void 0;switch(a[8]){case"`":u="backquote expression";break;case'"':u="double quoted string";break;case"'":u="single quoted string"}throw new Error("unterminated "+u+" in macro argument string")}r.push(i)}return r}}),Wikifier.Parser.add({name:"prettyLink",profiles:["core"],match:"\\[\\[[^[]",handler:function(e){var t=Wikifier.helpers.parseSquareBracketedMarkup(e);if(t.hasOwnProperty("error"))return void e.outputText(e.output,e.matchStart,e.nextMatch);e.nextMatch=t.pos;var r=Wikifier.helpers.evalPassageId(t.link),n=t.hasOwnProperty("text")?Wikifier.helpers.evalText(t.text):r,a=t.hasOwnProperty("setter")?Wikifier.helpers.createShadowSetterCallback(Scripting.parse(t.setter)):null,i=(Config.debug?new DebugView(e.output,"wiki-link","[[link]]",e.source.slice(e.matchStart,e.nextMatch)):e).output;t.forceInternal||!Wikifier.isExternalLink(r)?Wikifier.createInternalLink(i,r,n,a):Wikifier.createExternalLink(i,r,n)}}),Wikifier.Parser.add({name:"urlLink",profiles:["core"],match:Patterns.url,handler:function(e){e.outputText(Wikifier.createExternalLink(e.output,e.matchText),e.matchStart,e.nextMatch)}}),Wikifier.Parser.add({name:"image",profiles:["core"],match:"\\[[<>]?[Ii][Mm][Gg]\\[",handler:function(e){var t=Wikifier.helpers.parseSquareBracketedMarkup(e);if(t.hasOwnProperty("error"))return void e.outputText(e.output,e.matchStart,e.nextMatch);e.nextMatch=t.pos;var r=void 0;Config.debug&&(r=new DebugView(e.output,"wiki-image",t.hasOwnProperty("link")?"[img[][link]]":"[img[]]",e.source.slice(e.matchStart,e.nextMatch)),r.modes({block:!0}));var n=t.hasOwnProperty("setter")?Wikifier.helpers.createShadowSetterCallback(Scripting.parse(t.setter)):null,a=(Config.debug?r:e).output,i=void 0;if(t.hasOwnProperty("link")){var o=Wikifier.helpers.evalPassageId(t.link);a=t.forceInternal||!Wikifier.isExternalLink(o)?Wikifier.createInternalLink(a,o,null,n):Wikifier.createExternalLink(a,o),a.classList.add("link-image")}if(a=jQuery(document.createElement("img")).appendTo(a).get(0),i=Wikifier.helpers.evalPassageId(t.source),"data:"!==i.slice(0,5)&&Story.has(i)){var s=Story.get(i);s.tags.includes("Twine.image")&&(a.setAttribute("data-passage",s.title),i=s.text)}a.src=i,t.hasOwnProperty("title")&&(a.title=Wikifier.helpers.evalText(t.title)),t.hasOwnProperty("align")&&(a.align=t.align)}}),Wikifier.Parser.add({name:"monospacedByBlock",profiles:["block"],match:"^\\{\\{\\{\\n",lookahead:/^\{\{\{\n((?:^[^\n]*\n)+?)(^\}\}\}$\n?)/gm,handler:function(e){this.lookahead.lastIndex=e.matchStart;var t=this.lookahead.exec(e.source);if(t&&t.index===e.matchStart){var r=jQuery(document.createElement("pre"));jQuery(document.createElement("code")).text(t[1]).appendTo(r),r.appendTo(e.output),e.nextMatch=this.lookahead.lastIndex}}}),Wikifier.Parser.add({name:"formatByChar",profiles:["core"],match:"''|//|__|\\^\\^|~~|==|\\{\\{\\{",handler:function(e){switch(e.matchText){case"''":e.subWikify(jQuery(document.createElement("strong")).appendTo(e.output).get(0),"''");break;case"//":e.subWikify(jQuery(document.createElement("em")).appendTo(e.output).get(0),"//");break;case"__":e.subWikify(jQuery(document.createElement("u")).appendTo(e.output).get(0),"__");break;case"^^":e.subWikify(jQuery(document.createElement("sup")).appendTo(e.output).get(0),"\\^\\^");break;case"~~":e.subWikify(jQuery(document.createElement("sub")).appendTo(e.output).get(0),"~~");break;case"==":e.subWikify(jQuery(document.createElement("s")).appendTo(e.output).get(0),"==");break;case"{{{":var t=/\{\{\{((?:.|\n)*?)\}\}\}/gm;t.lastIndex=e.matchStart;var r=t.exec(e.source);r&&r.index===e.matchStart&&(jQuery(document.createElement("code")).text(r[1]).appendTo(e.output),e.nextMatch=t.lastIndex)}}}),Wikifier.Parser.add({name:"customStyle",profiles:["core"],match:"@@",terminator:"@@",blockRegExp:/\s*\n/gm,handler:function(e){var t=Wikifier.helpers.inlineCss(e);this.blockRegExp.lastIndex=e.nextMatch;var r=this.blockRegExp.exec(e.source),n=r&&r.index===e.nextMatch,a=jQuery(document.createElement(n?"div":"span")).appendTo(e.output);0===t.classes.length&&""===t.id&&0===Object.keys(t.styles).length?a.addClass("marked"):(t.classes.forEach(function(e){return a.addClass(e)}),""!==t.id&&a.attr("id",t.id),a.css(t.styles)),n?(e.nextMatch+=r[0].length,e.subWikify(a[0],"\\n?"+this.terminator)):e.subWikify(a[0],this.terminator)}}),Wikifier.Parser.add({name:"verbatimText",profiles:["core"],match:'"{3}|<[Nn][Oo][Ww][Ii][Kk][Ii]>',lookahead:/(?:"{3}((?:.|\n)*?)"{3})|(?:<[Nn][Oo][Ww][Ii][Kk][Ii]>((?:.|\n)*?)<\/[Nn][Oo][Ww][Ii][Kk][Ii]>)/gm,handler:function(e){this.lookahead.lastIndex=e.matchStart;var t=this.lookahead.exec(e.source);t&&t.index===e.matchStart&&(e.nextMatch=this.lookahead.lastIndex,jQuery(document.createElement("span")).addClass("verbatim").text(t[1]||t[2]).appendTo(e.output))}}),Wikifier.Parser.add({name:"horizontalRule",profiles:["core"],match:"^----+$\\n?|<[Hh][Rr]\\s*/?>\\n?",handler:function(e){jQuery(document.createElement("hr")).appendTo(e.output)}}),Wikifier.Parser.add({name:"emdash",profiles:["core"],match:"--",handler:function(e){jQuery(document.createTextNode("—")).appendTo(e.output)}}),Wikifier.Parser.add({name:"doubleDollarSign",profiles:["core"],match:"\\${2}",handler:function(e){jQuery(document.createTextNode("$")).appendTo(e.output)}}),Wikifier.Parser.add({name:"nakedVariable",profiles:["core"],match:Patterns.variable+"(?:(?:\\."+Patterns.identifier+")|(?:\\[\\d+\\])|(?:\\[\"(?:\\\\.|[^\"\\\\])+\"\\])|(?:\\['(?:\\\\.|[^'\\\\])+'\\])|(?:\\["+Patterns.variable+"\\]))*",handler:function(e){var t=toStringOrDefault(Wikifier.getValue(e.matchText),null);null===t?jQuery(document.createTextNode(e.matchText)).appendTo(e.output):new Wikifier((Config.debug?new DebugView(e.output,"variable",e.matchText,e.matchText):e).output,t)}}),Wikifier.Parser.add({name:"heading",profiles:["block"],match:"^!{1,6}",terminator:"\\n",handler:function(e){return Wikifier.helpers.hasBlockContext(e.output.childNodes)?void e.subWikify(jQuery(document.createElement("h"+e.matchLength)).appendTo(e.output).get(0),this.terminator):void jQuery(e.output).append(document.createTextNode(e.matchText))}
}),Wikifier.Parser.add({name:"table",profiles:["block"],match:"^\\|(?:[^\\n]*)\\|(?:[fhck]?)$",lookahead:/^\|([^\n]*)\|([fhck]?)$/gm,rowTerminator:"\\|(?:[cfhk]?)$\\n?",cellPattern:"(?:\\|([^\\n\\|]*)\\|)|(\\|[cfhk]?$\\n?)",cellTerminator:"(?:\\u0020*)\\|",rowTypes:{c:"caption",f:"tfoot",h:"thead","":"tbody"},handler:function(e){if(!Wikifier.helpers.hasBlockContext(e.output.childNodes))return void jQuery(e.output).append(document.createTextNode(e.matchText));var t=jQuery(document.createElement("table")).appendTo(e.output).get(0),r=[],n=null,a=null,i=0,o=void 0;e.nextMatch=e.matchStart;do{this.lookahead.lastIndex=e.nextMatch;var s=this.lookahead.exec(e.source);if(o=s&&s.index===e.nextMatch){var u=s[2];"k"===u?(t.className=s[1],e.nextMatch+=s[0].length+1):(u!==n&&(n=u,a=jQuery(document.createElement(this.rowTypes[u])).appendTo(t)),"c"===n?(a.css("caption-side",0===i?"top":"bottom"),e.nextMatch+=1,e.subWikify(a[0],this.rowTerminator)):this.rowHandler(e,jQuery(document.createElement("tr")).appendTo(a).get(0),r),++i)}}while(o)},rowHandler:function(e,t,r){var n=this,a=new RegExp(this.cellPattern,"gm"),i=0,o=1,s=void 0;do{a.lastIndex=e.nextMatch;var u=a.exec(e.source);if(s=u&&u.index===e.nextMatch){if("~"===u[1]){var l=r[i];l&&(++l.rowCount,l.$element.attr("rowspan",l.rowCount).css("vertical-align","middle")),e.nextMatch=u.index+u[0].length-1}else if(">"===u[1])++o,e.nextMatch=u.index+u[0].length-1;else{if(u[2]){e.nextMatch=u.index+u[0].length;break}!function(){++e.nextMatch;for(var a=Wikifier.helpers.inlineCss(e),s=!1,u=!1,l=void 0;" "===e.source.substr(e.nextMatch,1);)s=!0,++e.nextMatch;"!"===e.source.substr(e.nextMatch,1)?(l=jQuery(document.createElement("th")).appendTo(t),++e.nextMatch):l=jQuery(document.createElement("td")).appendTo(t),r[i]={rowCount:1,$element:l},o>1&&(l.attr("colspan",o),o=1),e.subWikify(l[0],n.cellTerminator)," "===e.matchText.substr(e.matchText.length-2,1)&&(u=!0),a.classes.forEach(function(e){return l.addClass(e)}),""!==a.id&&l.attr("id",a.id),s&&u?a.styles["text-align"]="center":s?a.styles["text-align"]="right":u&&(a.styles["text-align"]="left"),l.css(a.styles),e.nextMatch=e.nextMatch-1}()}++i}}while(s)}}),Wikifier.Parser.add({name:"list",profiles:["block"],match:"^(?:(?:\\*+)|(?:#+))",lookahead:/^(?:(\*+)|(#+))/gm,terminator:"\\n",handler:function(e){if(!Wikifier.helpers.hasBlockContext(e.output.childNodes))return void jQuery(e.output).append(document.createTextNode(e.matchText));e.nextMatch=e.matchStart;var t=[e.output],r=null,n=0,a=void 0,i=void 0;do{this.lookahead.lastIndex=e.nextMatch;var o=this.lookahead.exec(e.source);if(a=o&&o.index===e.nextMatch){var s=o[2]?"ol":"ul",u=o[0].length;if(e.nextMatch+=o[0].length,u>n)for(i=n;i<u;++i)t.push(jQuery(document.createElement(s)).appendTo(t[t.length-1]).get(0));else if(u<n)for(i=n;i>u;--i)t.pop();else u===n&&s!==r&&(t.pop(),t.push(jQuery(document.createElement(s)).appendTo(t[t.length-1]).get(0)));n=u,r=s,e.subWikify(jQuery(document.createElement("li")).appendTo(t[t.length-1]).get(0),this.terminator)}}while(a)}}),Wikifier.Parser.add({name:"verbatimHtml",profiles:["core"],match:"<[Hh][Tt][Mm][Ll]>",lookahead:/<[Hh][Tt][Mm][Ll]>((?:.|\n)*?)<\/[Hh][Tt][Mm][Ll]>/gm,handler:function(e){this.lookahead.lastIndex=e.matchStart;var t=this.lookahead.exec(e.source);t&&t.index===e.matchStart&&(e.nextMatch=this.lookahead.lastIndex,jQuery(document.createDocumentFragment()).append(t[1]).appendTo(e.output))}}),Wikifier.Parser.add({name:"commentByBlock",profiles:["core"],match:"(?:/(?:%|\\*))|(?:<!--)",lookahead:/(?:\/(%|\*)(?:(?:.|\n)*?)\1\/)|(?:<!--(?:(?:.|\n)*?)-->)/gm,handler:function(e){this.lookahead.lastIndex=e.matchStart;var t=this.lookahead.exec(e.source);t&&t.index===e.matchStart&&(e.nextMatch=this.lookahead.lastIndex)}}),Wikifier.Parser.add({name:"lineContinuation",profiles:["core"],match:"\\\\"+Patterns.spaceNoTerminator+"*(?:\\n|$)|(?:^|\\n)"+Patterns.spaceNoTerminator+"*\\\\",handler:function(e){e.nextMatch=e.matchStart+e.matchLength}}),Wikifier.Parser.add({name:"lineBreak",profiles:["core"],match:"\\n|<[Bb][Rr]\\s*/?>",handler:function(e){e.options.nobr||jQuery(document.createElement("br")).appendTo(e.output)}}),Wikifier.Parser.add({name:"htmlCharacterReference",profiles:["core"],match:"(?:(?:&#?[0-9A-Za-z]{2,8};|.)(?:&#?(?:x0*(?:3[0-6][0-9A-Fa-f]|1D[C-Fc-f][0-9A-Fa-f]|20[D-Fd-f][0-9A-Fa-f]|FE2[0-9A-Fa-f])|0*(?:76[89]|7[7-9][0-9]|8[0-7][0-9]|761[6-9]|76[2-7][0-9]|84[0-3][0-9]|844[0-7]|6505[6-9]|6506[0-9]|6507[0-1]));)+|&#?[0-9A-Za-z]{2,8};)",handler:function(e){jQuery(document.createDocumentFragment()).append(e.matchText).appendTo(e.output)}}),Wikifier.Parser.add({name:"xmlProlog",profiles:["core"],match:"<\\?[Xx][Mm][Ll][^>]*\\?>",handler:function(e){e.nextMatch=e.matchStart+e.matchLength}}),Wikifier.Parser.add({name:"verbatimSvg",profiles:["core"],match:"<[Ss][Vv][Gg][^>]*>",lookahead:/(<[Ss][Vv][Gg][^>]*>(?:.|\n)*?<\/[Ss][Vv][Gg]>)/gm,handler:function(e){this.lookahead.lastIndex=e.matchStart;var t=this.lookahead.exec(e.source);t&&t.index===e.matchStart&&(e.nextMatch=this.lookahead.lastIndex,jQuery(document.createDocumentFragment()).append(t[1]).appendTo(e.output))}}),Wikifier.Parser.add({name:"htmlTag",profiles:["core"],match:"<\\w+(?:\\s+[^\\u0000-\\u001F\\u007F-\\u009F\\s\"'>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*?\"|'[^']*?'|[^\\s\"'=<>`]+))?)*\\s*\\/?>",tagPattern:"<(\\w+)",voidElements:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],nobrElements:["colgroup","datalist","dl","figure","ol","optgroup","select","table","tbody","tfoot","thead","tr","ul"],handler:function(e){var t=new RegExp(this.tagPattern).exec(e.matchText),r=t&&t[1],n=r&&r.toLowerCase();if(n){var a=this.voidElements.includes(n)||e.matchText.endsWith("/>"),i=this.nobrElements.includes(n),o=void 0,s=void 0;if(!a){o="<\\/"+n+"\\s*>";var u=new RegExp(o,"gim");u.lastIndex=e.matchStart,s=u.exec(e.source)}if(a||s){var l=e.output,c=document.createElement(e.output.tagName),d=void 0;for(c.innerHTML=e.matchText;c.firstChild;)c=c.firstChild;try{this.processAttributeDirectives(c)}catch(t){return throwError(e.output,"<"+n+">: bad evaluation from attribute directive: "+t.message,e.matchText+"…")}c.hasAttribute("data-passage")&&(this.processDataAttributes(c),Config.debug&&(d=new DebugView(e.output,"html-"+n,n,e.matchText),d.modes({block:"img"===n,nonvoid:s}),l=d.output)),s&&(e.subWikify(c,o,{ignoreTerminatorCase:!0,nobr:i}),d&&jQuery(c).find(".debug.block").length>0&&d.modes({block:!0})),l.appendChild(c)}else throwError(e.output,'HTML tag "'+r+'" is not closed',e.matchText+"…")}},processAttributeDirectives:function(e){for(var t=e.attributes,r=0;r<t.length;++r){var n=t[r],a=n.name,i=n.value,o="@"===a[0];if(o||a.startsWith("sc-eval:")){var s=a.slice(o?1:8);e.setAttribute(s,Scripting.evalTwineScript(i)),e.removeAttribute(a)}}},processDataAttributes:function(e){var t=e.getAttribute("data-passage");if(null!=t){var r=Wikifier.helpers.evalPassageId(t);r!==t&&(t=r,e.setAttribute("data-passage",r)),""!==t&&("IMG"===e.tagName.toUpperCase()?"data:"!==t.slice(0,5)&&Story.has(t)&&(t=Story.get(t),t.tags.includes("Twine.image")&&(e.src=t.text.trim())):!function(){var r=e.getAttribute("data-setter"),n=void 0;null!=r&&(r=String(r).trim(),""!==r&&(n=Wikifier.helpers.createShadowSetterCallback(Scripting.parse(r)))),Story.has(t)?(e.classList.add("link-internal"),Config.addVisitedLinkClass&&State.hasPlayed(t)&&e.classList.add("link-visited")):e.classList.add("link-broken"),jQuery(e).ariaClick({one:!0},function(){"function"==typeof n&&n.call(this),Engine.play(t)})}())}}})}();var Macro=function(){function e(t,r,a){if(Array.isArray(t))return void t.forEach(function(t){return e(t,r,a)});if(!f.test(t))throw new Error('invalid macro name "'+t+'"');if(n(t))throw new Error("cannot clobber existing macro <<"+t+">>");if(u(t))throw new Error("cannot clobber child tag <<"+t+">> of parent macro"+(1===d[t].length?"":"s")+" <<"+d[t].join(">>, <<")+">>");try{if("object"===("undefined"==typeof r?"undefined":_typeof(r)))c[t]=a?clone(r):r;else{if(!n(r))throw new Error("cannot create alias of nonexistent macro <<"+r+">>");c[t]=a?clone(c[r]):c[r]}Object.defineProperty(c,t,{writable:!1}),c[t]._MACRO_API=!0}catch(e){throw"TypeError"===e.name?new Error("cannot clobber protected macro <<"+t+">>"):new Error("unknown error when attempting to add macro <<"+t+">>: ["+e.name+"] "+e.message)}if(c[t].hasOwnProperty("tags"))if(null==c[t].tags)o(t);else{if(!Array.isArray(c[t].tags))throw new Error('bad value for "tags" property of macro <<'+t+">>");o(t,c[t].tags)}}function t(e){if(Array.isArray(e))return void e.forEach(function(e){return t(e)});if(n(e)){c[e].hasOwnProperty("tags")&&s(e);try{Object.defineProperty(c,e,{writable:!0}),delete c[e]}catch(t){throw new Error("unknown error removing macro <<"+e+">>: "+t.message)}}else if(u(e))throw new Error("cannot remove child tag <<"+e+">> of parent macro <<"+d[e]+">>")}function r(){return 0===Object.keys(c).length}function n(e){return c.hasOwnProperty(e)}function a(e){var t=null;return n(e)&&"function"==typeof c[e].handler?t=c[e]:macros.hasOwnProperty(e)&&"function"==typeof macros[e].handler&&(t=macros[e]),t}function i(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"init";Object.keys(c).forEach(function(t){"function"==typeof c[t][e]&&c[t][e](t)}),Object.keys(macros).forEach(function(t){"function"==typeof macros[t][e]&&macros[t][e](t)})}function o(e,t){if(!e)throw new Error("no parent specified");for(var r=["/"+e,"end"+e],a=[].concat(r,Array.isArray(t)?t:[]),i=0;i<a.length;++i){var o=a[i];if(n(o))throw new Error("cannot register tag for an existing macro");u(o)?d[o].includes(e)||(d[o].push(e),d[o].sort()):d[o]=[e]}}function s(e){if(!e)throw new Error("no parent specified");Object.keys(d).forEach(function(t){var r=d[t].indexOf(e);r!==-1&&(1===d[t].length?delete d[t]:d[t].splice(r,1))})}function u(e){return d.hasOwnProperty(e)}function l(e){return u(e)?d[e]:null}var c={},d={},f=new RegExp("^(?:"+Patterns.macroName+")$");return Object.freeze(Object.defineProperties({},{add:{value:e},delete:{value:t},isEmpty:{value:r},has:{value:n},get:{value:a},init:{value:i},tags:{value:Object.freeze(Object.defineProperties({},{register:{value:o},unregister:{value:s},has:{value:u},get:{value:l}}))},evalStatements:{value:function(){return Scripting.evalJavaScript.apply(Scripting,arguments)}}}))}(),MacroContext=function(){var e=function(){function e(t){_classCallCheck(this,e);var r=Object.assign({parent:null,macro:null,name:"",args:null,payload:null,parser:null,source:""},t);if(null===r.macro||""===r.name||null===r.parser)throw new TypeError("context object missing required properties");Object.defineProperties(this,{parent:{value:r.parent},self:{value:r.macro},name:{value:r.name},args:{value:r.args},payload:{value:r.payload},source:{value:r.source},parser:{value:r.parser},_output:{value:r.parser.output},_shadows:{writable:!0,value:null},_debugView:{writable:!0,value:null},_debugViewEnabled:{writable:!0,value:Config.debug}})}return _createClass(e,[{key:"contextHas",value:function(e){for(var t=this;null!==(t=t.parent);)if(e(t))return!0;return!1}},{key:"contextSelect",value:function(e){for(var t=this;null!==(t=t.parent);)if(e(t))return t;return null}},{key:"contextSelectAll",value:function(e){for(var t=[],r=this;null!==(r=r.parent);)e(r)&&t.push(r);return t}},{key:"addShadow",value:function(){var e=this;this._shadows||(this._shadows=new Set);for(var t=new RegExp("^"+Patterns.variable+"$"),r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];n.flatten().forEach(function(r){if("string"!=typeof r)throw new TypeError("variable name must be a string; type: "+("undefined"==typeof r?"undefined":_typeof(r)));if(!t.test(r))throw new Error('invalid variable name "'+r+'"');e._shadows.add(r)})}},{key:"createShadowWrapper",value:function(e,t,r){var n=void 0;return"function"==typeof e&&(n={},this.shadowView.forEach(function(e){var t=e.slice(1),r="$"===e[0]?State.variables:State.temporary;n[e]=r[t]})),function(){for(var a=this,i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];"function"==typeof r&&r.apply(this,o),"function"==typeof e&&!function(){var t=Object.keys(n),r=t.length>0?{}:null;try{t.forEach(function(e){var t=e.slice(1),a="$"===e[0]?State.variables:State.temporary;a.hasOwnProperty(t)&&(r[t]=a[t]),a[t]=n[e]}),e.apply(a,o)}finally{t.forEach(function(e){var t=e.slice(1),a="$"===e[0]?State.variables:State.temporary;n[e]=a[t],r.hasOwnProperty(t)?a[t]=r[t]:delete a[t]})}}(),"function"==typeof t&&t.apply(this,o)}}},{key:"createDebugView",value:function(e,t){return this._debugView=new DebugView(this._output,"macro",e?e:this.name,t?t:this.source),null!==this.payload&&this.payload.length>0&&this._debugView.modes({nonvoid:!0}),this._debugViewEnabled=!0,this._debugView}},{key:"removeDebugView",value:function(){null!==this._debugView&&(this._debugView.remove(),this._debugView=null),this._debugViewEnabled=!1}},{key:"error",value:function(e,t){return throwError(this._output,"<<"+this.name+">>: "+e,t?t:this.source)}},{key:"output",get:function(){return this._debugViewEnabled?this.debugView.output:this._output}},{key:"shadows",get:function(){return[].concat(_toConsumableArray(this._shadows))}},{key:"shadowView",get:function(){var e=new Set;return this.contextSelectAll(function(e){return e._shadows}).forEach(function(t){return t._shadows.forEach(function(t){return e.add(t)})}),[].concat(_toConsumableArray(e))}},{key:"debugView",get:function(){return this._debugViewEnabled?null!==this._debugView?this._debugView:this.createDebugView():null}}]),e}();return e}();!function(){Macro.add("capture",{skipArgs:!0,tags:null,handler:function(){if(0===this.args.raw.length)return this.error("no story/temporary variable list specified");var e={};try{for(var t=new RegExp("("+Patterns.variable+")","g"),r=void 0;null!==(r=t.exec(this.args.raw));){var n=r[1],a=n.slice(1),i="$"===n[0]?State.variables:State.temporary;i.hasOwnProperty(a)&&(e[a]=i[a]),this.addShadow(n)}new Wikifier(this.output,this.payload[0].contents)}finally{this.shadows.forEach(function(t){var r=t.slice(1),n="$"===t[0]?State.variables:State.temporary;e.hasOwnProperty(r)?n[r]=e[r]:delete n[r]})}}}),Macro.add("set",{skipArgs:!0,handler:function(){if(0===this.args.full.length)return this.error("no expression specified");try{Scripting.evalJavaScript(this.args.full)}catch(e){return this.error("bad evaluation: "+("object"===("undefined"==typeof e?"undefined":_typeof(e))?e.message:e))}Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("unset",{skipArgs:!0,handler:function(){if(0===this.args.full.length)return this.error("no story/temporary variable list specified");for(var e=new RegExp("State\\.(variables|temporary)\\.("+Patterns.identifier+")","g"),t=void 0;null!==(t=e.exec(this.args.full));){var r=State[t[1]],n=t[2];r.hasOwnProperty(n)&&delete r[n]}Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("remember",{skipArgs:!0,handler:function(){if(0===this.args.full.length)return this.error("no expression specified");try{Scripting.evalJavaScript(this.args.full)}catch(e){return this.error("bad evaluation: "+("object"===("undefined"==typeof e?"undefined":_typeof(e))?e.message:e))}for(var e=storage.get("remember")||{},t=new RegExp("State\\.variables\\.("+Patterns.identifier+")","g"),r=void 0;null!==(r=t.exec(this.args.full));){var n=r[1];e[n]=State.variables[n]}return storage.set("remember",e)?void(Config.debug&&this.debugView.modes({hidden:!0})):this.error("unknown error, cannot remember: "+this.args.raw)},init:function(){var e=storage.get("remember");e&&Object.keys(e).forEach(function(t){return State.variables[t]=e[t]})}}),Macro.add("forget",{skipArgs:!0,handler:function(){if(0===this.args.full.length)return this.error("no story variable list specified");for(var e=storage.get("remember"),t=new RegExp("State\\.variables\\.("+Patterns.identifier+")","g"),r=void 0,n=!1;null!==(r=t.exec(this.args.full));){var a=r[1];State.variables.hasOwnProperty(a)&&delete State.variables[a],e&&e.hasOwnProperty(a)&&(n=!0,delete e[a])}return n&&!storage.set("remember",e)?this.error("unknown error, cannot update remember store"):void(Config.debug&&this.debugView.modes({hidden:!0}))}}),Macro.add("run","set"),Macro.add("script",{skipArgs:!0,tags:null,handler:function(){var e=document.createDocumentFragment();try{Scripting.evalJavaScript(this.payload[0].contents,e),Config.debug&&this.createDebugView(this.name,this.source+this.payload[0].contents+"<</"+this.name+">>")}catch(e){return this.error("bad evaluation: "+("object"===("undefined"==typeof e?"undefined":_typeof(e))?e.message:e),this.source+this.payload[0].contents+"<</"+this.name+">>")}e.hasChildNodes()&&this.output.appendChild(e)}}),Macro.add("include",{handler:function(){if(0===this.args.length)return this.error("no passage specified");var e=void 0;if(e="object"===_typeof(this.args[0])?this.args[0].link:this.args[0],!Story.has(e))return this.error('passage "'+e+'" does not exist');Config.debug&&this.debugView.modes({block:!0}),e=Story.get(e);var t=void 0;t=this.args[1]?jQuery(document.createElement(this.args[1])).addClass(e.domId+" macro-"+this.name).attr("data-passage",e.title).appendTo(this.output):jQuery(this.output),t.wiki(e.processText())}}),Macro.add("nobr",{skipArgs:!0,tags:null,handler:function(){new Wikifier(this.output,this.payload[0].contents.replace(/^\n+|\n+$/g,"").replace(/\n+/g," "))}}),Macro.add(["print","=","-"],{skipArgs:!0,handler:function(){if(0===this.args.full.length)return this.error("no expression specified");try{var e=toStringOrDefault(Scripting.evalJavaScript(this.args.full),null);null!==e&&new Wikifier(this.output,"-"===this.name?Util.escape(e):e)}catch(e){return this.error("bad evaluation: "+("object"===("undefined"==typeof e?"undefined":_typeof(e))?e.message:e))}}}),Macro.add("silently",{skipArgs:!0,tags:null,handler:function(){var e=document.createDocumentFragment();if(new Wikifier(e,this.payload[0].contents.trim()),Config.debug)this.debugView.modes({hidden:!0}),this.output.appendChild(e);else{var t=[].concat(_toConsumableArray(e.querySelectorAll(".error"))).map(function(e){return e.textContent});if(t.length>0)return this.error("error"+(1===t.length?"":"s")+" within contents ("+t.join("; ")+")",this.source+this.payload[0].contents+"<</"+this.name+">>")}}}),Macro.add("display","include"),Macro.add("if",{skipArgs:!0,tags:["elseif","else"],handler:function(){var e=0;try{for(var t=Scripting.evalJavaScript,r=this.payload.length,n=!1;e<r;++e){switch(this.payload[e].name){case"else":if(e+1!==r)return this.error("<<else>> must be the final clause");if(this.payload[e].args.raw.length>0)return/^\s*if\b/i.test(this.payload[e].args.raw)?this.error('whitespace is not allowed between the "else" and "if" in <<elseif>> clause'+(e>0?" (#"+e+")":"")):this.error("<<else>> does not accept a conditional expression (perhaps you meant to use <<elseif>>), invalid: "+this.payload[e].args.raw);break;default:if(0===this.payload[e].args.full.length)return this.error("no conditional expression specified for <<"+this.payload[e].name+">> clause"+(e>0?" (#"+e+")":""));if(Config.macros.ifAssignmentError&&/[^!=&^|<>*\/%+-]=[^=]/.test(this.payload[e].args.full))return this.error("assignment operator found within <<"+this.payload[e].name+">> clause"+(e>0?" (#"+e+")":"")+" (perhaps you meant to use an equality operator: ==, ===, eq, is), invalid: "+this.payload[e].args.raw)}if(Config.debug&&this.createDebugView(this.payload[e].name,this.payload[e].source).modes({nonvoid:!1}),"else"===this.payload[e].name||t(this.payload[e].args.full)){n=!0,new Wikifier(this.output,this.payload[e].contents);break}Config.debug&&this.debugView.modes({hidden:!0,invalid:!0})}if(Config.debug){for(++e;e<r;++e)this.createDebugView(this.payload[e].name,this.payload[e].source).modes({nonvoid:!1,hidden:!0,invalid:!0});this.createDebugView("/"+this.name,"<</"+this.name+">>").modes({nonvoid:!1,hidden:!n,invalid:!n})}}catch(t){return this.error("bad conditional expression in <<"+(0===e?"if":"elseif")+">> clause"+(e>0?" (#"+e+")":"")+": "+("object"===("undefined"==typeof t?"undefined":_typeof(t))?t.message:t))}}}),Macro.add("switch",{skipArg0:!0,tags:["case","default"],handler:function(){if(0===this.args.full.length)return this.error("no expression specified");var e=this.payload.length,t=void 0;if(1===e)return this.error("no cases specified");try{t=Scripting.evalJavaScript(this.args.full)}catch(e){return this.error("bad evaluation: "+("object"===("undefined"==typeof e?"undefined":_typeof(e))?e.message:e))}var r=this.debugView,n=1,a=!1;for(Config.debug&&r.modes({nonvoid:!1,hidden:!0});n<e;++n){switch(this.payload[n].name){case"default":if(n+1!==e)return this.error("<<default>> must be the final case");if(this.payload[n].args.length>0)return this.error("<<default>> does not accept values, invalid: "+this.payload[n].args.raw);break;default:if(0===this.payload[n].args.length)return this.error("no value(s) specified for <<"+this.payload[n].name+">> (#"+n+")")}if(Config.debug&&this.createDebugView(this.payload[n].name,this.payload[n].source).modes({nonvoid:!1}),"default"===this.payload[n].name||this.payload[n].args.some(function(e){return e===t})){a=!0,new Wikifier(this.output,this.payload[n].contents);break}Config.debug&&this.debugView.modes({hidden:!0,invalid:!0})}if(Config.debug){for(++n;n<e;++n)this.createDebugView(this.payload[n].name,this.payload[n].source).modes({nonvoid:!1,hidden:!0,invalid:!0});r.modes({nonvoid:!1,hidden:!0,invalid:!a}),this.createDebugView("/"+this.name,"<</"+this.name+">>").modes({nonvoid:!1,hidden:!0,invalid:!a})}}}),Macro.add("for",{skipArgs:!0,tags:null,_hasRangeRe:new RegExp("^\\S.*?\\s+range\\s+\\S.*?$"),_rangeRe:new RegExp("^(?:State\\.(variables|temporary)\\.("+Patterns.identifier+")\\s*,\\s*)?State\\.(variables|temporary)\\.("+Patterns.identifier+")\\s+range\\s+(\\S.*?)$"),_3PartRe:/^([^;]*?)\s*;\s*([^;]*?)\s*;\s*([^;]*?)$/,handler:function(){var e=this.args.full.trim(),t=this.payload[0].contents.replace(/\n$/,"");if(0===e.length)this.self._handleFor.call(this,t,null,!0,null);else if(this.self._hasRangeRe.test(e)){var r=e.match(this.self._rangeRe);if(null===r)return this.error("invalid range form syntax, format: [index ,] value range collection");this.self._handleForRange.call(this,t,{type:r[1],name:r[2]},{type:r[3],name:r[4]},r[5])}else{var n=void 0,a=void 0,i=void 0;if(e.indexOf(";")===-1){if(/^\S+\s+in\s+\S+/i.test(e))return this.error("invalid syntax, for…in is not supported; see: for…range");if(/^\S+\s+of\s+\S+/i.test(e))return this.error("invalid syntax, for…of is not supported; see: for…range");a=e}else{var o=e.match(this.self._3PartRe);if(null===o)return this.error("invalid 3-part conditional form syntax, format: [init] ; [condition] ; [post]");n=o[1],a=o[2].trim(),i=o[3],0===a.length&&(a=!0)}this.self._handleFor.call(this,t,n,a,i)}},_handleFor:function(e,t,r,n){var a=Scripting.evalJavaScript,i=!0,o=Config.macros.maxLoopIterations;Config.debug&&this.debugView.modes({block:!0});try{if(TempState.break=null,t)try{a(t)}catch(e){return this.error("bad init expression: "+("object"===("undefined"==typeof e?"undefined":_typeof(e))?e.message:e))}for(;a(r);){if(--o<0)return this.error("exceeded configured maximum loop iterations ("+Config.macros.maxLoopIterations+")");if(new Wikifier(this.output,i?e.replace(/^\n/,""):e),i&&(i=!1),null!=TempState.break)if(1===TempState.break)TempState.break=null;else if(2===TempState.break){TempState.break=null;break}if(n)try{a(n)}catch(e){return this.error("bad post expression: "+("object"===("undefined"==typeof e?"undefined":_typeof(e))?e.message:e))}}}catch(e){return this.error("bad conditional expression: "+("object"===("undefined"==typeof e?"undefined":_typeof(e))?e.message:e))}finally{TempState.break=null}},_handleForRange:function(e,t,r,n){var a=!0,i=void 0;try{i=this.self._toRangeList(n)}catch(e){return this.error(e.message)}Config.debug&&this.debugView.modes({block:!0});try{TempState.break=null;for(var o=0;o<i.length;++o)if(t.name&&(State[t.type][t.name]=i[o][0]),State[r.type][r.name]=i[o][1],new Wikifier(this.output,a?e.replace(/^\n/,""):e),a&&(a=!1),null!=TempState.break)if(1===TempState.break)TempState.break=null;else if(2===TempState.break){TempState.break=null;break}}catch(e){return this.error("object"===("undefined"==typeof e?"undefined":_typeof(e))?e.message:e)}finally{TempState.break=null}},_toRangeList:function(e){var t=Scripting.evalJavaScript,r=void 0;try{r=t("{"===e[0]?"("+e+")":e)}catch(e){if("object"!==("undefined"==typeof e?"undefined":_typeof(e)))throw new Error("bad range expression: "+e);throw e.message="bad range expression: "+e.message,e}var n=void 0;switch("undefined"==typeof r?"undefined":_typeof(r)){case"string":n=[];for(var a=0;a<r.length;){var i=Util.charAndPosAt(r,a);n.push([a,i.char]),a=1+i.end}break;case"object":if(Array.isArray(r))n=r.map(function(e,t){return[t,e]});else if(r instanceof Set)n=[].concat(_toConsumableArray(r)).map(function(e,t){return[t,e]});else if(r instanceof Map)n=[].concat(_toConsumableArray(r.entries()));else{if("Object"!==Util.toStringTag(r))throw new Error("unsupported range expression type: "+Util.toStringTag(r));n=Object.keys(r).map(function(e){return[e,r[e]]})}break;default:throw new Error("unsupported range expression type: "+("undefined"==typeof r?"undefined":_typeof(r)))}return n}}),Macro.add(["break","continue"],{skipArgs:!0,handler:function(){return this.contextHas(function(e){return"for"===e.name})?(TempState.break="continue"===this.name?1:2,void(Config.debug&&this.debugView.modes({hidden:!0}))):this.error("must only be used in conjunction with its parent macro <<for>>")}}),Macro.add(["button","link"],{isAsync:!0,tags:null,handler:function(){var e=this;if(0===this.args.length)return this.error("no "+("button"===this.name?"button":"link")+" text specified");Config.debug&&this.createDebugView(this.name,this.source+this.payload[0].contents+"<</"+this.name+">>");var t=jQuery(document.createElement("button"===this.name?"button":"a")),r=void 0;if("object"===_typeof(this.args[0]))if(this.args[0].isImage){var n=jQuery(document.createElement("img")).attr("src",this.args[0].source).appendTo(t);this.args[0].hasOwnProperty("passage")&&n.attr("data-passage",this.args[0].passage),this.args[0].hasOwnProperty("title")&&n.attr("title",this.args[0].title),this.args[0].hasOwnProperty("align")&&n.attr("align",this.args[0].align),this.args[0].hasOwnProperty("link")&&(r=this.args[0].link),r=this.args[0].link}else t.append(document.createTextNode(this.args[0].text)),r=this.args[0].link;else t.wikiWithOptions({profile:"core"},this.args[0]),r=this.args.length>1?this.args[1]:undefined;null!=r?(t.attr("data-passage",r),Story.has(r)?(t.addClass("link-internal"),Config.addVisitedLinkClass&&State.hasPlayed(r)&&t.addClass("link-visited")):t.addClass("link-broken")):t.addClass("link-internal"),t.addClass("macro-"+this.name).ariaClick({namespace:".macros",one:null!=r},this.createShadowWrapper(""!==this.payload[0].contents?function(){return Wikifier.wikifyEval(e.payload[0].contents.trim())}:null,null!=r?function(){return Engine.play(r)}:null)).appendTo(this.output)}}),Macro.add("checkbox",{handler:function(){if(this.args.length<3){var e=[];return this.args.length<1&&e.push("variable name"),this.args.length<2&&e.push("unchecked value"),this.args.length<3&&e.push("checked value"),this.error("no "+e.join(" or ")+" specified")}if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var t=this.args[0].trim();if("$"!==t[0]&&"_"!==t[0])return this.error('variable name "'+this.args[0]+'" is missing its sigil ($ or _)');var r=Util.slugify(t),n=this.args[1],a=this.args[2],i=document.createElement("input");jQuery(i).attr({id:this.name+"-"+r,name:this.name+"-"+r,type:"checkbox",tabindex:0}).addClass("macro-"+this.name).on("change",function(){Wikifier.setValue(t,this.checked?a:n)}).appendTo(this.output),this.args.length>3&&"checked"===this.args[3]?(i.checked=!0,Wikifier.setValue(t,a)):Wikifier.setValue(t,n)}}),Macro.add(["linkappend","linkprepend","linkreplace"],{isAsync:!0,tags:null,handler:function(){var e=this;if(0===this.args.length)return this.error("no link text specified");Config.debug&&this.createDebugView(this.name,this.source+this.payload[0].contents+"<</"+this.name+">>");var t=jQuery(document.createElement("a")),r=jQuery(document.createElement("span")),n=this.args.length>1&&/^(?:transition|t8n)$/.test(this.args[1]);t.wikiWithOptions({profile:"core"},this.args[0]).addClass("link-internal macro-"+this.name).ariaClick({namespace:".macros",one:!0},this.createShadowWrapper(function(){if("linkreplace"===e.name?t.remove():t.wrap('<span class="macro-'+e.name+'"></span>').replaceWith(function(){return t.html()}),""!==e.payload[0].contents){var a=document.createDocumentFragment();new Wikifier(a,e.payload[0].contents),r.append(a)}n&&setTimeout(function(){return r.removeClass("macro-"+e.name+"-in")},Engine.minDomActionDelay)})).appendTo(this.output),r.addClass("macro-"+this.name+"-insert"),n&&r.addClass("macro-"+this.name+"-in"),"linkprepend"===this.name?r.insertBefore(t):r.insertAfter(t)}}),Macro.add("radiobutton",{handler:function(){if(this.args.length<2){var e=[];return this.args.length<1&&e.push("variable name"),this.args.length<2&&e.push("checked value"),this.error("no "+e.join(" or ")+" specified")}if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var t=this.args[0].trim();if("$"!==t[0]&&"_"!==t[0])return this.error('variable name "'+this.args[0]+'" is missing its sigil ($ or _)');var r=Util.slugify(t),n=this.args[1],a=document.createElement("input");TempState.hasOwnProperty(this.name)||(TempState[this.name]={}),TempState[this.name].hasOwnProperty(r)||(TempState[this.name][r]=0),jQuery(a).attr({id:this.name+"-"+r+"-"+TempState[this.name][r]++,name:this.name+"-"+r,type:"radio",tabindex:0}).addClass("macro-"+this.name).on("change",function(){this.checked&&Wikifier.setValue(t,n)}).appendTo(this.output),this.args.length>2&&"checked"===this.args[2]&&(a.checked=!0,Wikifier.setValue(t,n))}}),Macro.add("textarea",{handler:function(){if(this.args.length<2){var e=[];return this.args.length<1&&e.push("variable name"),this.args.length<2&&e.push("default value"),this.error("no "+e.join(" or ")+" specified")}if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var t=this.args[0].trim();if("$"!==t[0]&&"_"!==t[0])return this.error('variable name "'+this.args[0]+'" is missing its sigil ($ or _)');Config.debug&&this.debugView.modes({block:!0});var r=Util.slugify(t),n=this.args[1],a="autofocus"===this.args[2],i=document.createElement("textarea");jQuery(i).attr({id:this.name+"-"+r,name:this.name+"-"+r,rows:4,tabindex:0}).addClass("macro-"+this.name).on("change",function(){Wikifier.setValue(t,this.value)}).appendTo(this.output),Wikifier.setValue(t,n),i.textContent=n,a&&(i.setAttribute("autofocus","autofocus"),postdisplay["#autofocus:"+i.id]=function(e){delete postdisplay[e],setTimeout(function(){return i.focus()},Engine.minDomActionDelay)})}}),Macro.add("textbox",{handler:function(){if(this.args.length<2){var e=[];return this.args.length<1&&e.push("variable name"),this.args.length<2&&e.push("default value"),this.error("no "+e.join(" or ")+" specified")}if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var t=this.args[0].trim();if("$"!==t[0]&&"_"!==t[0])return this.error('variable name "'+this.args[0]+'" is missing its sigil ($ or _)');Config.debug&&this.debugView.modes({block:!0});var r=Util.slugify(t),n=this.args[1],a=document.createElement("input"),i=!1,o=void 0;this.args.length>3?(o=this.args[2],i="autofocus"===this.args[3]):this.args.length>2&&("autofocus"===this.args[2]?i=!0:o=this.args[2]),jQuery(a).attr({id:this.name+"-"+r,name:this.name+"-"+r,type:"text",tabindex:0}).addClass("macro-"+this.name).on("change",function(){Wikifier.setValue(t,this.value)}).on("keypress",function(e){13===e.which&&(e.preventDefault(),Wikifier.setValue(t,this.value),
null!=o&&Engine.play(o))}).appendTo(this.output),Wikifier.setValue(t,n),a.value=n,i&&(a.setAttribute("autofocus","autofocus"),postdisplay["#autofocus:"+a.id]=function(e){delete postdisplay[e],setTimeout(function(){return a.focus()},Engine.minDomActionDelay)})}}),Macro.add("click","link"),Macro.add("actions",{handler:function(){for(var e=jQuery(document.createElement("ul")).addClass(this.name).appendTo(this.output),t=0;t<this.args.length;++t){var r=void 0,n=void 0,a=void 0,i=void 0;"object"===_typeof(this.args[t])?this.args[t].isImage?(a=jQuery(document.createElement("img")).attr("src",this.args[t].source),this.args[t].hasOwnProperty("passage")&&a.attr("data-passage",this.args[t].passage),this.args[t].hasOwnProperty("title")&&a.attr("title",this.args[t].title),this.args[t].hasOwnProperty("align")&&a.attr("align",this.args[t].align),r=this.args[t].link,i=this.args[t].setFn):(n=this.args[t].text,r=this.args[t].link,i=this.args[t].setFn):n=r=this.args[t],State.variables.hasOwnProperty("#actions")&&State.variables["#actions"].hasOwnProperty(r)&&State.variables["#actions"][r]||jQuery(Wikifier.createInternalLink(jQuery(document.createElement("li")).appendTo(e),r,null,function(e,t){return function(){State.variables.hasOwnProperty("#actions")||(State.variables["#actions"]={}),State.variables["#actions"][e]=!0,"function"==typeof t&&t()}}(r,i))).addClass("macro-"+this.name).append(a||document.createTextNode(n))}}}),Macro.add(["back","return"],{handler:function(){if(this.args.length>1)return this.error("too many arguments specified, check the documentation for details");var e=-1,t=void 0,r=void 0,n=void 0;if(1===this.args.length&&("object"===_typeof(this.args[0])?this.args[0].isImage?(n=jQuery(document.createElement("img")).attr("src",this.args[0].source),this.args[0].hasOwnProperty("passage")&&n.attr("data-passage",this.args[0].passage),this.args[0].hasOwnProperty("title")&&n.attr("title",this.args[0].title),this.args[0].hasOwnProperty("align")&&n.attr("align",this.args[0].align),this.args[0].hasOwnProperty("link")&&(t=this.args[0].link)):1===this.args[0].count?t=this.args[0].link:(r=this.args[0].text,t=this.args[0].link):1===this.args.length&&(r=this.args[0])),null==t){for(var a=State.length-2;a>=0;--a)if(State.history[a].title!==State.passage){e=a,t=State.history[a].title;break}if(null==t&&"return"===this.name)for(var i=State.expired.length-1;i>=0;--i)if(State.expired[i]!==State.passage){t=State.expired[i];break}}else{if(!Story.has(t))return this.error('passage "'+t+'" does not exist');if("back"===this.name){for(var o=State.length-2;o>=0;--o)if(State.history[o].title===t){e=o;break}if(e===-1)return this.error('cannot find passage "'+t+'" in the current story history')}}if(null==t)return this.error("cannot find passage");var s=void 0;s="back"!==this.name||e!==-1?jQuery(document.createElement("a")).addClass("link-internal").ariaClick({one:!0},"return"===this.name?function(){return Engine.play(t)}:function(){return Engine.goTo(e)}):jQuery(document.createElement("span")).addClass("link-disabled"),s.addClass("macro-"+this.name).append(n||document.createTextNode(r||L10n.get("macro"+this.name.toUpperFirst()+"Text"))).appendTo(this.output)}}),Macro.add("choice",{handler:function(){if(0===this.args.length)return this.error("no passage specified");var e=State.passage,t=void 0,r=void 0,n=void 0,a=void 0;return 1===this.args.length?"object"===_typeof(this.args[0])?this.args[0].isImage?(n=jQuery(document.createElement("img")).attr("src",this.args[0].source),this.args[0].hasOwnProperty("passage")&&n.attr("data-passage",this.args[0].passage),this.args[0].hasOwnProperty("title")&&n.attr("title",this.args[0].title),this.args[0].hasOwnProperty("align")&&n.attr("align",this.args[0].align),t=this.args[0].link,a=this.args[0].setFn):(r=this.args[0].text,t=this.args[0].link,a=this.args[0].setFn):r=t=this.args[0]:(t=this.args[0],r=this.args[1]),State.variables.hasOwnProperty("#choice")&&State.variables["#choice"].hasOwnProperty(e)&&State.variables["#choice"][e]?void jQuery(document.createElement("span")).addClass("link-disabled macro-"+this.name).attr("tabindex",-1).append(n||document.createTextNode(r)).appendTo(this.output):void jQuery(Wikifier.createInternalLink(this.output,t,null,function(){State.variables.hasOwnProperty("#choice")||(State.variables["#choice"]={}),State.variables["#choice"][e]=!0,"function"==typeof a&&a()})).addClass("macro-"+this.name).append(n||document.createTextNode(r))}}),Macro.add(["addclass","toggleclass"],{handler:function(){if(this.args.length<2){var e=[];return this.args.length<1&&e.push("selector"),this.args.length<2&&e.push("class names"),this.error("no "+e.join(" or ")+" specified")}var t=jQuery(this.args[0]);if(0===t.length)return this.error('no elements matched the selector "'+this.args[0]+'"');switch(this.name){case"addclass":t.addClass(this.args[1].trim());break;case"toggleclass":t.toggleClass(this.args[1].trim())}}}),Macro.add("removeclass",{handler:function(){if(0===this.args.length)return this.error("no selector specified");var e=jQuery(this.args[0]);return 0===e.length?this.error('no elements matched the selector "'+this.args[0]+'"'):void(this.args.length>1?e.removeClass(this.args[1].trim()):e.removeClass())}}),Macro.add("copy",{handler:function(){if(0===this.args.length)return this.error("no selector specified");var e=jQuery(this.args[0]);return 0===e.length?this.error('no elements matched the selector "'+this.args[0]+'"'):void jQuery(this.output).append(e.html())}}),Macro.add(["append","prepend","replace"],{tags:null,handler:function(){if(0===this.args.length)return this.error("no selector specified");var e=jQuery(this.args[0]);if(0===e.length)return this.error('no elements matched the selector "'+this.args[0]+'"');if(""!==this.payload[0].contents){var t=document.createDocumentFragment();switch(new Wikifier(t,this.payload[0].contents),this.name){case"replace":e.empty();case"append":e.append(t);break;case"prepend":e.prepend(t)}}else"replace"===this.name&&e.empty()}}),Macro.add("remove",{handler:function(){if(0===this.args.length)return this.error("no selector specified");var e=jQuery(this.args[0]);return 0===e.length?this.error('no elements matched the selector "'+this.args[0]+'"'):void e.remove()}}),Has.audio?!function(){var e=Object.freeze([":not",":all",":looped",":muted",":paused",":playing"]);Macro.add("audio",{handler:function(){var e=this;if(this.args.length<2){var t=[];return this.args.length<1&&t.push("track or group IDs"),this.args.length<2&&t.push("actions"),this.error("no "+t.join(" or ")+" specified")}var r=Macro.get("cacheaudio").tracks,n=[];try{!function(){var t=function e(t){var n=t.id,o=void 0;switch(n){case":all":o=a;break;case":looped":o=a.filter(function(e){return r[e].isLooped()});break;case":muted":o=a.filter(function(e){return r[e].isMuted()});break;case":paused":o=a.filter(function(e){return r[e].isPaused()});break;case":playing":o=a.filter(function(e){return r[e].isPlaying()});break;default:o=":"===n[0]?i[n]:[n]}return t.hasOwnProperty("not")&&!function(){var r=t.not.map(function(t){return e(t)}).flatten();o=o.filter(function(e){return!r.includes(e)})}(),o},a=Object.freeze(Object.keys(r)),i=Macro.get("cacheaudio").groups;e.self.parseIds(String(e.args[0]).trim()).forEach(function(e){n.push.apply(n,_toConsumableArray(t(e)))}),n.forEach(function(e){if(!r.hasOwnProperty(e))throw new Error('track "'+e+'" does not exist')})}()}catch(e){return this.error(e.message)}for(var a=this.args.slice(1),i=void 0,o=void 0,s=void 0,u=void 0,l=void 0,c=void 0,d=5,f=void 0,p=void 0;a.length>0;){var h=a.shift();switch(h){case"play":case"pause":case"stop":i=h;break;case"fadein":i="fade",c=1;break;case"fadeout":i="fade",c=0;break;case"fadeto":if(0===a.length)return this.error("fadeto missing required level value");if(i="fade",p=a.shift(),c=Number.parseFloat(p),Number.isNaN(c)||!Number.isFinite(c))return this.error("cannot parse fadeto: "+p);break;case"fadeoverto":if(a.length<2){var g=[];return a.length<1&&g.push("seconds"),a.length<2&&g.push("level"),this.error("fadeoverto missing required "+g.join(" and ")+" value"+(g.length>1?"s":""))}if(i="fade",p=a.shift(),d=Number.parseFloat(p),Number.isNaN(d)||!Number.isFinite(d))return this.error("cannot parse fadeoverto: "+p);if(p=a.shift(),c=Number.parseFloat(p),Number.isNaN(c)||!Number.isFinite(c))return this.error("cannot parse fadeoverto: "+p);break;case"volume":if(0===a.length)return this.error("volume missing required level value");if(p=a.shift(),o=Number.parseFloat(p),Number.isNaN(o)||!Number.isFinite(o))return this.error("cannot parse volume: "+p);break;case"mute":case"unmute":s="mute"===h;break;case"time":if(0===a.length)return this.error("time missing required seconds value");if(p=a.shift(),u=Number.parseFloat(p),Number.isNaN(u)||!Number.isFinite(u))return this.error("cannot parse time: "+p);break;case"loop":case"unloop":l="loop"===h;break;case"goto":if(0===a.length)return this.error("goto missing required passage title");if(p=a.shift(),f="object"===("undefined"==typeof p?"undefined":_typeof(p))?p.link:p,!Story.has(f))return this.error('passage "'+f+'" does not exist');break;default:return this.error("unknown action: "+h)}}try{n.forEach(function(e){var t=r[e];switch(null!=o&&(t.volume=o),null!=u&&(t.time=u),null!=s&&(t.mute=s),null!=l&&(t.loop=l),null!=f&&t.one("end",function(){return Engine.play(f)}),i){case"play":t.play();break;case"pause":t.pause();break;case"stop":t.stop();break;case"fade":t.fadeWithDuration(d,c)}}),Config.debug&&this.createDebugView()}catch(e){return this.error("error executing audio action: "+e.message)}},parseIds:function(e){function t(e,t){var r=/\S/g,n=/[()]/g,a=void 0;if(r.lastIndex=t,a=r.exec(e),null===a||"("!==a[0])throw new Error('invalid ":not()" syntax: missing parentheticals');n.lastIndex=r.lastIndex;for(var i=r.lastIndex,o={str:"",nextMatch:-1},s=1;null!==(a=n.exec(e));)if("("===a[0]?++s:--s,s<1){o.nextMatch=n.lastIndex,o.str=e.slice(i,o.nextMatch-1);break}return o}for(var r=[],n=/:?[^\s:()]+/g,a=void 0;null!==(a=n.exec(e));){var i=a[0];if(":not"===i){if(0===r.length)throw new Error('invalid negation: no group ID preceded ":not()"');var o=r[r.length-1];if(":"!==o.id[0])throw new Error('invalid negation of track "'+o.id+'": only groups may be negated with ":not()"');var s=t(e,n.lastIndex);if(s.nextMatch===-1)throw new Error('unknown error parsing ":not()"');n.lastIndex=s.nextMatch,o.not=this.parseIds(s.str)}else r.push({id:i})}return r}}),Macro.add("cacheaudio",{tracks:{},groups:{},handler:function(){if(this.args.length<2){var e=[];return this.args.length<1&&e.push("track ID"),this.args.length<2&&e.push("sources"),this.error("no "+e.join(" or ")+" specified")}var t=String(this.args[0]).trim(),r=/^:|\s/;if(r.test(t))return this.error('invalid track ID "'+t+'": track IDs may not start with a colon or contain whitespace');var n=/^format:\s*([\w-]+)\s*;\s*(\S.*)$/i,a=void 0;try{a=SimpleAudio.create(this.args.slice(1).map(function(e){var t=n.exec(e);return null===t?e:{format:t[1],src:t[2]}}))}catch(e){return this.error('error during track initialization for "'+t+'": '+e.message)}if(Config.debug&&!a.hasSource())return this.error('no supported audio sources found for "'+t+'"');var i=this.self.tracks;i.hasOwnProperty(t)&&i[t].destroy(),i[t]=a,Config.debug&&this.createDebugView()}}),Macro.add("createaudiogroup",{tags:["track"],handler:function(){if(0===this.args.length)return this.error("no group ID specified");var t=String(this.args[0]).trim(),r=/^[^:]|\s/;if(r.test(t))return this.error('invalid group ID "'+t+'": group IDs must start with a colon and may not contain whitespace');if(e.includes(t))return this.error('cannot clobber special group ID "'+t+'"');if(1===this.payload.length)return this.error("no tracks defined via <<track>>");Config.debug&&this.debugView.modes({nonvoid:!1,hidden:!0});for(var n=Macro.get("cacheaudio").tracks,a=[],i=1,o=this.payload.length;i<o;++i){if(this.payload[i].args.length<1)return this.error("no track ID specified");var s=String(this.payload[i].args[0]).trim();if(!n.hasOwnProperty(s))return this.error('track "'+s+'" does not exist');a.push(s),Config.debug&&this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1,hidden:!0})}var u=Macro.get("cacheaudio").groups;u.hasOwnProperty(t)&&delete u[t],u[t]=a,this.createDebugView("/"+this.name,"<</"+this.name+">>").modes({nonvoid:!1,hidden:!0})}}),Macro.add("createplaylist",{tags:["track"],lists:{},handler:function(){if(0===this.args.length)return this.error("no list ID specified");var e=Macro.get("playlist");if(null!==e.from&&"createplaylist"!==e.from)return this.error("a playlist has already been defined with <<setplaylist>>");var t=Macro.get("cacheaudio").tracks,r=String(this.args[0]).trim(),n=/^:|\s/;if(n.test(r))return this.error('invalid list ID "'+r+'": list IDs may not start with a colon or contain whitespace');if(1===this.payload.length)return this.error("no tracks defined via <<track>>");Config.debug&&this.debugView.modes({nonvoid:!1,hidden:!0});for(var a=SimpleAudio.createList(),i=1,o=this.payload.length;i<o;++i){if(this.payload[i].args.length<2){var s=[];return this.payload[i].args.length<1&&s.push("track ID"),this.payload[i].args.length<2&&s.push("actions"),this.error("no "+s.join(" or ")+" specified")}var u=String(this.payload[i].args[0]).trim();if(!t.hasOwnProperty(u))return this.error('track "'+u+'" does not exist');for(var l=this.payload[i].args.slice(1),c=!1,d=void 0;l.length>0;){var f=l.shift(),p=void 0;switch(f){case"copy":c=!0;break;case"rate":l.length>0&&l.shift();break;case"volume":if(0===l.length)return this.error("volume missing required level value");if(p=l.shift(),d=Number.parseFloat(p),Number.isNaN(d)||!Number.isFinite(d))return this.error("cannot parse volume: "+p);break;default:return this.error("unknown action: "+f)}}var h=t[u];a.add({copy:c,track:h,volume:null!=d?d:h.volume}),Config.debug&&this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1,hidden:!0})}var g=this.self.lists;g.hasOwnProperty(r)&&g[r].destroy(),g[r]=a,null===e.from&&(e.from="createplaylist"),this.createDebugView("/"+this.name,"<</"+this.name+">>").modes({nonvoid:!1,hidden:!0})}}),Macro.add("masteraudio",{handler:function(){if(0===this.args.length)return this.error("no actions specified");for(var e=this.args.slice(0),t=!1,r=void 0,n=void 0;e.length>0;){var a=e.shift(),i=void 0;switch(a){case"stop":t=!0;break;case"mute":case"unmute":r="mute"===a;break;case"volume":if(0===e.length)return this.error("volume missing required level value");if(i=e.shift(),n=Number.parseFloat(i),Number.isNaN(n)||!Number.isFinite(n))return this.error("cannot parse volume: "+i);break;default:return this.error("unknown action: "+a)}}try{null!=r&&(SimpleAudio.mute=r),null!=n&&(SimpleAudio.volume=n),t&&SimpleAudio.stop(),Config.debug&&this.createDebugView()}catch(e){return this.error("error executing master audio action: "+e.message)}}}),Macro.add("playlist",{from:null,handler:function(){var e=this.self.from;if(null===e)return this.error("no playlists have been created");var t=void 0,r=void 0;if("createplaylist"===e){if(this.args.length<2){var n=[];return this.args.length<1&&n.push("list ID"),this.args.length<2&&n.push("actions"),this.error("no "+n.join(" or ")+" specified")}var a=Macro.get("createplaylist").lists,i=String(this.args[0]).trim();if(!a.hasOwnProperty(i))return this.error('playlist "'+i+'" does not exist');t=a[i],r=this.args.slice(1)}else{if(0===this.args.length)return this.error("no actions specified");t=Macro.get("setplaylist").list,r=this.args.slice(0)}for(var o=void 0,s=void 0,u=void 0,l=void 0,c=void 0,d=void 0,f=5,p=void 0;r.length>0;){var h=r.shift();switch(h){case"play":case"pause":case"stop":case"skip":o=h;break;case"fadein":o="fade",d=1;break;case"fadeout":o="fade",d=0;break;case"fadeto":if(0===r.length)return this.error("fadeto missing required level value");if(o="fade",p=r.shift(),d=Number.parseFloat(p),Number.isNaN(d)||!Number.isFinite(d))return this.error("cannot parse fadeto: "+p);break;case"fadeoverto":if(r.length<2){var g=[];return r.length<1&&g.push("seconds"),r.length<2&&g.push("level"),this.error("fadeoverto missing required "+g.join(" and ")+" value"+(g.length>1?"s":""))}if(o="fade",p=r.shift(),f=Number.parseFloat(p),Number.isNaN(f)||!Number.isFinite(f))return this.error("cannot parse fadeoverto: "+p);if(p=r.shift(),d=Number.parseFloat(p),Number.isNaN(d)||!Number.isFinite(d))return this.error("cannot parse fadeoverto: "+p);break;case"volume":if(0===r.length)return this.error("volume missing required level value");if(p=r.shift(),s=Number.parseFloat(p),Number.isNaN(s)||!Number.isFinite(s))return this.error("cannot parse volume: "+p);break;case"mute":case"unmute":u="mute"===h;break;case"loop":case"unloop":l="loop"===h;break;case"shuffle":case"unshuffle":c="shuffle"===h;break;default:return this.error("unknown action: "+h)}}try{switch(null!=s&&(t.volume=s),null!=u&&(t.mute=u),null!=l&&(t.loop=l),null!=c&&(t.shuffle=c),o){case"play":t.play();break;case"pause":t.pause();break;case"stop":t.stop();break;case"skip":t.skip();break;case"fade":t.fadeWithDuration(f,d)}Config.debug&&this.createDebugView()}catch(e){return this.error("error playing audio: "+e.message)}}}),Macro.add("removeplaylist",{handler:function(){if(0===this.args.length)return this.error("no list ID specified");var e=Macro.get("createplaylist").lists,t=String(this.args[0]).trim();return e.hasOwnProperty(t)?(e[t].destroy(),delete e[t],void(Config.debug&&this.createDebugView())):this.error('playlist "'+t+'" does not exist')}}),Macro.add("waitforaudio",{skipArgs:!0,queue:[],handler:function(){function e(){if(0===t.length)return LoadScreen.unlock(r);var n=t.shift();return n.hasData()?e():void n.one("canplay.waitforaudio error.waitforaudio",function(){jQuery(this).off(".waitforaudio"),e()}).load()}var t=this.self.queue,r=void 0;t.length>0||(this.self.fillQueue(t),t.length>0&&(r=LoadScreen.lock(),e()))},fillQueue:function(e){var t=Macro.get("cacheaudio").tracks;Object.keys(t).forEach(function(r){return e.push(t[r])});var r=Macro.get("createplaylist").lists;if(Object.keys(r).map(function(e){return r[e].tracks}).flatten().filter(function(e){return e.copy}).forEach(function(t){return e.push(t.track)}),Macro.has("setplaylist")){var n=Macro.get("setplaylist").list;null!==n&&n.tracks.forEach(function(t){return e.push(t.track)})}}}),Macro.add("setplaylist",{list:null,handler:function(){if(0===this.args.length)return this.error("no track ID(s) specified");var e=Macro.get("playlist");if(null!==e.from&&"setplaylist"!==e.from)return this.error("playlists have already been defined with <<createplaylist>>");var t=this.self,r=Macro.get("cacheaudio").tracks;null!==t.list&&t.list.destroy(),t.list=SimpleAudio.createList();for(var n=0;n<this.args.length;++n){var a=this.args[n];if(!r.hasOwnProperty(a))return this.error('track "'+a+'" does not exist');t.list.add(r[a])}null===e.from&&(e.from="setplaylist"),Config.debug&&this.createDebugView()}}),Macro.add("stopallaudio",{skipArgs:!0,handler:function(){var e=Macro.get("cacheaudio").tracks;Object.keys(e).forEach(function(t){return e[t].stop()}),Config.debug&&this.createDebugView()}})}():Macro.add(["audio","cacheaudio","createaudiogroup","createplaylist","masteraudio","playlist","removeplaylist","waitforaudio","setplaylist","stopallaudio"],{skipArgs:!0,handler:function(){}}),Macro.add("goto",{handler:function(){if(0===this.args.length)return this.error("no passage specified");var e=void 0;return e="object"===_typeof(this.args[0])?this.args[0].link:this.args[0],Story.has(e)?void setTimeout(function(){return Engine.play(e)},Engine.minDomActionDelay):this.error('passage "'+e+'" does not exist')}}),Macro.add("repeat",{isAsync:!0,tags:null,timers:new Set,handler:function(){var e=this;if(0===this.args.length)return this.error("no time value specified");var t=void 0;try{t=Math.max(Engine.minDomActionDelay,Util.fromCssTime(this.args[0]))}catch(e){return this.error(e.message)}Config.debug&&this.debugView.modes({block:!0});var r=this.args.length>1&&/^(?:transition|t8n)$/.test(this.args[1]),n=jQuery(document.createElement("span")).addClass("macro-"+this.name).appendTo(this.output);this.self.registerInterval(this.createShadowWrapper(function(){var t=document.createDocumentFragment();new Wikifier(t,e.payload[0].contents);var a=n;r&&(a=jQuery(document.createElement("span")).addClass("macro-repeat-insert macro-repeat-in").appendTo(a)),a.append(t),r&&setTimeout(function(){return a.removeClass("macro-repeat-in")},Engine.minDomActionDelay)}),t)},registerInterval:function(e,t){var r=this;if("function"!=typeof e)throw new TypeError("callback parameter must be a function");var n=State.turns,a=this.timers,i=null;i=setInterval(function(){if(n!==State.turns)return clearInterval(i),void a.delete(i);var t=void 0;try{TempState.break=null,TempState.hasOwnProperty("repeatTimerId")&&(t=TempState.repeatTimerId),TempState.repeatTimerId=i,e.call(r)}finally{"undefined"!=typeof t?TempState.repeatTimerId=t:delete TempState.repeatTimerId,TempState.break=null}},t),a.add(i),prehistory.hasOwnProperty("#repeat-timers-cleanup")||(prehistory["#repeat-timers-cleanup"]=function(e){delete prehistory[e],a.forEach(function(e){return clearInterval(e)}),a.clear()})}}),Macro.add("stop",{skipArgs:!0,handler:function(){if(!TempState.hasOwnProperty("repeatTimerId"))return this.error("must only be used in conjunction with its parent macro <<repeat>>");var e=Macro.get("repeat").timers,t=TempState.repeatTimerId;clearInterval(t),e.delete(t),TempState.break=2,Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("timed",{isAsync:!0,tags:["next"],timers:new Set,handler:function(){if(0===this.args.length)return this.error("no time value specified in <<timed>>");var e=[];try{e.push({name:this.name,source:this.source,delay:Math.max(Engine.minDomActionDelay,Util.fromCssTime(this.args[0])),content:this.payload[0].contents})}catch(e){return this.error(e.message+" in <<timed>>")}if(this.payload.length>1){var t=void 0;try{var r=void 0;for(t=1,r=this.payload.length;t<r;++t)e.push({name:this.payload[t].name,source:this.payload[t].source,delay:0===this.payload[t].args.length?e[e.length-1].delay:Math.max(Engine.minDomActionDelay,Util.fromCssTime(this.payload[t].args[0])),content:this.payload[t].contents})}catch(e){return this.error(e.message+" in <<next>> (#"+t+")")}}Config.debug&&this.debugView.modes({block:!0});var n=this.args.length>1&&/^(?:transition|t8n)$/.test(this.args[1]),a=jQuery(document.createElement("span")).addClass("macro-"+this.name).appendTo(this.output);this.self.registerTimeout(this.createShadowWrapper(function(e){var t=document.createDocumentFragment();new Wikifier(t,e.content);var r=a;Config.debug&&"next"===e.name&&(r=jQuery(new DebugView(r[0],"macro",e.name,e.source).output)),n&&(r=jQuery(document.createElement("span")).addClass("macro-timed-insert macro-timed-in").appendTo(r)),r.append(t),n&&setTimeout(function(){return r.removeClass("macro-timed-in")},Engine.minDomActionDelay)}),e)},registerTimeout:function(e,t){if("function"!=typeof e)throw new TypeError("callback parameter must be a function");var r=State.turns,n=this.timers,a=null,i=t.shift(),o=function o(){if(n.delete(a),r===State.turns){var s=i;null!=(i=t.shift())&&(a=setTimeout(o,i.delay),n.add(a)),e.call(this,s)}};a=setTimeout(o,i.delay),n.add(a),prehistory.hasOwnProperty("#timed-timers-cleanup")||(prehistory["#timed-timers-cleanup"]=function(e){delete prehistory[e],n.forEach(function(e){return clearTimeout(e)}),n.clear()})}}),Macro.add("widget",{tags:null,handler:function(){if(0===this.args.length)return this.error("no widget name specified");var e=this.args[0];if(Macro.has(e)){if(!Macro.get(e).isWidget)return this.error('cannot clobber existing macro "'+e+'"');Macro.delete(e)}try{Macro.add(e,{isWidget:!0,handler:function(e){return function(){var t=this,r=void 0;try{var n=function(){State.variables.hasOwnProperty("args")&&(r=State.variables.args),State.variables.args=[].concat(_toConsumableArray(t.args)),State.variables.args.raw=t.args.raw,State.variables.args.full=t.args.full,t.addShadow("$args");var n=document.createDocumentFragment(),a=[];return new Wikifier(n,e),Array.from(n.querySelectorAll(".error")).forEach(function(e){a.push(e.textContent)}),0!==a.length?{v:t.error("error"+(a.length>1?"s":"")+" within widget contents ("+a.join("; ")+")")}:void t.output.appendChild(n)}();if("object"===("undefined"==typeof n?"undefined":_typeof(n)))return n.v}catch(e){return this.error("cannot execute widget: "+e.message)}finally{"undefined"!=typeof r?State.variables.args=r:delete State.variables.args}}}(this.payload[0].contents)}),Config.debug&&this.createDebugView(this.name,this.source+this.payload[0].contents+"<</"+this.name+">>")}catch(t){return this.error('cannot create widget macro "'+e+'": '+t.message)}}})}();var Dialog=function(){function e(){m=function(){var e=void 0;try{var t=document.createElement("p"),r=document.createElement("div");t.style.width="100%",t.style.height="200px",r.style.position="absolute",r.style.left="0px",r.style.top="0px",r.style.width="100px",r.style.height="100px",r.style.visibility="hidden",r.style.overflow="hidden",r.appendChild(t),document.body.appendChild(r);var n=t.offsetWidth;r.style.overflow="auto";var a=t.offsetWidth;n===a&&(a=r.clientWidth),document.body.removeChild(r),e=n-a}catch(e){}return e||17}();var e=jQuery(document.createDocumentFragment()).append('<div id="ui-overlay" class="ui-close"></div><div id="ui-dialog" tabindex="0" role="dialog" aria-labelledby="ui-dialog-title"><div id="ui-dialog-titlebar"><h1 id="ui-dialog-title"></h1>'+('<button id="ui-dialog-close" class="ui-close" tabindex="0" aria-label="'+L10n.get("close")+'"></button>')+'</div><div id="ui-dialog-body"></div></div>');d=jQuery(e.find("#ui-overlay").get(0)),f=jQuery(e.find("#ui-dialog").get(0)),p=jQuery(e.find("#ui-dialog-title").get(0)),h=jQuery(e.find("#ui-dialog-body").get(0)),e.insertBefore("#store-area")}function t(e){return f.hasClass("open")&&(!e||e.splitOrEmpty(/\s+/).every(function(e){return h.hasClass(e)}))}function r(e,t){return h.empty().removeClass(),null!=t&&h.addClass(t),p.empty().append((null!=e?String(e):"")||" "),h.get(0)}function n(){return h.get(0)}function a(){var e;return(e=h).append.apply(e,arguments),Dialog}function i(){var e;return(e=h).wiki.apply(e,arguments),Dialog}function o(e,t,r,n,a){return jQuery(e).ariaClick(function(e){e.preventDefault(),"function"==typeof r&&r(e),s(t,a),"function"==typeof n&&n(e)})}function s(e,r){var n=jQuery.extend({top:50},e),a=n.top;t()||(g=safeActiveElement()),jQuery(document.documentElement).attr("data-dialog","open"),d.addClass("open"),null!==h[0].querySelector("img")&&h.imagesLoaded().always(function(){return l({data:{top:a}})}),jQuery("body>:not(script,#store-area,#ui-bar,#ui-overlay,#ui-dialog)").attr("tabindex",-3).attr("aria-hidden",!0),jQuery("#ui-bar,#story").find("[tabindex]:not([tabindex^=-])").attr("tabindex",-2).attr("aria-hidden",!0);var i=c(a);return f.css(i).addClass("open").focus(),jQuery(window).on("resize.dialog-resize",null,{top:a},jQuery.throttle(40,l)),Has.mutationObserver?(y=new MutationObserver(function(e){for(var t=0;t<e.length;++t)if("childList"===e[t].type){l({data:{top:a}});break}}),y.observe(h[0],{childList:!0,subtree:!0})):h.on("DOMNodeInserted.dialog-resize DOMNodeRemoved.dialog-resize",null,{top:a},jQuery.throttle(40,l)),jQuery(document).on("click.dialog-close",".ui-close",{closeFn:r},u).on("keypress.dialog-close",".ui-close",function(e){13!==e.which&&32!==e.which||jQuery(this).trigger("click")}),setTimeout(function(){return jQuery.event.trigger(":dialogopen")},Engine.minDomActionDelay),Dialog}function u(e){return jQuery(document).off(".dialog-close"),y?(y.disconnect(),y=null):h.off(".dialog-resize"),jQuery(window).off(".dialog-resize"),f.removeClass("open").css({left:"",right:"",top:"",bottom:""}),jQuery("#ui-bar,#story").find("[tabindex=-2]").removeAttr("aria-hidden").attr("tabindex",0),jQuery("body>[tabindex=-3]").removeAttr("aria-hidden").removeAttr("tabindex"),p.empty(),h.empty().removeClass(),d.removeClass("open"),jQuery(document.documentElement).removeAttr("data-dialog"),null!==g&&(jQuery(g).focus(),g=null),e&&e.data&&"function"==typeof e.data.closeFn&&e.data.closeFn(e),setTimeout(function(){return jQuery.event.trigger(":dialogclose")},Engine.minDomActionDelay),Dialog}function l(e){var t=e&&e.data&&"undefined"!=typeof e.data.top?e.data.top:50;"block"===f.css("display")&&(f.css({display:"none"}),f.css(jQuery.extend({display:""},c(t))))}function c(e){var t=null!=e?e:50,r=jQuery(window),n={left:"",right:"",top:"",bottom:""};f.css(n);var a=r.width()-f.outerWidth(!0)-1,i=r.height()-f.outerHeight(!0)-1;return a<=32+m&&(i-=m),i<=32+m&&(a-=m),a<=32?n.left=n.right=16:n.left=n.right=a/2>>0,i<=32?n.top=n.bottom=16:i/2>t?n.top=t:n.top=n.bottom=i/2>>0,Object.keys(n).forEach(function(e){""!==n[e]&&(n[e]+="px")}),n}var d=null,f=null,p=null,h=null,g=null,m=0,y=null;return Object.freeze(Object.defineProperties({},{init:{value:e},isOpen:{value:t},setup:{value:r},body:{value:n},append:{value:a},wiki:{value:i},addClickHandler:{value:o},open:{value:s},close:{value:u},resize:{value:function(e){return l("object"===("undefined"==typeof e?"undefined":_typeof(e))?{data:e}:undefined)}}}))}(),Engine=function(){function e(){jQuery("#init-no-js,#init-lacking").remove(),function(){var e=jQuery(document.createDocumentFragment()),t=Story.has("StoryInterface")&&Story.get("StoryInterface").text.trim();if(t){if(UIBar.destroy(),jQuery(document.head).find("#style-core-display").remove(),e.append(t),0===e.find("#passages").length)throw new Error('no element with ID "passages" found within "StoryInterface" special passage')}else e.append('<div id="story" role="main"><div id="passages"></div></div>');e.insertBefore("#store-area")}(),S=new StyleWrapper(function(){return jQuery(document.createElement("style")).attr({id:"style-aria-outlines",type:"text/css"}).appendTo(document.head).get(0)}()),jQuery(document).on("mousedown.aria-outlines keydown.aria-outlines",function(e){return"keydown"===e.type?m():g()})}function t(){if(Story.has("StoryInit"))try{var e=Wikifier.wikifyEval(Story.get("StoryInit").text);if(Config.debug){var t=new DebugView(document.createDocumentFragment(),"special","StoryInit","StoryInit");t.modes({hidden:!0}),t.append(e),k=t.output}}catch(e){console.error(e),Alert.error("StoryInit",e.message)}if(Config.history.maxStates=Math.max(0,Config.history.maxStates),Number.isSafeInteger(Config.history.maxStates)||(Config.history.maxStates=100),1===Config.history.maxStates&&(Config.history.controls=!1),Config.debug&&DebugView.init(),null==Config.passages.start)throw new Error("starting passage not selected");if(!Story.has(Config.passages.start))throw new Error('starting passage ("'+Config.passages.start+'") not found');if(jQuery(document.documentElement).focus(),State.restore())f();else{var r=!0;switch(_typeof(Config.saves.autoload)){case"boolean":Config.saves.autoload&&Save.autosave.ok()&&Save.autosave.has()&&(r=!Save.autosave.load());break;case"string":"prompt"===Config.saves.autoload&&Save.autosave.ok()&&Save.autosave.has()&&(r=!1,UI.buildDialogAutoload(),UI.open());break;case"function":Save.autosave.ok()&&Save.autosave.has()&&Config.saves.autoload()&&(r=!Save.autosave.load())}r&&p(Config.passages.start)}}function r(){LoadScreen.show(),window.scroll(0,0),State.reset(),window.location.reload()}function n(){return b}function a(){return b===y.Idle}function i(){return b!==y.Idle}function o(){return b===y.Rendering}function s(){return w}function u(e){var t=State.goTo(e);return t&&f(),t}function l(e){var t=State.go(e);return t&&f(),t}function c(){return l(-1)}function d(){return l(1)}function f(){return p(State.passage,!0)}function p(e,t){var r=e;b=y.Playing,TempState={},State.clearTemporary();var n=void 0,a=void 0;if("function"==typeof Config.navigation.override)try{var i=Config.navigation.override(r);i&&(r=i)}catch(e){}var o=Story.get(r);if(jQuery.event.trigger({type:":passageinit",passage:o}),Object.keys(prehistory).forEach(function(e){
"function"==typeof prehistory[e]&&prehistory[e].call(this,e)},o),t||State.create(o.title),document.body.className&&(document.body.className=""),Object.keys(predisplay).forEach(function(e){"function"==typeof predisplay[e]&&predisplay[e].call(this,e)},o),Story.has("PassageReady"))try{n=Wikifier.wikifyEval(Story.get("PassageReady").text)}catch(e){console.error(e),Alert.error("PassageReady",e.message)}b=y.Rendering;var s=jQuery(o.render()),u=document.getElementById("passages");if(u.hasChildNodes()&&("number"==typeof Config.passages.transitionOut||"string"==typeof Config.passages.transitionOut&&""!==Config.passages.transitionOut&&""!==Config.transitionEndEventName?[].concat(_toConsumableArray(u.childNodes)).forEach(function(e){var t=jQuery(e);if(e.nodeType===Node.ELEMENT_NODE&&t.hasClass("passage")){if(t.hasClass("passage-out"))return;t.attr("id","out-"+t.attr("id")).addClass("passage-out"),"string"==typeof Config.passages.transitionOut?t.on(Config.transitionEndEventName,function(e){e.originalEvent.propertyName===Config.passages.transitionOut&&t.remove()}):setTimeout(function(){return t.remove()},Math.max(v,Config.passages.transitionOut))}else t.remove()}):jQuery(u).empty()),s.addClass("passage-in").appendTo(u),setTimeout(function(){return s.removeClass("passage-in")},v),Config.passages.displayTitles&&o.title!==Config.passages.start&&(document.title=o.title+" | "+Story.title),window.scroll(0,0),b=y.Playing,Story.has("PassageDone"))try{a=Wikifier.wikifyEval(Story.get("PassageDone").text)}catch(e){console.error(e),Alert.error("PassageDone",e.message)}if(jQuery.event.trigger({type:":passagedisplay",passage:o}),Object.keys(postdisplay).forEach(function(e){"function"==typeof postdisplay[e]&&postdisplay[e].call(this,e)},o),Config.ui.updateStoryElements&&UIBar.setStoryElements(),Config.debug){var l=void 0;null!=n&&(l=new DebugView(document.createDocumentFragment(),"special","PassageReady","PassageReady"),l.modes({hidden:!0}),l.append(n),s.prepend(l.output)),null!=a&&(l=new DebugView(document.createDocumentFragment(),"special","PassageDone","PassageDone"),l.modes({hidden:!0}),l.append(a),s.append(l.output)),1===State.turns&&null!=k&&s.prepend(k)}switch(w=Util.now(),g(),jQuery("#story").find("a[href]:not(.link-external)").addClass("link-external").end().find("a,link,button,input,select,textarea").not("[tabindex]").attr("tabindex",0),_typeof(Config.saves.autosave)){case"boolean":Config.saves.autosave&&Save.autosave.save();break;case"string":o.tags.includes(Config.saves.autosave)&&Save.autosave.save();break;case"object":Array.isArray(Config.saves.autosave)&&o.tags.some(function(e){return Config.saves.autosave.includes(e)})&&Save.autosave.save()}return jQuery.event.trigger({type:":passageend",passage:o}),b=y.Idle,s[0]}function h(e,t,r){var n=!1;switch(r){case undefined:break;case"replace":case"back":n=!0;break;default:throw new Error('Engine.display option parameter called with obsolete value "'+r+'"; please notify the developer')}p(e,n)}function g(){S.set("*:focus{outline:none}")}function m(){S.clear()}var y=Util.toEnum({Idle:"idle",Playing:"playing",Rendering:"rendering"}),v=40,b=y.Idle,w=null,k=null,S=null;return Object.freeze(Object.defineProperties({},{States:{value:y},minDomActionDelay:{value:v},init:{value:e},start:{value:t},restart:{value:r},state:{get:n},isIdle:{value:a},isPlaying:{value:i},isRendering:{value:o},lastPlay:{get:s},goTo:{value:u},go:{value:l},backward:{value:c},forward:{value:d},show:{value:f},play:{value:p},display:{value:h}}))}(),Passage=function(){var e=void 0;e=/^(?:debug|nobr|passage|widget|twine\..*)$/i;var t=function(){function t(r,n){var a=this;_classCallCheck(this,t),Object.defineProperties(this,{title:{value:Util.unescape(r)},element:{value:n||null},tags:{value:Object.freeze(n&&n.hasAttribute("tags")?n.getAttribute("tags").trim().splitOrEmpty(/\s+/).sort().filter(function(e,t,r){return 0===t||r[t-1]!==e}):[])},_excerpt:{writable:!0,value:null}}),Object.defineProperties(this,{domId:{value:"passage-"+Util.slugify(this.title)},classes:{value:Object.freeze(0===this.tags.length?[]:function(){return a.tags.filter(function(t){return!e.test(t)}).map(function(e){return Util.slugify(e)})}())}})}return _createClass(t,[{key:"description",value:function(){var e=Config.passages.descriptions;if(null!=e)switch("undefined"==typeof e?"undefined":_typeof(e)){case"boolean":if(e)return this.title;break;case"object":if(e instanceof Map&&e.has(this.title))return e.get(this.title);if(e.hasOwnProperty(this.title))return e[this.title];break;case"function":var r=e.call(this);if(r)return r;break;default:throw new TypeError("Config.passages.descriptions must be a boolean, object, or function")}return null===this._excerpt&&(this._excerpt=t.getExcerptFromText(this.text)),this._excerpt}},{key:"processText",value:function(){var e=this.text;return(Config.passages.nobr||this.tags.includes("nobr"))&&(e=e.replace(/^\n+|\n+$/g,"").replace(/\n+/g," ")),this.tags.includes("Twine.image")&&(e="[img["+e+"]]"),e}},{key:"render",value:function(){var e=this,r=this.tags.length>0?this.tags.join(" "):null,n=document.createElement("div");return jQuery(n).attr({id:this.domId,"data-passage":this.title,"data-tags":r}).addClass("passage "+this.className),jQuery(document.body).attr("data-tags",r).addClass(this.className),jQuery(document.documentElement).attr("data-tags",r),jQuery.event.trigger({type:":passagestart",content:n,passage:this}),Object.keys(prerender).forEach(function(t){"function"==typeof prerender[t]&&prerender[t].call(e,n,t)}),Story.has("PassageHeader")&&new Wikifier(n,Story.get("PassageHeader").processText()),new Wikifier(n,this.processText()),Story.has("PassageFooter")&&new Wikifier(n,Story.get("PassageFooter").processText()),jQuery.event.trigger({type:":passagerender",content:n,passage:this}),Object.keys(postrender).forEach(function(t){"function"==typeof postrender[t]&&postrender[t].call(e,n,t)}),this._excerpt=t.getExcerptFromNode(n),n}},{key:"className",get:function(){return this.classes.join(" ")}},{key:"text",get:function(){if(null==this.element){var e=Util.escape(this.title);return'<span class="error" title="'+e+'">'+L10n.get("errorTitle")+": "+L10n.get("errorNonexistentPassage",{passage:e})+"</span>"}return this.element.textContent.replace(/\r/g,"")}}],[{key:"getExcerptFromNode",value:function(e,t){if(!e.hasChildNodes())return"";var r=e.textContent.trim();if(""!==r){var n=new RegExp("(\\S+(?:\\s+\\S+){0,"+(t>0?t-1:7)+"})");r=r.replace(/\s+/g," ").match(n)}return r?r[1]+"…":"…"}},{key:"getExcerptFromText",value:function(e,t){if(""===e)return"";var r=new RegExp("(\\S+(?:\\s+\\S+){0,"+(t>0?t-1:7)+"})"),n=e.replace(/<<.*?>>/g," ").replace(/<.*?>/g," ").trim().replace(/^\s*\|.*\|.*?$/gm,"").replace(/\[[<>]?img\[[^\]]*\]\]/g,"").replace(/\[\[([^|\]]*)(?:|[^\]]*)?\]\]/g,"$1").replace(/^\s*!+(.*?)$/gm,"$1").replace(/'{2}|\/{2}|_{2}|@{2}/g,"").trim().replace(/\s+/g," ").match(r);return n?n[1]+"…":"…"}}]),t}();return t}(),Save=function(){function e(){if("cookie"===storage.name)return n(),Config.saves.autosave=undefined,Config.saves.slots=0,!1;Config.saves.slots=Math.max(0,Config.saves.slots),Number.isSafeInteger(Config.saves.slots)||(Config.saves.slots=8);var e=r(),t=!1;Array.isArray(e)&&(e={autosave:null,slots:e},t=!0),Config.saves.slots!==e.slots.length&&(Config.saves.slots<e.slots.length?(e.slots.reverse(),e.slots=e.slots.filter(function(e){return!(null===e&&this.count>0)||(--this.count,!1)},{count:e.slots.length-Config.saves.slots}),e.slots.reverse()):Config.saves.slots>e.slots.length&&x(e.slots,Config.saves.slots-e.slots.length),t=!0),O(e.autosave)&&(t=!0);for(var a=0;a<e.slots.length;++a)O(e.slots[a])&&(t=!0);return j(e)&&(storage.delete("saves"),t=!1),t&&C(e),P=e.slots.length-1,!0}function t(){return{autosave:null,slots:x([],Config.saves.slots)}}function r(){var e=storage.get("saves");return null===e?t():e}function n(){return storage.delete("saves"),!0}function a(){return i()||d()}function i(){return"cookie"!==storage.name&&"undefined"!=typeof Config.saves.autosave}function o(){var e=r();return null!==e.autosave}function s(){var e=r();return e.autosave}function u(){var e=r();return null!==e.autosave&&T(e.autosave)}function l(e,t){if("function"==typeof Config.saves.isAllowed&&!Config.saves.isAllowed())return!1;var n=r(),a={title:e||Story.get(State.passage).description(),date:Date.now()};return null!=t&&(a.metadata=t),n.autosave=A(a),C(n)}function c(){var e=r();return e.autosave=null,C(e)}function d(){return"cookie"!==storage.name&&P!==-1}function f(){return P+1}function p(){if(!d())return 0;for(var e=r(),t=0,n=0,a=e.slots.length;n<a;++n)null!==e.slots[n]&&++t;return t}function h(){return 0===p()}function g(e){if(e<0||e>P)return!1;var t=r();return!(e>=t.slots.length||null===t.slots[e])}function m(e){if(e<0||e>P)return null;var t=r();return e>=t.slots.length?null:t.slots[e]}function y(e){if(e<0||e>P)return!1;var t=r();return!(e>=t.slots.length||null===t.slots[e])&&T(t.slots[e])}function v(e,t,n){if("function"==typeof Config.saves.isAllowed&&!Config.saves.isAllowed())return UI.alert(L10n.get("savesDisallowed")),!1;if(e<0||e>P)return!1;var a=r();if(e>=a.slots.length)return!1;var i={title:t||Story.get(State.passage).description(),date:Date.now()};return null!=n&&(i.metadata=n),a.slots[e]=A(i),C(a)}function b(e){if(e<0||e>P)return!1;var t=r();return!(e>=t.slots.length)&&(t.slots[e]=null,C(t))}function w(e,t){function r(){var e=new Date,t=e.getMonth()+1,r=e.getDate(),n=e.getHours(),a=e.getMinutes(),i=e.getSeconds();return t<10&&(t="0"+t),r<10&&(r="0"+r),n<10&&(n="0"+n),a<10&&(a="0"+a),i<10&&(i="0"+i),""+e.getFullYear()+t+r+"-"+n+a+i}if("function"==typeof Config.saves.isAllowed&&!Config.saves.isAllowed())return void UI.alert(L10n.get("savesDisallowed"));var n=null==e?Story.domId:Util.slugify(e),a=n+"-"+r()+".save",i=null==t?{}:{metadata:t},o=LZString.compressToBase64(JSON.stringify(A(i)));saveAs(new Blob([o],{type:"text/plain;charset=UTF-8"}),a)}function k(e){var t=e.target.files[0],r=new FileReader;jQuery(r).on("load",function(e){var r=e.currentTarget;if(r.result){var n=void 0;try{n=JSON.parse(/\.json$/i.test(t.name)||/^\{/.test(r.result)?r.result:LZString.decompressFromBase64(r.result))}catch(e){}T(n)}}),r.readAsText(t)}function S(e){if("function"==typeof Config.saves.isAllowed&&!Config.saves.isAllowed())return UI.alert(L10n.get("savesDisallowed")),null;var t=null==e?{}:{metadata:e};return LZString.compressToBase64(JSON.stringify(A(t)))}function E(e){var t=void 0;try{t=JSON.parse(LZString.decompressFromBase64(e))}catch(e){}return T(t)?t.metadata:null}function x(e,t){for(var r=0;r<t;++r)e.push(null);return e}function j(e){for(var t=e.slots,r=!0,n=0,a=t.length;n<a;++n)if(null!==t[n]){r=!1;break}return null===e.autosave&&r}function C(e){return j(e)?(storage.delete("saves"),!0):storage.set("saves",e)}function O(e){if(null==e||"object"!==("undefined"==typeof e?"undefined":_typeof(e)))return!1;var t=!1;return e.hasOwnProperty("state")&&e.state.hasOwnProperty("delta")&&e.state.hasOwnProperty("index")||(e.hasOwnProperty("data")?(delete e.mode,e.state={delta:State.deltaEncode(e.data)},delete e.data):e.state.hasOwnProperty("delta")?e.state.hasOwnProperty("index")||delete e.state.mode:(delete e.state.mode,e.state.delta=State.deltaEncode(e.state.history),delete e.state.history),e.state.index=e.state.delta.length-1,t=!0),e.state.hasOwnProperty("rseed")&&(e.state.seed=e.state.rseed,delete e.state.rseed,e.state.delta.forEach(function(e,t,r){r[t].hasOwnProperty("rcount")&&(r[t].pull=r[t].rcount,delete r[t].rcount)}),t=!0),(e.state.hasOwnProperty("expired")&&"number"==typeof e.state.expired||e.state.hasOwnProperty("unique")||e.state.hasOwnProperty("last"))&&(e.state.hasOwnProperty("expired")&&"number"==typeof e.state.expired&&delete e.state.expired,(e.state.hasOwnProperty("unique")||e.state.hasOwnProperty("last"))&&(e.state.expired=[],e.state.hasOwnProperty("unique")&&(e.state.expired.push(e.state.unique),delete e.state.unique),e.state.hasOwnProperty("last")&&(e.state.expired.push(e.state.last),delete e.state.last)),t=!0),t}function A(e){if(null!=e&&"object"!==("undefined"==typeof e?"undefined":_typeof(e)))throw new Error("supplemental parameter must be an object");var t=Object.assign({},e,{id:Config.saves.id,state:State.marshalForSave()});return Config.saves.version&&(t.version=Config.saves.version),"function"==typeof Config.saves.onSave&&Config.saves.onSave(t),t.state.delta=State.deltaEncode(t.state.history),delete t.state.history,t}function T(e){try{if(O(e),!e||!e.hasOwnProperty("id")||!e.hasOwnProperty("state"))throw new Error(L10n.get("errorSaveMissingData"));if(e.state.history=State.deltaDecode(e.state.delta),delete e.state.delta,"function"==typeof Config.saves.onLoad&&Config.saves.onLoad(e),e.id!==Config.saves.id)throw new Error(L10n.get("errorSaveIdMismatch"));State.unmarshalForSave(e.state),Engine.show()}catch(e){return UI.alert(e.message.toUpperFirst()+".</p><p>"+L10n.get("aborting")+"."),!1}return!0}var P=-1;return Object.freeze(Object.defineProperties({},{init:{value:e},get:{value:r},clear:{value:n},ok:{value:a},autosave:{value:Object.freeze(Object.defineProperties({},{ok:{value:i},has:{value:o},get:{value:s},load:{value:u},save:{value:l},delete:{value:c}}))},slots:{value:Object.freeze(Object.defineProperties({},{ok:{value:d},length:{get:f},isEmpty:{value:h},count:{value:p},has:{value:g},get:{value:m},load:{value:y},save:{value:v},delete:{value:b}}))},export:{value:w},import:{value:k},serialize:{value:S},deserialize:{value:E}}))}(),Setting=function(){function e(){if(storage.has("options")){var e=storage.get("options");null!==e&&(window.SugarCube.settings=settings=Object.assign(t(),e)),r(),storage.delete("options")}n(),g.forEach(function(e){if(e.hasOwnProperty("onInit")){var t={name:e.name,value:settings[e.name],default:e.default};e.hasOwnProperty("list")&&(t.list=e.list),e.onInit.call(t)}})}function t(){return Object.create(null)}function r(){var e=t();return Object.keys(settings).length>0&&g.filter(function(e){return e.type!==m.Header&&settings[e.name]!==e.default}).forEach(function(t){return e[t.name]=settings[t.name]}),0===Object.keys(e).length?(storage.delete("settings"),!0):storage.set("settings",e)}function n(){var e=t(),r=storage.get("settings")||t();g.filter(function(e){return e.type!==m.Header}).forEach(function(t){return e[t.name]=t.default}),window.SugarCube.settings=settings=Object.assign(e,r)}function a(){return window.SugarCube.settings=settings=t(),storage.delete("settings"),!0}function i(e){if(0===arguments.length)a(),n();else{if(null==e||!f(e))throw new Error('nonexistent setting "'+e+'"');var t=p(e);t.type!==m.Header&&(settings[e]=t.default)}return r()}function o(e,t){g.forEach(e,t)}function s(e,t,r){if(arguments.length<3){var n=[];throw arguments.length<1&&n.push("type"),arguments.length<2&&n.push("name"),arguments.length<3&&n.push("definition"),new Error("missing parameters, no "+n.join(" or ")+" specified")}if("object"!==("undefined"==typeof r?"undefined":_typeof(r)))throw new TypeError("definition parameter must be an object");if(f(t))throw new Error('cannot clobber existing setting "'+t+'"');var a={type:e,name:t,label:null==r.label?"":String(r.label).trim()};switch(e){case m.Header:break;case m.Toggle:a.default=!!r.default;break;case m.List:if(!r.hasOwnProperty("list"))throw new Error("no list specified");if(!Array.isArray(r.list))throw new TypeError("list must be an array");if(0===r.list.length)throw new Error("list must not be empty");if(a.list=Object.freeze(r.list),null==r.default)a.default=r.list[0];else{var i=r.list.indexOf(r.default);if(i===-1)throw new Error("list does not contain default");a.default=r.list[i]}break;default:throw new Error("unknown Setting type: "+e)}"function"==typeof r.onInit&&(a.onInit=Object.freeze(r.onInit)),"function"==typeof r.onChange&&(a.onChange=Object.freeze(r.onChange)),g.push(Object.freeze(a))}function u(e,t){s(m.Header,e,{label:t})}function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];s.apply(undefined,[m.Toggle].concat(t))}function c(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];s.apply(undefined,[m.List].concat(t))}function d(){return 0===g.length}function f(e){return g.some(function(t){return t.name===e})}function p(e){return g.find(function(t){return t.name===e})}function h(e){f(e)&&delete settings[e];for(var t=0;t<g.length;++t)if(g[t].name===e){g.splice(t,1),h(e);break}}var g=[],m=Util.toEnum({Header:0,Toggle:1,List:2});return Object.freeze(Object.defineProperties({},{Types:{value:m},init:{value:e},create:{value:t},save:{value:r},load:{value:n},clear:{value:a},reset:{value:i},forEach:{value:o},add:{value:s},addHeader:{value:u},addToggle:{value:l},addList:{value:c},isEmpty:{value:d},has:{value:f},get:{value:p},delete:{value:h}}))}(),State=function(){function e(){session.delete("state"),I=[],L=c(),Q=-1,W=[],R=null===R?null:new PRNGWrapper(R.seed,!1)}function t(){if(session.has("state")){var e=session.get("state");return null!=e&&(n(e),!0)}return!1}function r(e){var t={index:Q};return e?t.history=clone(I):t.delta=T(I),W.length>0&&(t.expired=[].concat(_toConsumableArray(W))),null!==R&&(t.seed=R.seed),t}function n(e,t){if(null==e)throw new Error("state object is null or undefined");if(!e.hasOwnProperty(t?"history":"delta")||0===e[t?"history":"delta"].length)throw new Error("state object has no history or history is empty");if(!e.hasOwnProperty("index"))throw new Error("state object has no index");if(null!==R&&!e.hasOwnProperty("seed"))throw new Error("state object has no seed, but PRNG is enabled");if(null===R&&e.hasOwnProperty("seed"))throw new Error("state object has seed, but PRNG is disabled");I=t?clone(e.history):P(e.delta),Q=e.index,W=e.hasOwnProperty("expired")?[].concat(_toConsumableArray(e.expired)):[],e.hasOwnProperty("seed")&&(R.seed=e.seed),g(Q)}function a(){return r(!0)}function i(e){return n(e,!0)}function o(){return W}function s(){return W.length+y()}function u(){return W.concat(I.slice(0,y()).map(function(e){return e.title}))}function l(e){return null!=e&&""!==e&&(!!W.includes(e)||!!I.slice(0,y()).some(function(t){return t.title===e}))}function c(e,t){return{title:null==e?"":String(e),variables:null==t?{}:clone(t)}}function d(){return L}function f(){return Q}function p(){return L.title}function h(){return L.variables}function g(e){if(null==e)throw new Error("moment activation attempted with null or undefined");switch("undefined"==typeof e?"undefined":_typeof(e)){case"object":L=clone(e);break;case"number":if(b())throw new Error("moment activation attempted with index on empty history");if(e<0||e>=v())throw new RangeError("moment activation attempted with out-of-bounds index; need [0, "+(v()-1)+"], got "+e);L=clone(I[e]);break;default:throw new TypeError('moment activation attempted with a "'+("undefined"==typeof e?"undefined":_typeof(e))+'"; must be an object or valid history stack index')}return null!==R&&(R=PRNGWrapper.unmarshal({seed:R.seed,pull:L.pull})),session.set("state",r()),jQuery.event.trigger(":historyupdate"),L}function m(){return I}function y(){return Q+1}function v(){return I.length}function b(){return 0===I.length}function w(){return I.length>0?I[Q]:null}function k(){return I.length>0?I[I.length-1]:null}function S(){return I.length>0?I[0]:null}function E(e){return b()||e<0||e>Q?null:I[e]}function x(e){if(b())return null;var t=1+(e?Math.abs(e):0);return t>y()?null:I[y()-t]}function j(e){if(b()||null==e||""===e)return!1;for(var t=Q;t>=0;--t)if(I[t].title===e)return!0;return!1}function C(e){if(y()<v()&&I.splice(y(),v()-y()),I.push(c(e,L.variables)),R&&(k().pull=R.pull),Config.history.maxStates>0)for(;v()>Config.history.maxStates;)W.push(I.shift().title);return Q=v()-1,g(Q),y()}function O(e){return!(null==e||e<0||e>=v()||e===Q)&&(Q=e,g(Q),!0)}function A(e){return null!=e&&0!==e&&O(Q+e)}function T(e){if(!Array.isArray(e))return null;if(0===e.length)return[];for(var t=[clone(e[0])],r=1,n=e.length;r<n;++r)t.push(Diff.diff(e[r-1],e[r]));return t}function P(e){if(!Array.isArray(e))return null;if(0===e.length)return[];for(var t=[clone(e[0])],r=1,n=e.length;r<n;++r)t.push(Diff.patch(t[r-1],e[r]));return t}function _(e,t){if(!b()){var r=void 0;throw r="the Story JavaScript",new Error("State.initPRNG must be called during initialization, within either "+r+" or the StoryInit special passage")}R=new PRNGWrapper(e,t),L.pull=R.pull}function M(){return R?R.random():Math.random()}function N(){F={},TempVariables=F}function D(){return F}var I=[],L=c(),Q=-1,W=[],R=null,F={};return Object.freeze(Object.defineProperties({},{reset:{value:e},restore:{value:t},marshalForSave:{value:a},unmarshalForSave:{value:i},expired:{get:o},turns:{get:s},passages:{get:u},hasPlayed:{value:l},active:{get:d},activeIndex:{get:f},passage:{get:p},variables:{get:h},history:{get:m},length:{get:y},size:{get:v},isEmpty:{value:b},current:{get:w},top:{get:k},bottom:{get:S},index:{value:E},peek:{value:x},has:{value:j},create:{value:C},goTo:{value:O},go:{value:A},deltaEncode:{value:T},deltaDecode:{value:P},initPRNG:{value:_},random:{value:M},clearTemporary:{value:N},temporary:{get:D},restart:{value:function(){return Engine.restart()}},backward:{value:function(){return Engine.backward()}},forward:{value:function(){return Engine.forward()}},display:{value:function(){return Engine.display.apply(Engine,arguments)}},show:{value:function(){return Engine.show.apply(Engine,arguments)}},play:{value:function(){return Engine.play.apply(Engine,arguments)}}}))}(),Story=function(){function e(){function e(e){if(e.tags.includesAny(n))throw new Error('starting passage "'+e.title+'" contains illegal tags; invalid: "'+e.tags.filter(function(e){return n.includes(e)}).sort().join('", "')+'"')}function t(e){if(a.includes(e.title)&&e.tags.includesAny(n))throw new Error('special passage "'+e.title+'" contains illegal tags; invalid: "'+e.tags.filter(function(e){return n.includes(e)}).sort().join('", "')+'"')}var n=["widget"],a=["PassageDone","PassageFooter","PassageHeader","PassageReady","StoryAuthor","StoryBanner","StoryCaption","StoryInit","StoryMenu","StoryShare","StorySubtitle"];!function(){var n=jQuery("#store-area>tw-storydata"),a=n.attr("startnode")||"";Config.passages.start=null,Config.debug=/\bdebug\b/.test(n.attr("options")),n.children("style").each(function(e){d.push(new Passage("tw-user-style-"+e,this))}),n.children("script").each(function(e){f.push(new Passage("tw-user-script-"+e,this))}),n.children('tw-passagedata:not([tags~="Twine.private"],[tags~="annotation"])').each(function(){var r=jQuery(this),n=r.attr("pid")||"",i=new Passage(r.attr("name"),this);n===a&&""!==a?(Config.passages.start=i.title,e(i),c[i.title]=i):i.tags.includes("widget")?p.push(i):(t(i),c[i.title]=i)}),g=n.attr("ifid"),r(Util.unescape("DW2")),Config.saves.id=Story.domId}()}function t(){!function(){var e=document.createElement("style");new StyleWrapper(e).add(d.map(function(e){return e.text.trim()}).join("\n")),jQuery(e).appendTo(document.head).attr({id:"style-story",type:"text/css"})}();for(var e=0;e<f.length;++e)try{Scripting.evalJavaScript(f[e].text)}catch(t){console.error(t),Alert.error(f[e].title,"object"===("undefined"==typeof t?"undefined":_typeof(t))?t.message:t)}for(var t=0;t<p.length;++t)try{Wikifier.wikifyEval(p[t].processText())}catch(e){console.error(e),Alert.error(p[t].title,"object"===("undefined"==typeof e?"undefined":_typeof(e))?e.message:e)}}function r(e){if(null==e||""===e)throw new Error("story title cannot be null or empty");document.title=h=Util.unescape(e),m=Util.slugify(h)}function n(){return h}function a(){return m}function i(){return g}function o(e){var t="undefined"==typeof e?"undefined":_typeof(e);switch(t){case"number":case"string":var r=String(e);return c.hasOwnProperty(r);case"boolean":case"function":t="a "+t;break;case"undefined":break;default:t=null===e?"null":"an "+t}throw new TypeError("Story.has title parameter cannot be "+t)}function s(e){var t="undefined"==typeof e?"undefined":_typeof(e);switch(t){case"number":case"string":var r=String(e);return c.hasOwnProperty(r)?c[r]:new Passage(r||"(unknown)");case"boolean":case"function":t="a "+t;break;case"undefined":break;default:t=null===e?"null":"an "+t}throw new TypeError("Story.get title parameter cannot be "+t)}function u(e,t){for(var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"title",n=Object.keys(c),a=[],i=0;i<n.length;++i){var o=c[n[i]];if(o.hasOwnProperty(e))switch(_typeof(o[e])){case"undefined":break;case"object":for(var s=0,u=o[e].length;s<u;++s)if(o[e][s]==t){a.push(o);break}break;default:o[e]==t&&a.push(o)}}return a.sort(function(e,t){return e[r]==t[r]?0:e[r]<t[r]?-1:1}),a}function l(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"title";if("function"!=typeof e)throw new Error("Story.lookupWith filter parameter must be a function");for(var r=Object.keys(c),n=[],a=0;a<r.length;++a){var i=c[r[a]];e(i)&&n.push(i)}return n.sort(function(e,r){return e[t]==r[t]?0:e[t]<r[t]?-1:1}),n}var c={},d=[],f=[],p=[],h="",g="",m="";return Object.freeze(Object.defineProperties({},{passages:{value:c},styles:{value:d},scripts:{value:f},widgets:{value:p},load:{value:e},init:{value:t},title:{get:n},domId:{get:a},ifId:{get:i},has:{value:o},get:{value:s},lookup:{value:u},lookupWith:{value:l}}))}(),UI=function(){function e(e,t){var r=t,n=Config.debug;Config.debug=!1;try{null==r&&(r=document.createElement("ul"));var a=document.createDocumentFragment();new Wikifier(a,Story.get(e).processText().trim());var i=[].concat(_toConsumableArray(a.querySelectorAll(".error"))).map(function(e){return e.textContent.replace(/^(?:(?:Uncaught\s+)?Error:\s+)+/,"")});if(i.length>0)throw new Error(i.join("; "));for(;a.hasChildNodes();){var o=a.firstChild;if(o.nodeType===Node.ELEMENT_NODE&&"A"===o.nodeName.toUpperCase()){var s=document.createElement("li");r.appendChild(s),s.appendChild(o)}else a.removeChild(o)}}finally{Config.debug=n}return r}function t(e){jQuery(Dialog.setup("Alert","alert")).append("<p>"+e+'</p><ul class="buttons">'+('<li><button id="alert-ok" class="ui-close">'+L10n.get(["alertOk","ok"])+"</button></li>")+"</ul>");for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];Dialog.open.apply(Dialog,r)}function r(){u(),Dialog.open.apply(Dialog,arguments)}function n(){l(),Dialog.open.apply(Dialog,arguments)}function a(){c(),Dialog.open.apply(Dialog,arguments)}function i(){d(),Dialog.open.apply(Dialog,arguments)}function o(){f(),Dialog.open.apply(Dialog,arguments)}function s(){return jQuery(Dialog.setup(L10n.get("autoloadTitle"),"autoload")).append("<p>"+L10n.get("autoloadPrompt")+'</p><ul class="buttons">'+('<li><button id="autoload-ok" class="ui-close">'+L10n.get(["autoloadOk","ok"])+"</button></li>")+('<li><button id="autoload-cancel" class="ui-close">'+L10n.get(["autoloadCancel","cancel"])+"</button></li>")+"</ul>"),jQuery(document).one("click.autoload",".ui-close",function(e){var t="autoload-ok"===e.target.id;jQuery(document).one(":dialogclose",function(){t&&Save.autosave.load()||Engine.play(Config.passages.start)})}),!0}function u(){var e=document.createElement("ul");jQuery(Dialog.setup(L10n.get("jumptoTitle"),"jumpto list")).append(e);for(var t=State.expired.length,r=State.size-1;r>=0;--r)if(r!==State.activeIndex){var n=Story.get(State.history[r].title);n&&n.tags.includes("bookmark")&&jQuery(document.createElement("li")).append(jQuery(document.createElement("a")).ariaClick({one:!0},function(e){return function(){return jQuery(document).one(":dialogclose",function(){return Engine.goTo(e)})}}(r)).addClass("ui-close").text(L10n.get("jumptoTurn")+" "+(t+r+1)+": "+n.description())).appendTo(e)}e.hasChildNodes()||jQuery(e).append("<li><a><em>"+L10n.get("jumptoUnavailable")+"</em></a></li>")}function l(){return jQuery(Dialog.setup(L10n.get("restartTitle"),"restart")).append("<p>"+L10n.get("restartPrompt")+'</p><ul class="buttons">'+('<li><button id="restart-ok">'+L10n.get(["restartOk","ok"])+"</button></li>")+('<li><button id="restart-cancel" class="ui-close">'+L10n.get(["restartCancel","cancel"])+"</button></li>")+"</ul>").find("#restart-ok").ariaClick({one:!0},function(){jQuery(document).one(":dialogclose",function(){return Engine.restart()}),Dialog.close()}),!0}function c(){function e(e,t,r,n){var a=jQuery(document.createElement("button")).attr("id","saves-"+e).html(r);return t&&a.addClass(t),n?a.ariaClick(n):a.prop("disabled",!0),jQuery(document.createElement("li")).append(a)}function r(){function e(e,t,r,n,a){var i=jQuery(document.createElement("button")).attr("id","saves-"+e+"-"+n).addClass(e).html(r);return t&&i.addClass(t),a?"auto"===n?i.ariaClick({label:r+" "+L10n.get("savesLabelAuto")},function(){return a()}):i.ariaClick({label:r+" "+L10n.get("savesLabelSlot")+" "+(n+1)},function(){return a(n)}):i.prop("disabled",!0),i}var t=Save.get(),r=jQuery(document.createElement("tbody"));if(Save.autosave.ok()){var n=jQuery(document.createElement("td")),a=jQuery(document.createElement("td")),i=jQuery(document.createElement("td")),o=jQuery(document.createElement("td"));jQuery(document.createElement("b")).attr({title:L10n.get("savesLabelAuto"),"aria-label":L10n.get("savesLabelAuto")}).text("A").appendTo(n),t.autosave?(a.append(e("load","ui-close",L10n.get("savesLabelLoad"),"auto",function(){jQuery(document).one(":dialogclose",function(){return Save.autosave.load()})})),jQuery(document.createElement("div")).text(t.autosave.title).appendTo(i),jQuery(document.createElement("div")).addClass("datestamp").html(t.autosave.date?L10n.get("savesSavedOn")+" "+new Date(t.autosave.date).toLocaleString():L10n.get("savesSavedOn")+" <em>"+L10n.get("savesUnknownDate")+"</em>").appendTo(i),o.append(e("delete",null,L10n.get("savesLabelDelete"),"auto",function(){Save.autosave.delete(),c()}))):(a.append(e("load",null,L10n.get("savesLabelLoad"),"auto")),jQuery(document.createElement("em")).text(L10n.get("savesEmptySlot")).appendTo(i),i.addClass("empty"),o.append(e("delete",null,L10n.get("savesLabelDelete"),"auto"))),jQuery(document.createElement("tr")).append(n).append(a).append(i).append(o).appendTo(r)}for(var s=0,u=t.slots.length;s<u;++s){var l=jQuery(document.createElement("td")),d=jQuery(document.createElement("td")),f=jQuery(document.createElement("td")),p=jQuery(document.createElement("td"));l.append(document.createTextNode(s+1)),t.slots[s]?(d.append(e("load","ui-close",L10n.get("savesLabelLoad"),s,function(e){jQuery(document).one(":dialogclose",function(){return Save.slots.load(e)})})),jQuery(document.createElement("div")).text(t.slots[s].title).appendTo(f),jQuery(document.createElement("div")).addClass("datestamp").html(t.slots[s].date?L10n.get("savesSavedOn")+" "+new Date(t.slots[s].date).toLocaleString():L10n.get("savesSavedOn")+" <em>"+L10n.get("savesUnknownDate")+"</em>").appendTo(f),p.append(e("delete",null,L10n.get("savesLabelDelete"),s,function(e){Save.slots.delete(e),c()}))):(d.append(e("save","ui-close",L10n.get("savesLabelSave"),s,Save.slots.save)),jQuery(document.createElement("em")).text(L10n.get("savesEmptySlot")).appendTo(f),f.addClass("empty"),p.append(e("delete",null,L10n.get("savesLabelDelete"),s))),jQuery(document.createElement("tr")).append(l).append(d).append(f).append(p).appendTo(r)}return jQuery(document.createElement("table")).attr("id","saves-list").append(r)}var n=jQuery(Dialog.setup(L10n.get("savesTitle"),"saves")),a=Save.ok();if(a&&n.append(r()),a||Has.fileAPI){var i=jQuery(document.createElement("ul")).addClass("buttons").appendTo(n);return Has.fileAPI&&(i.append(e("export","ui-close",L10n.get("savesLabelExport"),function(){return Save.export()})),i.append(e("import",null,L10n.get("savesLabelImport"),function(){return n.find("#saves-import-file").trigger("click")})),jQuery(document.createElement("input")).css({display:"block",visibility:"hidden",position:"fixed",left:"-9999px",top:"-9999px",width:"1px",height:"1px"}).attr({type:"file",id:"saves-import-file",tabindex:-1,"aria-hidden":!0}).on("change",function(e){jQuery(document).one(":dialogclose",function(){return Save.import(e)}),Dialog.close()}).appendTo(n)),a&&i.append(e("clear",null,L10n.get("savesLabelClear"),Save.autosave.has()||!Save.slots.isEmpty()?function(){
Save.clear(),c()}:null)),!0}return t(L10n.get("savesIncapable")),!1}function d(){var e=jQuery(Dialog.setup(L10n.get("settingsTitle"),"settings"));return Setting.forEach(function(t){if(t.type===Setting.Types.Header){var r=t.name,n=Util.slugify(r),a=jQuery(document.createElement("div")),i=jQuery(document.createElement("h2")),o=jQuery(document.createElement("p"));return a.attr("id","header-body-"+n).append(i).append(o).appendTo(e),i.attr("id","header-heading-"+n).wiki(r),void o.attr("id","header-label-"+n).wiki(t.label)}var s=t.name,u=Util.slugify(s),l=jQuery(document.createElement("div")),c=jQuery(document.createElement("label")),d=jQuery(document.createElement("div")),f=void 0;switch(l.attr("id","setting-body-"+u).append(c).append(d).appendTo(e),c.attr({id:"setting-label-"+u,for:"setting-control-"+u}).wiki(t.label),null==settings[s]&&(settings[s]=t.default),t.type){case Setting.Types.Toggle:f=jQuery(document.createElement("button")),settings[s]?f.addClass("enabled").text(L10n.get("settingsOn")):f.text(L10n.get("settingsOff")),f.ariaClick(function(){settings[s]?(jQuery(this).removeClass("enabled").text(L10n.get("settingsOff")),settings[s]=!1):(jQuery(this).addClass("enabled").text(L10n.get("settingsOn")),settings[s]=!0),Setting.save(),t.hasOwnProperty("onChange")&&t.onChange.call({name:s,value:settings[s],default:t.default})});break;case Setting.Types.List:f=jQuery(document.createElement("select"));for(var p=0,h=t.list.length;p<h;++p)jQuery(document.createElement("option")).val(p).text(t.list[p]).appendTo(f);f.val(t.list.indexOf(settings[s])).attr("tabindex",0).on("change",function(){settings[s]=t.list[Number(this.value)],Setting.save(),t.hasOwnProperty("onChange")&&t.onChange.call({name:s,value:settings[s],default:t.default,list:t.list})})}f.attr("id","setting-control-"+u).appendTo(d)}),e.append('<ul class="buttons">'+('<li><button id="settings-ok" class="ui-close">'+L10n.get(["settingsOk","ok"])+"</button></li>")+('<li><button id="settings-reset">'+L10n.get("settingsReset")+"</button></li>")+"</ul>").find("#settings-reset").ariaClick({one:!0},function(){jQuery(document).one(":dialogclose",function(){Setting.reset(),window.location.reload()}),Dialog.close()}),!0}function f(){try{jQuery(Dialog.setup(L10n.get("shareTitle"),"share list")).append(e("StoryShare"))}catch(e){return console.error(e),Alert.error("StoryShare",e.message),!1}return!0}return Object.freeze(Object.defineProperties({},{assembleLinkList:{value:e},alert:{value:t},jumpto:{value:r},restart:{value:n},saves:{value:a},settings:{value:i},share:{value:o},buildAutoload:{value:s},buildJumpto:{value:u},buildRestart:{value:l},buildSaves:{value:c},buildSettings:{value:d},buildShare:{value:f},stow:{value:function(){return UIBar.stow()}},unstow:{value:function(){return UIBar.unstow()}},setStoryElements:{value:function(){return UIBar.setStoryElements()}},isOpen:{value:function(){return Dialog.isOpen.apply(Dialog,arguments)}},body:{value:function(){return Dialog.body()}},setup:{value:function(){return Dialog.setup.apply(Dialog,arguments)}},addClickHandler:{value:function(){return Dialog.addClickHandler.apply(Dialog,arguments)}},open:{value:function(){return Dialog.open.apply(Dialog,arguments)}},close:{value:function(){return Dialog.close.apply(Dialog,arguments)}},resize:{value:function(){return Dialog.resize()}},buildDialogAutoload:{value:s},buildDialogJumpto:{value:u},buildDialogRestart:{value:l},buildDialogSaves:{value:c},buildDialogSettings:{value:d},buildDialogShare:{value:f},buildLinkListFromPassage:{value:e}}))}(),UIBar=function(){function e(){o||document.getElementById("ui-bar")||(!function(){var e=L10n.get("uiBarToggle"),t=L10n.get("uiBarBackward"),r=L10n.get("uiBarJumpto"),n=L10n.get("uiBarForward");jQuery(document.createDocumentFragment()).append('<div id="ui-bar"><div id="ui-bar-tray">'+('<button id="ui-bar-toggle" tabindex="0" title="'+e+'" aria-label="'+e+'"></button>')+'<div id="ui-bar-history">'+('<button id="history-backward" tabindex="0" title="'+t+'" aria-label="'+t+'"></button>')+('<button id="history-jumpto" tabindex="0" title="'+r+'" aria-label="'+r+'"></button>')+('<button id="history-forward" tabindex="0" title="'+n+'" aria-label="'+n+'"></button>')+'</div></div><div id="ui-bar-body"><header id="title" role="banner"><div id="story-banner"></div><h1 id="story-title"></h1><div id="story-subtitle"></div><div id="story-title-separator"></div><p id="story-author"></p></header><div id="story-caption"></div><nav id="menu" role="navigation"><ul id="menu-story"></ul><ul id="menu-core">'+('<li id="menu-item-saves"><a tabindex="0">'+L10n.get("savesTitle")+"</a></li>")+('<li id="menu-item-settings"><a tabindex="0">'+L10n.get("settingsTitle")+"</a></li>")+('<li id="menu-item-restart"><a tabindex="0">'+L10n.get("restartTitle")+"</a></li>")+('<li id="menu-item-share"><a tabindex="0">'+L10n.get("shareTitle")+"</a></li>")+"</ul></nav></div></div>").insertBefore("#store-area")}(),jQuery(document).on(":historyupdate.ui-bar",function(e,t){return function(){e.prop("disabled",State.length<2),t.prop("disabled",State.length===State.size)}}(jQuery("#history-backward"),jQuery("#history-forward"))))}function t(){if(!o){var e=jQuery("#ui-bar");("boolean"==typeof Config.ui.stowBarInitially?Config.ui.stowBarInitially:jQuery(window).width()<=Config.ui.stowBarInitially)&&!function(){var t=jQuery(e).add("#story");t.addClass("no-transition"),e.addClass("stowed"),setTimeout(function(){return t.removeClass("no-transition")},Engine.minDomActionDelay)}(),jQuery("#ui-bar-toggle").ariaClick({label:L10n.get("uiBarToggle")},function(){return e.toggleClass("stowed")}),Config.history.controls?(jQuery("#history-backward").prop("disabled",State.length<2).ariaClick({label:L10n.get("uiBarBackward")},function(){return Engine.backward()}),Story.lookup("tags","bookmark").length>0?jQuery("#history-jumpto").ariaClick({label:L10n.get("uiBarJumpto")},function(){return UI.jumpto()}):jQuery("#history-jumpto").remove(),jQuery("#history-forward").prop("disabled",State.length===State.size).ariaClick({label:L10n.get("uiBarForward")},function(){return Engine.forward()})):jQuery("#ui-bar-history").remove(),jQuery("#story-title").text(Story.title),Story.has("StoryCaption")||jQuery("#story-caption").remove(),Story.has("StoryMenu")||jQuery("#menu-story").remove(),Config.ui.updateStoryElements||i(),Dialog.addClickHandler("#menu-item-saves a",null,UI.buildSaves).text(L10n.get("savesTitle")),Setting.isEmpty()?jQuery("#menu-item-settings").remove():Dialog.addClickHandler("#menu-item-settings a",null,UI.buildSettings).text(L10n.get("settingsTitle")),Dialog.addClickHandler("#menu-item-restart a",null,UI.buildRestart).text(L10n.get("restartTitle")),Story.has("StoryShare")?Dialog.addClickHandler("#menu-item-share a",null,UI.buildShare).text(L10n.get("shareTitle")):jQuery("#menu-item-share").remove()}}function r(){o||(jQuery(document).off(".ui-bar"),jQuery("#ui-bar").remove(),jQuery(document.head).find("#style-ui-bar").remove(),Config.ui.updateStoryElements=!1,o=!0)}function n(){o||jQuery("#ui-bar").addClass("stowed")}function a(){o||jQuery("#ui-bar").removeClass("stowed")}function i(){if(!o){setPageElement("story-banner","StoryBanner"),setPageElement("story-subtitle","StorySubtitle"),setPageElement("story-author","StoryAuthor"),setPageElement("story-caption","StoryCaption");var e=document.getElementById("menu-story");if(null!==e&&(jQuery(e).empty(),Story.has("StoryMenu")))try{UI.assembleLinkList("StoryMenu",e)}catch(e){console.error(e),Alert.error("StoryMenu",e.message)}}}var o=!1;return Object.freeze(Object.defineProperties({},{init:{value:e},start:{value:t},destroy:{value:r},stow:{value:n},unstow:{value:a},setStoryElements:{value:i}}))}(),LoadScreen=function(){function e(){jQuery(document).on("readystatechange.SugarCube",function(){o.size>0||("complete"===document.readyState?"loading"===jQuery(document.documentElement).attr("data-init")&&(Config.loadDelay>0?setTimeout(function(){0===o.size&&r()},Math.max(Engine.minDomActionDelay,Config.loadDelay)):r()):n())})}function t(){jQuery(document).off("readystatechange.SugarCube"),o.clear(),r()}function r(){jQuery(document.documentElement).removeAttr("data-init")}function n(){jQuery(document.documentElement).attr("data-init","loading")}function a(){return++s,o.add(s),n(),s}function i(e){if(null==e)throw new Error("LoadScreen.unlock called with a null or undefined ID");o.has(e)&&o.delete(e),0===o.size&&jQuery(document).trigger("readystatechange")}var o=new Set,s=0;return Object.freeze(Object.defineProperties({},{init:{value:e},clear:{value:t},hide:{value:r},show:{value:n},lock:{value:a},unlock:{value:i}}))}(),version=Object.freeze({title:"SugarCube",major:2,minor:21,patch:0,prerelease:null,build:8137,date:new Date("2017-12-05T14:45:09.718Z"),extensions:{},toString:function(){var e=this.prerelease?"-"+this.prerelease:"";return this.major+"."+this.minor+"."+this.patch+e+"+"+this.build},short:function(){var e=this.prerelease?"-"+this.prerelease:"";return this.title+" (v"+this.major+"."+this.minor+"."+this.patch+e+")"},long:function(){return this.title+" v"+this.toString()+" ("+this.date.toUTCString()+")"}}),TempState={},macros={},postdisplay={},postrender={},predisplay={},prehistory={},prerender={},session=null,settings={},setup={},storage=null,browser=Browser,config=Config,has=Has,History=State,state=State,tale=Story,TempVariables=State.temporary;window.SugarCube={},jQuery(function(){try{var e=LoadScreen.lock();LoadScreen.init(),document.normalize&&document.normalize(),Story.load(),storage=SimpleStore.create(Story.domId,!0),session=SimpleStore.create(Story.domId,!1),Dialog.init(),UIBar.init(),Engine.init(),Story.init(),L10n.init(),session.has("rcWarn")||"cookie"!==storage.name||(session.set("rcWarn",1),window.alert(L10n.get("warningNoWebStorage"))),Save.init(),Setting.init(),Macro.init(),Engine.start(),UIBar.start(),window.SugarCube={Browser:Browser,Config:Config,Dialog:Dialog,DebugView:DebugView,Engine:Engine,Has:Has,L10n:L10n,Macro:Macro,Passage:Passage,Save:Save,Scripting:Scripting,Setting:Setting,SimpleAudio:SimpleAudio,State:State,Story:Story,UI:UI,UIBar:UIBar,Util:Util,Wikifier:Wikifier,macros:macros,session:session,settings:settings,setup:setup,storage:storage,version:version},LoadScreen.unlock(e)}catch(e){return console.error(e),LoadScreen.clear(),Alert.fatal(null,e.message,e)}})}(window,window.document,jQuery);}
	</script>
</body>
</html>
